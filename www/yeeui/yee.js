/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/yee.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/module/mover.js":
/*!*****************************!*\
  !*** ./src/module/mover.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nlet oldPoint = null;\nlet moveFunc = null;\nlet endFunc = null;\nlet doc = $(document);\nlet mover = {\n    start: function (ev, move, end = null) {\n        oldPoint = { left: ev.pageX, top: ev.pageY };\n        moveFunc = move;\n        endFunc = end;\n        ev.stopPropagation();\n    }\n};\ndoc.on('mousemove', function (ev) {\n    if (oldPoint == null || moveFunc == null) {\n        return;\n    }\n    let newPoint = { left: ev.pageX, top: ev.pageY };\n    moveFunc(oldPoint, newPoint);\n});\ndoc.on('mouseup', function (ev) {\n    moveFunc = null;\n    if (typeof (endFunc) == 'function') {\n        endFunc(ev);\n    }\n    oldPoint = null;\n    endFunc = null;\n});\nmodule.exports = mover;\n//# sourceMappingURL=mover.js.map\n\n//# sourceURL=webpack:///./src/module/mover.js?");

/***/ }),

/***/ "./src/module/yee-ajax.js":
/*!********************************!*\
  !*** ./src/module/yee-ajax.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yee_1 = __webpack_require__(/*! ../yee */ \"./src/yee.js\");\nclass YeeAjax {\n    constructor(elem, setting = {}) {\n        let qel = this.qel = $(elem);\n        this.setting = setting;\n        let that = this;\n        //链接\n        if (qel.is('a')) {\n            qel.on('click', function (ev) {\n                if (ev.result === false) {\n                    return false;\n                }\n                let setting = that.setting = yee_1.Yee.getElemData(qel, 'Ajax');\n                let url = setting.url || $(this).attr('href');\n                let method = setting.method || 'get';\n                let info = yee_1.Yee.parseUrl(url);\n                that.send(info.path, info.param, method);\n                return false;\n            });\n        }\n        //表单\n        else if (qel.is('form')) {\n            qel.on('submit', function (ev) {\n                if (ev.result === false) {\n                    return false;\n                }\n                let setting = that.setting = yee_1.Yee.getElemData(qel, 'Ajax');\n                let method = (qel.attr('method') || 'GET').toUpperCase();\n                let action = qel.attr('action') || window.location.href;\n                if (method == 'GET') {\n                    let info = yee_1.Yee.parseUrl(action);\n                    action = info.path;\n                }\n                let sendData = qel.serialize();\n                that.send(action, sendData, method);\n                return false;\n            });\n        }\n        //输入框\n        else if (qel.is(':input')) {\n            let noBack = qel.data('noBack') || false;\n            let oldVal = qel.val();\n            qel.on('focus', function () {\n                oldVal = qel.val();\n            });\n            let event = qel.is('select') ? 'change' : 'blur';\n            qel.on(event, function (ev) {\n                if (ev.result === false) {\n                    return false;\n                }\n                let val = qel.val();\n                if (!noBack) {\n                    if (val == '') {\n                        qel.val(oldVal);\n                        return;\n                    }\n                    if (val == oldVal) {\n                        return;\n                    }\n                }\n                let setting = that.setting = yee_1.Yee.getElemData(qel, 'Ajax');\n                let url = qel.attr('data-url');\n                let method = setting.method || 'get';\n                let info = yee_1.Yee.parseUrl(url);\n                let boxName = qel.attr('name') || '';\n                if (boxName) {\n                    info.param[boxName] = val;\n                }\n                that.send(info.path, info.param, method);\n                return false;\n            });\n        }\n        //监听事件-------------\n        if (qel.attr('on-success')) {\n            let code = qel.attr('on-success');\n            let func = new Function('ev', 'ret', code);\n            // @ts-ignore\n            qel.on('success', func);\n        }\n        if (qel.attr('on-fail')) {\n            let code = qel.attr('on-fail');\n            let func = new Function('ev', 'ret', code);\n            // @ts-ignore\n            qel.on('fail', func);\n        }\n        if (qel.attr('on-back')) {\n            let code = qel.attr('on-back');\n            let func = new Function('ev', 'ret', code);\n            // @ts-ignore\n            qel.on('back', func);\n        }\n        if (qel.attr('on-before')) {\n            let code = qel.attr('on-before');\n            let func = new Function('ev', 'option', code);\n            // @ts-ignore\n            qel.on('before', func);\n        }\n    }\n    send(path, param, method) {\n        let setting = this.setting;\n        let qel = this.qel;\n        if (qel.is('.disabled') || qel.is(':disabled')) {\n            return false;\n        }\n        let data = {\n            path: path,\n            param: param,\n            method: method,\n            cache: true\n        };\n        if (setting['carry']) {\n            let along = $(setting['carry']);\n            if (along.length > 0) {\n                along.each(function (idx, el) {\n                    let qel = $(el);\n                    if (!qel.is(':input')) {\n                        return;\n                    }\n                    let name = qel.attr('name') || qel.attr('id') || '';\n                    if (name == '') {\n                        return;\n                    }\n                    let val = qel.val() || '';\n                    if (qel.is(':radio')) {\n                        let name2 = qel.attr('name');\n                        let form = qel.parents('form:first');\n                        let box = form.find(':radio[name=\"' + name2 + '\"]:checked');\n                        val = box.val() || '';\n                    }\n                    if (qel.is(':checkbox')) {\n                        val = qel.is(':checked') ? qel.val() : '';\n                    }\n                    data.param[name] = val;\n                });\n            }\n        }\n        //提交之前的数据，可能修正\n        // @ts-ignore\n        if (qel.emit('before', data) === false) {\n            return false;\n        }\n        //表单提交后返回的url\n        let backUrl = setting.backUrl || '';\n        let loadTimeout = setting.loadTimeout || 0; //提交遮罩超时时间\n        let layerIndex = null;\n        if (qel.is('form')) {\n            //如果是表单 存在 __BACK__ 的字段单作返回url\n            if (backUrl == '' && qel.find(\":input[name='__BACK__']\").length > 0) {\n                backUrl = qel.find(\":input[name='__BACK__']\").val() || '';\n            }\n        }\n        //如果设置遮住时间\n        if (loadTimeout > 0) {\n            layerIndex = yee_1.Yee.load(1, {\n                shade: [0.1, '#FFF'],\n                time: loadTimeout\n            });\n        }\n        //提交数据\n        $.ajax({\n            type: data.method,\n            url: data.path,\n            data: data.param,\n            cache: data.cache,\n            dataType: 'json',\n            success: function (ret) {\n                //关闭遮住层\n                if (layerIndex !== null) {\n                    yee_1.Yee.close(layerIndex);\n                    layerIndex = null;\n                }\n                if (!ret) {\n                    return;\n                }\n                // @ts-ignore\n                if (qel.emit('back', ret) === false) {\n                    return;\n                }\n                //失败处理----------\n                if (ret.status === false) {\n                    //如果是表单\n                    if (qel.is('form')) {\n                        // @ts-ignore\n                        if (ret.formError && typeof (qel.showError) == 'function') {\n                            // @ts-ignore\n                            qel.showError(ret.formError);\n                        }\n                        // @ts-ignore\n                        if (qel.emit('fail', ret) === false) {\n                            return;\n                        }\n                        if (!ret.formError && ret.msg && typeof (ret.msg) === 'string') {\n                            yee_1.Yee.alert(ret.msg, { icon: 7 }, function (idx) {\n                                yee_1.Yee.close(idx);\n                            });\n                        }\n                    }\n                    else {\n                        // @ts-ignore\n                        if (qel.emit('fail', ret) === false) {\n                            return;\n                        }\n                        if (setting.alert !== void 0 && setting.alert) {\n                            if (ret.msg && typeof (ret.msg) === 'string') {\n                                yee_1.Yee.alert(ret.msg, { icon: 7 }, function (idx) {\n                                    yee_1.Yee.close(idx);\n                                });\n                            }\n                        }\n                        else {\n                            if (ret.msg && typeof (ret.msg) === 'string') {\n                                yee_1.Yee.msg(ret.msg, { icon: 0, time: 2000 });\n                            }\n                        }\n                    }\n                }\n                //拉取数据成功--------\n                if (ret.status === true) {\n                    // @ts-ignore\n                    if (qel.emit('success', ret) === false) {\n                        return;\n                    }\n                    if (ret.msg && typeof (ret.msg) === 'string') {\n                        yee_1.Yee.msg(ret.msg, { icon: 1, time: 1000 });\n                    }\n                    if (typeof (ret.back) === 'undefined' && backUrl != '') {\n                        ret.back = backUrl;\n                    }\n                }\n                //有跳转的数据---\n                if (typeof (ret.back) !== 'undefined' && ret.back !== null) {\n                    let goFunc = function () {\n                        let a = $('<a style=\"display: none\"><span></span></a>').attr('href', ret.back).appendTo(document.body);\n                        a.find('span').trigger('click');\n                        a.remove();\n                    };\n                    if (ret.status === true && ret.msg) {\n                        window.setTimeout(goFunc, 1000);\n                    }\n                    else if (ret.status === false && ret.msg) {\n                        window.setTimeout(goFunc, 2000);\n                    }\n                    else {\n                        goFunc();\n                    }\n                }\n            },\n            error: function (xhr) {\n                if (layerIndex !== null) {\n                    yee_1.Yee.close(layerIndex);\n                    layerIndex = null;\n                }\n                yee_1.Yee.msg('数据提交超时!', { icon: 0, time: 2000 });\n            }\n        });\n        return false;\n    }\n    ;\n}\nYeeAjax.clickTimeout = null;\nexports.YeeAjax = YeeAjax;\n//# sourceMappingURL=yee-ajax.js.map\n\n//# sourceURL=webpack:///./src/module/yee-ajax.js?");

/***/ }),

/***/ "./src/module/yee-choice.js":
/*!**********************************!*\
  !*** ./src/module/yee-choice.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yee_1 = __webpack_require__(/*! ../yee */ \"./src/yee.js\");\nclass YeeChoice {\n    constructor(elem, setting = {}) {\n        let qel = $(elem);\n        // @ts-ignore\n        let ajax = qel.instance('ajax');\n        // @ts-ignore\n        let dialog = qel.instance('dialog');\n        let name = setting.name || 'choice';\n        let getValue = function () {\n            let items = $(':checkbox:checked').filter(function () {\n                return $(this).attr('name') == name;\n            });\n            if (items.length == 0) {\n                yee_1.Yee.msg('没有选择任何选项', { icon: 0, time: 2000 });\n                return null;\n            }\n            let value = [];\n            items.each(function (_, el) {\n                value.push($(el).val() || '');\n            });\n            return value.join(',');\n        };\n        if (ajax) {\n            qel.on('before', function (ev, info) {\n                let value = getValue();\n                if (value === null) {\n                    return false;\n                }\n                info.param[name] = value;\n            });\n        }\n        else if (dialog) {\n            qel.on('openDialog', function (ev, info) {\n                let value = getValue();\n                if (value === null) {\n                    return false;\n                }\n                info.param[name] = value;\n            });\n        }\n        else {\n            qel.on('click', function () {\n                let value = getValue();\n                if (value === null) {\n                    return false;\n                }\n                let info = yee_1.Yee.parseUrl(qel.attr('href') || '');\n                info.param[name] = value;\n                let url = yee_1.Yee.toUrl(info);\n                qel.attr('href', url);\n                return true;\n            });\n        }\n    }\n}\nexports.YeeChoice = YeeChoice;\n//# sourceMappingURL=yee-choice.js.map\n\n//# sourceURL=webpack:///./src/module/yee-choice.js?");

/***/ }),

/***/ "./src/module/yee-confirm.js":
/*!***********************************!*\
  !*** ./src/module/yee-confirm.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yee_1 = __webpack_require__(/*! ../yee */ \"./src/yee.js\");\nclass YeeConfirm {\n    constructor(elem, setting) {\n        this.setting = null;\n        this.qel = null;\n        this.confirmPrevent = true;\n        this.setting = setting;\n        let qel = this.qel = $(elem);\n        let that = this;\n        if (qel.is('form')) {\n            let currentListener = qel[0].onsubmit;\n            if (currentListener) {\n                qel.on('submit', function (e) {\n                    return currentListener.call(this, e.originalEvent);\n                });\n                qel[0].onsubmit = null;\n            }\n            qel.on('submit', function (ev) {\n                if (qel.is('.disabled') || qel.is(':disabled')) {\n                    return false;\n                }\n                // @ts-ignore\n                if (qel.emit('confirm_before') === false) {\n                    return false;\n                }\n                return that.confirm(ev);\n            });\n            // @ts-ignore\n            let typeEvents = ($._data(qel[0], \"events\") || qel.data(\"events\")).submit;\n            typeEvents.unshift(typeEvents.pop());\n        }\n        else {\n            let currentListener = qel[0].onclick;\n            if (currentListener) {\n                qel.on('click', function (e) {\n                    return currentListener.call(this, e.originalEvent);\n                });\n                qel[0].onclick = null;\n            }\n            qel.on('click', function (ev) {\n                if (qel.is('.disabled') || qel.is(':disabled')) {\n                    return false;\n                }\n                // @ts-ignore\n                if (qel.emit('confirm_before') === false) {\n                    return false;\n                }\n                let ret = that.confirm(ev);\n                return ret;\n            });\n            // @ts-ignore\n            let typeEvents = ($._data(qel[0], \"events\") || qel.data(\"events\")).click;\n            typeEvents.unshift(typeEvents.pop());\n        }\n    }\n    send(opt, callback) {\n        let args = yee_1.Yee.parseUrl(opt.url);\n        args.path = args.path || window.location.pathname;\n        $.ajax({\n            type: opt.method,\n            url: args.path,\n            data: args.param,\n            cache: false,\n            dataType: 'json',\n            success: function (ret) {\n                if (ret.status == false) {\n                    if (ret.msg && typeof (ret.msg) === 'string') {\n                        yee_1.Yee.msg(ret.msg, { icon: 0, time: 3000 });\n                    }\n                    return;\n                }\n                //拉取数据成功\n                if (ret.status && ret.confirm) {\n                    callback(ret.confirm);\n                }\n                else if (ret.status && ret.msg) {\n                    callback(ret.msg);\n                }\n                else {\n                    callback();\n                }\n            }\n        });\n    }\n    redo(idx) {\n        this.confirmPrevent = false;\n        let eql = this.qel;\n        if (eql.is('a')) {\n            let p = $('<p style=\"display: none\"></p>').appendTo(eql);\n            p.trigger('click');\n            p.remove();\n        }\n        else if (eql.is('form')) {\n            eql.trigger('submit');\n        }\n        else {\n            eql.trigger('click');\n        }\n        this.confirmPrevent = true;\n        if (idx) {\n            yee_1.Yee.close(idx);\n        }\n    }\n    confirm(ev) {\n        let that = this;\n        if (!this.confirmPrevent) {\n            if (ev.result === false) {\n                return false;\n            }\n            return true;\n        }\n        ev.stopImmediatePropagation();\n        let url = this.setting['url'] || '';\n        let method = this.setting['method'] || 'get';\n        let msg = this.setting['msg'] || '询问对话框';\n        let title = this.setting['title'] || '询问对话框';\n        if (!msg && !url) {\n            return true;\n        }\n        if (!url) {\n            yee_1.Yee.confirm(msg, { title: title }, function (idx) {\n                that.redo(idx);\n            });\n        }\n        else {\n            that.send({ url: url, method: method }, function (text) {\n                text = text || msg;\n                if (text == null || text == '') {\n                    that.redo(0);\n                }\n                else {\n                    yee_1.Yee.confirm(text, { title: title }, function (idx) {\n                        that.redo(idx);\n                    });\n                }\n            });\n        }\n        return false;\n    }\n}\nexports.YeeConfirm = YeeConfirm;\n//# sourceMappingURL=yee-confirm.js.map\n\n//# sourceURL=webpack:///./src/module/yee-confirm.js?");

/***/ }),

/***/ "./src/module/yee-container.js":
/*!*************************************!*\
  !*** ./src/module/yee-container.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yee_1 = __webpack_require__(/*! ../yee */ \"./src/yee.js\");\nclass YeeContainer {\n    constructor(elem, setting = {}) {\n        this.index = 0;\n        this.template = null;\n        let qel = this.qel = $(elem);\n        let that = this;\n        this.setting = setting;\n        setting.minSize = parseInt(setting['minSize'] || 0);\n        setting.maxSize = parseInt(setting['maxSize'] || 1000);\n        setting.initSize = parseInt(setting['initSize'] || 0);\n        this.index = parseInt(setting.index || '0');\n        this.wrap = qel.find('.container-wrap');\n        if (this.wrap.find('.container-item').length > 0) {\n            setting.initSize = 0;\n        }\n        if (setting.source == null || setting.source == '') {\n            console.error('没有模板源数据!');\n            return;\n        }\n        let source = setting.source;\n        if (window.atob) {\n            that.template = decodeURIComponent(window.atob(source).split('').map(function (c) {\n                return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n            }).join(''));\n            that.init();\n        }\n        else {\n            yee_1.Yee.use('base64').then(function () {\n                // @ts-ignore\n                that.template = Base64.decode(source);\n                that.init();\n            });\n        }\n    }\n    init() {\n        let that = this;\n        let qel = this.qel;\n        let setting = this.setting;\n        let wrap = this.wrap;\n        let addBtn = qel.find('a[name=add]');\n        addBtn.on('click', function () {\n            that.addItem();\n        });\n        //删除\n        qel.on('click', 'a[name=remove]', function () {\n            if (wrap.find('.container-item').length <= setting.minSize) {\n                yee_1.Yee.alert('至少需要保留 ' + setting.minSize + ' 项。');\n                return;\n            }\n            let delItem = $(this).parents('.container-item:first');\n            yee_1.Yee.confirm('确定要删除该行了吗？', function (idx) {\n                delItem.remove();\n                that.updateIndex();\n                if (wrap.find('.container-item').length <= setting.minSize) {\n                    qel.find('a[name=remove]').hide();\n                }\n                yee_1.Yee.close(idx);\n                // @ts-ignore\n                qel.emit('update');\n            });\n        });\n        //插入\n        qel.on('click', 'a[name=insert]', function () {\n            let item = that.addItem();\n            let prev = $(this).parents('.container-item:first');\n            if (item) {\n                prev.before(item);\n            }\n            that.updateIndex();\n            // @ts-ignore\n            qel.emit('update');\n        });\n        //上移\n        qel.on('click', 'a[name=upsort]', function () {\n            let next = $(this).parents('.container-item:first');\n            let prev = next.prev('.container-item');\n            if (prev.length > 0) {\n                prev.before(next);\n            }\n            that.updateIndex();\n            // @ts-ignore\n            qel.emit('update');\n            return false;\n        });\n        //下移\n        qel.on('click', 'a[name=dnsort]', function () {\n            let prev = $(this).parents('.container-item:first');\n            let next = prev.next('.container-item');\n            if (next.length > 0) {\n                next.after(prev);\n            }\n            that.updateIndex();\n            // @ts-ignore\n            qel.emit('update');\n            return false;\n        });\n        //如果存在至少行数\n        if (setting.minSize || setting.initSize) {\n            let size = Math.max(setting.minSize, setting.initSize);\n            if (wrap.find('.container-item').length < size) {\n                for (let i = 0; i < size; i++) {\n                    that.addItem();\n                    if (wrap.find('.container-item').length >= size) {\n                        break;\n                    }\n                }\n            }\n        }\n        this.updateIndex();\n        // @ts-ignore\n        qel.emit('update');\n    }\n    addItem() {\n        if (this.template == null) {\n            return;\n        }\n        this.index++;\n        let qel = this.qel;\n        let setting = this.setting;\n        if (this.wrap.find('.container-item').length >= setting.maxSize) {\n            yee_1.Yee.alert('至多不可超过 ' + setting.maxSize + ' 项。');\n            return null;\n        }\n        let code = this.template.replace(/@@index@@/g, 'a' + this.index);\n        let item = $(code).appendTo(this.wrap);\n        if (this.wrap.find('.container-item').length > setting.minSize) {\n            qel.find('a[name=remove]').show();\n        }\n        this.updateIndex();\n        yee_1.Yee.update(item).then(function () {\n            // @ts-ignore\n            qel.emit('addItem', item);\n            // @ts-ignore\n            qel.emit('update');\n        });\n        return item;\n    }\n    updateIndex() {\n        let setting = this.setting;\n        let qel = this.qel;\n        let len = this.wrap.find('.container-item').length;\n        this.wrap.find('.container-item').each(function (idx, el) {\n            if (idx == 0) {\n                $(el).find('a[name=upsort]').hide();\n            }\n            else {\n                $(el).find('a[name=upsort]').show();\n            }\n            if (idx == len - 1) {\n                $(el).find('a[name=dnsort]').hide();\n            }\n            else {\n                $(el).find('a[name=dnsort]').show();\n            }\n            $(el).find('[name=index]').text(idx + 1);\n        });\n        if (setting.maxSize > 0 && len >= setting.maxSize) {\n            qel.find('a[name=add]').hide();\n        }\n        else {\n            qel.find('a[name=add]').show();\n        }\n    }\n}\nexports.YeeContainer = YeeContainer;\n//# sourceMappingURL=yee-container.js.map\n\n//# sourceURL=webpack:///./src/module/yee-container.js?");

/***/ }),

/***/ "./src/module/yee-datatable.js":
/*!*************************************!*\
  !*** ./src/module/yee-datatable.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst mover = __webpack_require__(/*! ./mover */ \"./src/module/mover.js\");\nconst yee_1 = __webpack_require__(/*! ../yee */ \"./src/yee.js\");\nconst yee_template_1 = __webpack_require__(/*! ./yee-template */ \"./src/module/yee-template.js\");\nclass YeeDatatable {\n    constructor(elem, setting) {\n        this.id = '';\n        this.tbName = '';\n        this.leftFixedInside = null;\n        this.rightFixedInside = null;\n        this.leftHeadFixedInside = null;\n        this.rightHeadFixedInside = null;\n        //列信息\n        this.column = [];\n        //左列固定表格\n        this.leftFixedColumn = [];\n        //右列固定表格\n        this.rightFixedColumn = [];\n        this.rightFixedInLine = false;\n        this.templates = [];\n        this.checkAllFunc = null;\n        this.lastSend = null;\n        this.isInitEvent = false;\n        this.tableBWidth = 0;\n        this.currentUrl = null;\n        this.barWrap = null;\n        this.barInside = null;\n        this.updateQueue = null;\n        /**\n         * 初始化左边固定区域\n         */\n        this.initLeftFixed = function () {\n            let setting = this.setting;\n            if (!setting.leftFixed || setting.leftFixed <= 0) {\n                return;\n            }\n            let qel = this.qel;\n            let headTable = this.headTable;\n            let that = this;\n            let column = this.column;\n            let tableInside = this.leftFixedInside;\n            let headInside = this.leftHeadFixedInside;\n            let table = null;\n            let head = null;\n            //创建表格\n            if (tableInside == null) {\n                this.leftFixedInside = tableInside = $('<div class=\"yee-datatable-left-fixed\"></div>').appendTo(that.tableOutWrap);\n                table = $('<table/>');\n                table.attr('class', qel.attr('class'));\n                table.attr('cellspacing', qel.attr('cellspacing'));\n                table.attr('cellpadding', qel.attr('cellpadding'));\n                table.attr('border', qel.attr('border'));\n                $('<colgroup></colgroup>').appendTo(table);\n                $('<tbody></tbody>').appendTo(table);\n                table.removeAttr('id');\n                table.removeAttr('yee-module');\n                table.appendTo(tableInside);\n                table.width('auto');\n            }\n            else {\n                table = tableInside.children('table');\n            }\n            //浮动头\n            if (headInside == null) {\n                this.leftHeadFixedInside = headInside = $('<div class=\"yee-datatable-left-head-fixed\"></div>').appendTo(that.tableHeader);\n                head = $('<table/>');\n                head.attr('class', qel.attr('class'));\n                head.attr('cellspacing', qel.attr('cellspacing'));\n                head.attr('cellpadding', qel.attr('cellpadding'));\n                head.attr('border', qel.attr('border'));\n                $('<thead><tr></tr></thead>').appendTo(head);\n                head.removeAttr('id');\n                head.removeAttr('yee-module');\n                head.appendTo(headInside);\n                head.width('auto');\n            }\n            else {\n                head = headInside.children('table');\n            }\n            //---------------------------\n            let thead = head.find('thead tr');\n            let colgroup = table.find('colgroup');\n            let tbody = table.find('tbody').empty();\n            let first = false;\n            if (!this.leftFixedColumn || this.leftFixedColumn.length == 0) {\n                thead.empty();\n                first = true;\n            }\n            let fixed = this.leftFixedColumn = [];\n            for (let i = 0; i < setting.leftFixed && i < column.length; i++) {\n                fixed.push(column[i]);\n            }\n            let trTpl = qel.find('tbody tr:first');\n            if (trTpl.length == 0) {\n                this.syncHeight();\n                this.updateRightFixed();\n                return;\n            }\n            //行\n            let trList = [];\n            for (let item of fixed) {\n                if (first) {\n                    let th = item.th;\n                    this.clone(th);\n                    $(th).appendTo(thead);\n                    let col = $('<col>').appendTo(colgroup);\n                    col.width(th.width());\n                }\n                let tdList = item.tdList;\n                for (let n = 0; n < tdList.length; n++) {\n                    let td = tdList[n];\n                    this.clone(td);\n                    if (trList[n] === void 0) {\n                        trList[n] = [];\n                    }\n                    trList[n].push(td);\n                }\n            }\n            for (let row of trList) {\n                let tr = trTpl.clone().empty();\n                for (let td of row) {\n                    td.appendTo(tr);\n                }\n                tr.appendTo(tbody);\n            }\n            //设置表格宽\n            let temp = 0;\n            for (let item of fixed) {\n                let cl = item.th[0]['__clone'];\n                let th = item.th;\n                temp += (cl.outerWidth(true) - th.outerWidth(true));\n            }\n            head.width(head.width() + temp);\n            table.width(table.width() + temp);\n            //处理拖动-------------\n            if (!first) {\n                that.syncWidth();\n                that.syncHeight();\n                that.updateRightFixed();\n                return;\n            }\n            for (let data of fixed) {\n                let th = data.th;\n                if (!th.get(0)['__clone'] || !setting.resize) {\n                    continue;\n                }\n                let offLeft = th[0].offsetLeft;\n                data.cover = $('<div class=\"yee-datatable-cover left-cover\"></div>').appendTo(headInside);\n                data.cover.css({\n                    left: offLeft + data.width,\n                    top: 0,\n                    height: th.outerHeight()\n                });\n                data.cover.on('mousedown', data, function (ev) {\n                    let item = ev.data;\n                    let oldWidth = item.width; //原来内宽\n                    let oldTableWidth = Math.round(headTable.width());\n                    let oldFTbWidth = Math.round(head.width());\n                    that.tableLayer.addClass('resize');\n                    mover.start(ev, function (oldPt, newPt) {\n                        let left = newPt.left - oldPt.left;\n                        let th = item.th;\n                        let width = (oldWidth - item.wBorder) + left;\n                        if (width < 30) {\n                            width = 30;\n                        }\n                        width = Math.round(width);\n                        left = width - (oldWidth - item.wBorder);\n                        //设置宽\n                        headTable.width(oldTableWidth + left);\n                        head.width(oldFTbWidth + left);\n                        table.width(oldFTbWidth + left);\n                        th.width(width); //设置宽\n                        th.get(0)['__clone'].width(width); //设置宽\n                        item.width = th.outerWidth(true); //重新获得宽\n                        left = item.width - oldWidth;\n                        headTable.width(oldTableWidth + left);\n                        let tWidth = Math.round(oldFTbWidth + left);\n                        head.width(tWidth);\n                        table.width(tWidth);\n                        that.updateQueue = function () {\n                            that.syncWidth();\n                            that.syncHeight();\n                            that.updateRightFixed();\n                        };\n                    }, function () {\n                        that.tableLayer.removeClass('resize');\n                        that.syncWidth();\n                        that.syncHeight();\n                        that.updateRightFixed();\n                    });\n                });\n            }\n            that.syncWidth();\n            this.syncHeight();\n        };\n        /**\n         * 初始化右边固定区域\n         */\n        this.initRightFixed = function () {\n            let setting = this.setting;\n            if (!setting.rightFixed || setting.rightFixed <= 0) {\n                return;\n            }\n            let qel = this.qel;\n            let headTable = this.headTable;\n            let that = this;\n            let column = this.column;\n            let tableInside = this.rightFixedInside;\n            let headInside = this.rightHeadFixedInside;\n            let table = null;\n            let head = null;\n            //创建表格\n            if (tableInside == null) {\n                this.rightFixedInside = tableInside = $('<div class=\"yee-datatable-right-fixed\"></div>').appendTo(that.tableOutWrap);\n                table = $('<table/>');\n                table.attr('class', qel.attr('class'));\n                table.attr('cellspacing', qel.attr('cellspacing'));\n                table.attr('cellpadding', qel.attr('cellpadding'));\n                table.attr('border', qel.attr('border'));\n                $('<colgroup></colgroup>').appendTo(table);\n                $('<tbody></tbody>').appendTo(table);\n                table.removeAttr('id');\n                table.removeAttr('yee-module');\n                table.appendTo(tableInside);\n                table.width('auto');\n            }\n            else {\n                table = tableInside.children('table');\n            }\n            //创建表格\n            if (headInside == null) {\n                this.rightHeadFixedInside = headInside = $('<div class=\"yee-datatable-right-head-fixed\"></div>').appendTo(that.tableHeader);\n                head = $('<table/>');\n                head.attr('class', qel.attr('class'));\n                head.attr('cellspacing', qel.attr('cellspacing'));\n                head.attr('cellpadding', qel.attr('cellpadding'));\n                head.attr('border', qel.attr('border'));\n                $('<thead><tr></tr></thead>').appendTo(head);\n                head.removeAttr('id');\n                head.removeAttr('yee-module');\n                head.appendTo(headInside);\n                head.width('auto');\n            }\n            else {\n                head = headInside.children('table');\n            }\n            let thead = head.find('thead tr');\n            let colgroup = table.find('colgroup');\n            let tbody = table.find('tbody').empty();\n            let first = false;\n            if (!this.rightFixedColumn || this.rightFixedColumn.length == 0) {\n                thead.empty();\n                first = true;\n            }\n            let fixed = this.rightFixedColumn = [];\n            for (let i = column.length - setting.rightFixed; i < column.length; i++) {\n                fixed.push(column[i]);\n            }\n            let trTpl = qel.find('tbody tr:first');\n            if (trTpl.length == 0) {\n                this.updateRightFixed();\n                return;\n            }\n            //行\n            let trList = [];\n            for (let item of fixed) {\n                if (first) {\n                    let th = item.th;\n                    this.clone(th);\n                    $(th).appendTo(thead);\n                    let col = $('<col>').appendTo(colgroup);\n                    col.width(th.width());\n                }\n                let tdList = item.tdList;\n                for (let n = 0; n < tdList.length; n++) {\n                    let td = tdList[n];\n                    this.clone(td);\n                    if (trList[n] === void 0) {\n                        trList[n] = [];\n                    }\n                    trList[n].push(td);\n                }\n            }\n            for (let row of trList) {\n                let tr = trTpl.clone().empty();\n                for (let td of row) {\n                    td.appendTo(tr);\n                }\n                tr.appendTo(tbody);\n            }\n            //设置表格宽\n            let temp = 0;\n            for (let item of fixed) {\n                let cl = item.th[0]['__clone'];\n                let th = item.th;\n                temp += (cl.outerWidth(true) - th.outerWidth(true));\n            }\n            head.width(table.width() + temp);\n            table.width(table.width() + temp);\n            //处理拖动\n            if (!first) {\n                that.syncWidth();\n                that.syncHeight();\n                that.updateRightFixed();\n                return;\n            }\n            for (let data of fixed) {\n                let th = data.th;\n                if (!th.get(0)['__clone'] || !setting.resize) {\n                    continue;\n                }\n                let offLeft = th[0].offsetLeft;\n                data.cover = $('<div class=\"yee-datatable-cover\"></div>').appendTo(headInside);\n                if (this.rightFixedInLine) {\n                    data.cover.css({\n                        left: offLeft + data.width,\n                        top: 0,\n                        height: th.outerHeight()\n                    });\n                }\n                else {\n                    data.cover.css({\n                        left: offLeft,\n                        top: 0,\n                        height: th.outerHeight()\n                    });\n                }\n                data.cover.on('mousedown', data, function (ev) {\n                    let item = ev.data;\n                    let oldWidth = item.width; //原来内宽\n                    let oldTableWidth = headTable.width();\n                    let oldFTbWidth = head.width();\n                    that.tableLayer.addClass('resize');\n                    mover.start(ev, function (oldPt, newPt) {\n                        let left = oldPt.left - newPt.left;\n                        let th = item.th;\n                        if (that.rightFixedInLine) {\n                            left = -left;\n                        }\n                        let width = (oldWidth - item.wBorder) + left;\n                        if (width < 30) {\n                            width = 30;\n                        }\n                        left = width - (oldWidth - item.wBorder);\n                        //设置宽\n                        headTable.width(oldTableWidth + left);\n                        head.width(oldFTbWidth + left);\n                        table.width(oldFTbWidth + left);\n                        th.width(width); //设置宽\n                        th.get(0)['__clone'].width(width);\n                        item.width = th.outerWidth(true); //重新获得宽\n                        left = item.width - oldWidth;\n                        headTable.width(oldTableWidth + left);\n                        head.width(oldFTbWidth + left);\n                        table.width(oldFTbWidth + left);\n                        that.syncWidth();\n                        that.syncHeight();\n                        that.updateRightFixed();\n                    }, function () {\n                        that.tableLayer.removeClass('resize');\n                        that.syncWidth();\n                        that.syncHeight();\n                        that.updateRightFixed();\n                    });\n                });\n            }\n            that.syncWidth();\n            this.syncHeight();\n            this.updateRightFixed();\n        };\n        let qel = this.qel = $(elem);\n        let that = this;\n        this.id = (function () {\n            let id = qel.attr('id') || YeeDatatable.getNextId();\n            if (!qel.attr('id')) {\n                qel.attr('id', id);\n            }\n            return id;\n        })();\n        this.setting = setting;\n        if (setting.leftFixed) {\n            setting.leftFixed = parseInt(setting.leftFixed);\n        }\n        if (setting.rightFixed) {\n            setting.rightFixed = parseInt(setting.rightFixed);\n        }\n        if (setting.resize) {\n            qel.addClass('yee-datatable-resize');\n        }\n        qel.find('[yee-template]').each(function (_, it) {\n            let tplId = $(it).data('tplId') || '';\n            if (it.getAttribute('yee-template') == 'vue') {\n                that.templates.push(new yee_template_1.YeeTemplate(it, {\n                    engine: 'vue',\n                    tplId: tplId,\n                    define: { list: [], pageInfo: [], other: {} }\n                }));\n            }\n            else {\n                that.templates.push(new yee_template_1.YeeTemplate(it, {\n                    tplId: tplId,\n                }));\n            }\n        });\n        if (!setting.url) {\n            setting.autoUrl = 1;\n            if (/\\/$/.test(String(window.location.pathname))) {\n                setting.url = window.location.pathname + 'index.json' + window.location.search;\n            }\n            else {\n                setting.url = window.location.pathname + '.json' + window.location.search;\n            }\n        }\n        let args = yee_1.Yee.parseUrl(setting.url);\n        this.lastSend = {\n            url: args.path,\n            data: args.param\n        };\n        this.tbName = setting.tbname || (window.location.pathname + '') + '/dt-' + this.id;\n        qel.attr('name', this.tbName);\n        //添加外围元素---\n        qel.wrap('<div class=\"yee-datatable-main-layer\"></div>');\n        this.tableMainLayer = qel.parent('.yee-datatable-main-layer');\n        qel.wrap('<div class=\"yee-datatable-layer\"></div>');\n        this.tableLayer = qel.parent('.yee-datatable-layer');\n        qel.wrap('<div class=\"yee-datatable-out-wrap\"></div>');\n        this.tableOutWrap = qel.parent('.yee-datatable-out-wrap');\n        qel.wrap('<div class=\"yee-datatable-wrap\"></div>');\n        this.tableWrap = qel.parent('.yee-datatable-wrap');\n        qel.wrap('<div class=\"yee-datatable-inside\"></div>');\n        this.tableInside = qel.parent('.yee-datatable-inside');\n        //头部\n        this.tableHeader = $('<div class=\"yee-datatable-header\"></div>').prependTo(this.tableLayer);\n        this.headWrap = $('<div class=\"yee-datatable-head-wrap\"></div>').appendTo(this.tableHeader);\n        this.headInside = $('<div class=\"yee-datatable-head-inside\"></div>').appendTo(this.headWrap);\n        if (!this.setting.resize) {\n            this.tableOutWrap.css('margin-top', 0);\n            this.tableHeader.hide();\n        }\n        //拖动条\n        this.barWrap = $('<div class=\"yee-datatable-bar-wrap\"></div>').appendTo(this.tableMainLayer);\n        this.barInside = $('<div class=\"yee-datatable-bar-inside\"></div>').appendTo(this.barWrap);\n        this.initHeader();\n        this.initCacheSize();\n        if (setting.autoLoad) {\n            this.load(setting.url, null, setting.showMessage || false).then(function () {\n                that.init();\n            });\n        }\n        else {\n            that.init();\n        }\n        qel.on('reload', function (ev, showMessage) {\n            that.reload(showMessage).then(function () {\n                that.init();\n            });\n        });\n        qel.on('reset', function (ev, showMessage) {\n            that.reset(showMessage).then(function () {\n                that.init();\n            });\n        });\n        qel.on('setHeight', function (ev, height) {\n            that.tableLayer.height(height);\n            that.tableOutWrap.height(height - 40);\n            if (that.setting.resize) {\n                that.syncWidth();\n                that.syncHeight();\n                that.updateRightFixed();\n            }\n        });\n        qel.on('load', function (ev, url = null, prams = {}, showMessage = false) {\n            that.load(url, prams, showMessage).then(function () {\n                that.init();\n            });\n        });\n    }\n    static getNextId() {\n        let id = 'yee-dt-' + YeeDatatable.index++;\n        while (document.getElementById(id)) {\n            id = 'yee-dt-' + YeeDatatable.index++;\n        }\n        return id;\n    }\n    //获取缓存\n    static getStorage(name) {\n        if (window.localStorage && YeeDatatable.storage) {\n            return YeeDatatable.storage[name] || null;\n        }\n        return null;\n    }\n    //保存\n    static saveStorage(name, value) {\n        if (window.localStorage) {\n            if (!YeeDatatable.storage) {\n                YeeDatatable.storage = {};\n            }\n            YeeDatatable.storage[name] = value;\n            window.localStorage.dataTableCache = JSON.stringify(YeeDatatable.storage);\n        }\n        return null;\n    }\n    init() {\n        this.initColumn();\n        this.initLeftFixed();\n        this.initRightFixed();\n        this.initEvent();\n        this.syncWidth();\n        let that = this;\n        setInterval(function () {\n            if (that.updateQueue !== null) {\n                that.updateQueue();\n                that.updateQueue = null;\n            }\n        }, 50);\n    }\n    //初始化缓存中的尺寸\n    initCacheSize() {\n        let headTable = this.headTable;\n        let setting = this.setting;\n        let that = this;\n        //可以调整尺寸的\n        if (setting.resize) {\n            headTable.removeAttr('width');\n            headTable.css({ 'width': 'auto' });\n            let thRows = headTable.find('thead th');\n            let data = YeeDatatable.getStorage(this.tbName);\n            //先调整最大\n            let outW = Math.round(headTable.outerWidth(true) + 10000);\n            this.headInside.width(outW);\n            this.tableInside.width(outW);\n            for (let i = 0; i < thRows.length; i++) {\n                let th = thRows.eq(i);\n                if (setting.resize && data && data[i]) {\n                    th.width(Math.round(data[i]));\n                }\n                else {\n                    th.width(Math.round(th.width()));\n                }\n                th.removeAttr('width');\n            }\n            let inW = Math.round(headTable.width());\n            headTable.width(inW);\n            this.qel.width(inW);\n            this.tableInside.width('auto');\n            this.headInside.width('auto');\n            this.barInside.width(headTable.width() + 10);\n            that.syncWidth();\n        }\n        else {\n            let thRows = that.qel.find('thead th');\n            let maxWTh = null; // 最长的一列清除长度\n            let allHasWidth = true; //所有列都有宽度,如果都设置了宽，就取消最长那个\n            for (let i = 0; i < thRows.length; i++) {\n                let th = thRows.eq(i);\n                if ((setting.leftFixed > 0 && i < setting.leftFixed) || (setting.rightFixed > 0 && i >= thRows.length - setting.rightFixed)) {\n                    th.width(Math.round(th.width()));\n                    th.removeAttr('width');\n                    continue;\n                }\n                if (!th.attr('width')) {\n                    allHasWidth = false;\n                }\n                let width = Math.round(th.width());\n                if (maxWTh == null) {\n                    maxWTh = { width: width, th: th };\n                }\n                else {\n                    if (width > maxWTh.width) {\n                        maxWTh = { width: width, th: th };\n                    }\n                }\n            }\n            if (allHasWidth && maxWTh) {\n                maxWTh.th.css('width', 'auto');\n                maxWTh.th.removeAttr('width');\n            }\n        }\n    }\n    saveCacheSize() {\n        let setting = this.setting;\n        if (!setting.resize) {\n            return;\n        }\n        let data = [];\n        for (let item of this.column) {\n            let width = Math.round(item.width - item.wBorder);\n            data.push(width);\n        }\n        YeeDatatable.saveStorage(this.tbName, data);\n    }\n    initEvent() {\n        let that = this;\n        let qel = this.qel;\n        //如果是第一次初始化\n        if (!this.isInitEvent) {\n            $(window).on('resize', function () {\n                that.updateRightFixed();\n            });\n        }\n        let trList = qel.find('tbody tr');\n        trList.on('mouseenter', function () {\n            $(this).addClass('hover');\n            that.syncBackground(0);\n        });\n        trList.on('mouseleave', function () {\n            $(this).removeClass('hover');\n            that.syncBackground(0);\n        });\n        trList.on('click', function () {\n            trList.removeClass('selected');\n            $(this).addClass('selected');\n            that.syncBackground(0);\n        });\n        if (this.leftFixedInside) {\n            let trList2 = this.leftFixedInside.find('tbody tr');\n            trList2.on('mouseenter', function () {\n                $(this).addClass('hover');\n                that.syncBackground(1);\n            });\n            trList2.on('mouseleave', function () {\n                $(this).removeClass('hover');\n                that.syncBackground(1);\n            });\n            trList2.on('click', function () {\n                trList2.removeClass('selected');\n                $(this).addClass('selected');\n                that.syncBackground(1);\n            });\n        }\n        if (this.rightFixedInside) {\n            let trList3 = this.rightFixedInside.find('tbody tr');\n            trList3.on('mouseenter', function () {\n                $(this).addClass('hover');\n                that.syncBackground(2);\n            });\n            trList3.on('mouseleave', function () {\n                $(this).removeClass('hover');\n                that.syncBackground(2);\n            });\n            trList3.on('click', function () {\n                trList3.removeClass('selected');\n                $(this).addClass('selected');\n                that.syncBackground(2);\n            });\n        }\n        //如果之前没有初始化\n        if (!this.isInitEvent) {\n            if (this.checkAllFunc == null) {\n                this.checkAllFunc = function () {\n                    let checkBtn = $(this);\n                    let table = checkBtn.parents('table:first');\n                    let th = checkBtn.parents('th:first');\n                    let index = -1;\n                    let checked = checkBtn.prop('checked');\n                    table.find('thead th').each(function (idx, item) {\n                        if (item == th.get(0)) {\n                            index = idx;\n                            return false;\n                        }\n                    });\n                    if (index >= 0) {\n                        let slTable = that.leftFixedInside == null ? that.qel : that.leftFixedInside.find('table');\n                        slTable.find('tbody tr').each(function (_, trElem) {\n                            let box = $(trElem).find('td').eq(index).find(':checkbox');\n                            box.prop('checked', checked);\n                        });\n                    }\n                };\n            }\n            //设置全选\n            for (let item of this.column) {\n                let checkBtn = item.th.find(':checkbox');\n                if (checkBtn.length > 0) {\n                    if (that.checkAllFunc) {\n                        checkBtn.off('click', that.checkAllFunc);\n                    }\n                    checkBtn.on('click', that.checkAllFunc);\n                }\n            }\n        }\n        this.isInitEvent = true;\n        setTimeout(function () {\n            that.reDrawCover();\n        }, 10);\n    }\n    /**\n     * 同步背景样式\n     * @param type\n     */\n    syncBackground(type = 0) {\n        let qel = this.qel;\n        let that = this;\n        //从原来的同步到两边\n        if (type == 0) {\n            qel.find('tbody tr').each(function (idx, trElem) {\n                let tr = $(trElem);\n                let css = tr.attr('class') || null;\n                if (that.leftFixedInside) {\n                    let ctr = that.leftFixedInside.find('tbody tr').eq(idx);\n                    if (css) {\n                        ctr.attr('class', css);\n                    }\n                    else {\n                        ctr.removeAttr('class');\n                    }\n                }\n                if (that.rightFixedInside) {\n                    let ctr = that.rightFixedInside.find('tbody tr').eq(idx);\n                    if (css) {\n                        ctr.attr('class', css);\n                    }\n                    else {\n                        ctr.removeAttr('class');\n                    }\n                }\n            });\n        }\n        //从左边的同步到两边\n        else if (type == 1 && that.leftFixedInside) {\n            that.leftFixedInside.find('tbody tr').each(function (idx, trElem) {\n                let tr = $(trElem);\n                let css = tr.attr('class') || null;\n                if (that.rightFixedInside) {\n                    let ctr = that.rightFixedInside.find('tbody tr').eq(idx);\n                    if (css) {\n                        ctr.attr('class', css);\n                    }\n                    else {\n                        ctr.removeAttr('class');\n                    }\n                }\n                let ctr = qel.find('tbody tr').eq(idx);\n                if (css) {\n                    ctr.attr('class', css);\n                }\n                else {\n                    ctr.removeAttr('class');\n                }\n            });\n        }\n        else if (type == 2 && that.rightFixedInside) {\n            that.rightFixedInside.find('tbody tr').each(function (idx, trElem) {\n                let tr = $(trElem);\n                let css = tr.attr('class') || null;\n                if (that.leftFixedInside) {\n                    let ctr = that.leftFixedInside.find('tbody tr').eq(idx);\n                    if (css) {\n                        ctr.attr('class', css);\n                    }\n                    else {\n                        ctr.removeAttr('class');\n                    }\n                }\n                let ctr = qel.find('tbody tr').eq(idx);\n                if (css) {\n                    ctr.attr('class', css);\n                }\n                else {\n                    ctr.removeAttr('class');\n                }\n            });\n        }\n    }\n    //初始化列宽信息\n    initColumn() {\n        let setting = this.setting;\n        let qel = this.qel;\n        let headTable = this.headTable;\n        let that = this;\n        //装入行\n        let trRows = qel.find('tbody tr');\n        if (this.column && this.column.length > 0) {\n            let len = this.column.length;\n            for (let i = 0; i < len; i++) {\n                let data = this.column[i];\n                data.tdList = [];\n                trRows.each(function (_, elem) {\n                    let tdCols = $(elem).find('td');\n                    if (tdCols.length != len) {\n                        return;\n                    }\n                    let td = tdCols.eq(i);\n                    if (i == 0) {\n                        data.td = td;\n                    }\n                    data.tdList.push(td);\n                });\n            }\n            that.syncWidth();\n            that.syncHeight();\n            that.updateRightFixed();\n            return;\n        }\n        //同步滚动条\n        this.barWrap.on('scroll', function (ev) {\n            let scollL = $(this).scrollLeft();\n            that.tableWrap.scrollLeft(scollL);\n            if (that.headWrap) {\n                that.headWrap.scrollLeft(scollL);\n            }\n        });\n        let thRows = null;\n        if (that.headTable) {\n            thRows = this.headTable.find('thead th');\n            for (let item of this.column) {\n                if (item.cover) {\n                    item.cover.remove();\n                }\n            }\n        }\n        else {\n            thRows = this.qel.find('thead th');\n        }\n        //排序相关\n        let orderFunc = function () {\n            let thItem = $(this);\n            let name = thItem.data('order');\n            qel.find('thead th').not(thItem).removeClass('down').removeClass('up');\n            if (that.leftFixedInside) {\n                that.leftFixedInside.find('table thead th').not(thItem).removeClass('down').removeClass('up');\n            }\n            if (that.rightFixedInside) {\n                that.rightFixedInside.find('table thead th').not(thItem).removeClass('down').removeClass('up');\n            }\n            if (thItem.is('.down')) {\n                thItem.removeClass('down').addClass('up');\n                // @ts-ignore\n                qel.emit('order', { name: name, order: 1 });\n            }\n            else {\n                thItem.removeClass('up').addClass('down');\n                // @ts-ignore\n                qel.emit('order', { name: name, order: -1 });\n            }\n        };\n        let tableWidth = 0;\n        this.column = [];\n        for (let i = 0; i < thRows.length; i++) {\n            let th = thRows.eq(i);\n            let data = {\n                width: 0,\n                inWidth: 0,\n                wBorder: 0,\n                th: th,\n                td: null,\n                tdList: [],\n                cover: null,\n                fixed: 0\n            };\n            //装入TD列\n            trRows.each(function (_, elem) {\n                let tdCols = $(elem).find('td');\n                if (tdCols.length != thRows.length) {\n                    return;\n                }\n                let td = tdCols.eq(i);\n                if (i == 0) {\n                    data.td = td;\n                }\n                data.tdList.push(td);\n            });\n            //Order\n            if (th.data('order')) {\n                th.addClass('order');\n                th.on('click', orderFunc);\n            }\n            data.width = Math.round(th.outerWidth(true));\n            data.inWidth = Math.round(th.width());\n            data.wBorder = data.width - data.inWidth;\n            tableWidth += data.width; //计算宽\n            let offLeft = th[0].offsetLeft;\n            if (setting.leftFixed > 0 && i < setting.leftFixed) {\n                data.fixed = 1;\n            }\n            else if (setting.rightFixed > 0 && i >= thRows.length - setting.rightFixed) {\n                data.fixed = 2;\n            }\n            else if (setting.resize) {\n                data.cover = $('<div class=\"yee-datatable-cover\"></div>').appendTo(this.headInside);\n                data.cover.css({\n                    left: offLeft + data.width,\n                    top: 0,\n                    height: th.outerHeight()\n                });\n                data.cover.on('mousedown', i, function (ev) {\n                    let item = that.column[ev.data];\n                    if (item.fixed) {\n                        return false;\n                    }\n                    let oldTableWidth = Math.round(headTable.width());\n                    let oldWidth = item.width;\n                    that.tableLayer.addClass('resize');\n                    mover.start(ev, function (oldPt, newPt) {\n                        let th = item.th;\n                        let left = newPt.left - oldPt.left;\n                        let width = (oldWidth - item.wBorder) + left;\n                        if (width < 30) {\n                            width = 30;\n                        }\n                        width = Math.round(width);\n                        left = width - (oldWidth - item.wBorder);\n                        //console.log('width1', oldTableWidth + left);\n                        //先尝试缩小\n                        headTable.width(oldTableWidth + left);\n                        th.width(width); //设置宽\n                        item.width = th.outerWidth(true); //重新获得宽\n                        let tWidth = Math.round(oldTableWidth + item.width - oldWidth);\n                        headTable.width(tWidth);\n                        that.updateQueue = function () {\n                            that.syncWidth();\n                            that.syncHeight();\n                            that.updateRightFixed();\n                        };\n                    }, function () {\n                        setTimeout(function () {\n                            that.tableLayer.removeClass('resize');\n                            that.syncWidth();\n                            that.syncHeight();\n                            that.updateRightFixed();\n                        }, 10);\n                    });\n                });\n            }\n            this.column.push(data);\n        }\n        if (headTable) {\n            this.tableBWidth = headTable.width() - tableWidth;\n        }\n        else {\n            this.tableBWidth = qel.width() - tableWidth;\n        }\n    }\n    /**\n     * 获取选中数据\n     * @param name\n     */\n    getCheckData(name = null) {\n        let values = [];\n        for (let item of this.column) {\n            let checkBtn = item.th.find(':checkbox');\n            if (checkBtn.length > 0) {\n                for (let td of item.tdList) {\n                    let box = td.find(':checkbox:checked');\n                    if (name && box.attr('name') != name) {\n                        continue;\n                    }\n                    if (box.val()) {\n                        values.push(box.val());\n                    }\n                }\n            }\n        }\n        return values;\n    }\n    //重绘覆盖层\n    reDrawCover() {\n        let that = this;\n        let column = this.column;\n        for (let item of column) {\n            if (item.cover !== null) {\n                let offLeft = item.th[0].offsetLeft;\n                if (!this.rightFixedInLine && item.fixed == 2) {\n                    item.cover.css({\n                        left: offLeft,\n                    });\n                    item.cover.addClass('right-cover');\n                }\n                else {\n                    item.cover.css({\n                        left: offLeft + item.width,\n                    });\n                    if (item.fixed == 2) {\n                        item.cover.removeClass('right-cover');\n                    }\n                }\n            }\n        }\n        this.saveCacheSize();\n    }\n    syncWidth() {\n        if (!this.headTable) {\n            return;\n        }\n        this.qel.width(this.headTable.width());\n        let setting = this.setting;\n        let leftFixedItem = null;\n        let rightFixedItem = null;\n        let tdItem = this.qel.find('colgroup col');\n        let thItem = this.headTable.find('thead tr').find('th');\n        if (setting.leftFixed && setting.leftFixed > 0 && this.leftFixedInside != null) {\n            leftFixedItem = this.leftFixedInside.find('colgroup col');\n        }\n        let offset = 0;\n        if (setting.rightFixed && setting.rightFixed > 0 && this.rightFixedInside != null) {\n            rightFixedItem = this.rightFixedInside.find('colgroup col');\n            offset = thItem.length - rightFixedItem.length;\n        }\n        thItem.each(function (idx, element) {\n            let th = $(element);\n            let width = Math.round(th.width());\n            tdItem.eq(idx).width(width);\n            th.width(width);\n            if (element['__clone']) {\n                element['__clone'].width(width);\n            }\n            if (leftFixedItem && leftFixedItem.length > idx) {\n                leftFixedItem.eq(idx).width(width);\n            }\n            if (rightFixedItem && rightFixedItem.length > 0 && idx >= offset) {\n                rightFixedItem.eq(idx - offset).width(width);\n            }\n        });\n        let scrollWidth = this.tableOutWrap.outerWidth(true) - this.tableWrap.outerWidth();\n        if (scrollWidth > 15) {\n            scrollWidth = 15;\n        }\n        if (leftFixedItem && leftFixedItem.length > 0) {\n            let hTable = this.leftHeadFixedInside.find('table');\n            let hWidth = Math.round(hTable.width());\n            hTable.width(hWidth);\n            let outWidth = Math.round(hTable.outerWidth());\n            let rTable = this.leftFixedInside.find('table');\n            rTable.width(hWidth);\n            let border = (hWidth - outWidth) / 2;\n            hTable.css('margin-left', border + 'px');\n            this.leftFixedInside.width(rTable.outerWidth(true));\n            this.leftHeadFixedInside.width((hWidth + outWidth) / 2);\n        }\n        if (rightFixedItem && rightFixedItem.length > 0) {\n            let hTable = this.rightHeadFixedInside.find('table');\n            let hWidth = Math.round(hTable.width());\n            hTable.width(hWidth);\n            let outWidth = Math.round(hTable.outerWidth());\n            let rTable = this.rightFixedInside.find('table');\n            rTable.width(hWidth);\n            this.rightFixedInside.width(rTable.outerWidth(true));\n            this.rightHeadFixedInside.width(outWidth + scrollWidth);\n        }\n        this.tableInside.css({ 'padding-right': scrollWidth + 'px' });\n        this.headInside.css({ 'padding-right': scrollWidth + 'px' });\n        this.barInside.css({ 'padding-right': scrollWidth + 'px' });\n    }\n    //同步高度\n    syncHeight() {\n        let column = this.column;\n        let first = column[0];\n        let last = column[column.length - 1];\n        if (first && first.th.get(0) && first.th.get(0)['__clone']) {\n            first.th.height(first.th.get(0)['__clone'].height());\n            for (let td of first.tdList) {\n                if (td.get(0) && td.get(0)['__clone']) {\n                    td.height(td.get(0)['__clone'].height());\n                }\n            }\n        }\n        if (last && last.th.get(0) && last.th.get(0)['__clone']) {\n            last.th.height(last.th.get(0)['__clone'].height());\n            for (let td of last.tdList) {\n                if (td.get(0) && td.get(0)['__clone']) {\n                    td.height(td.get(0)['__clone'].height());\n                }\n            }\n        }\n        let width = this.qel.width();\n        this.barInside.width(width + 10);\n    }\n    /**\n     * 克隆\n     * @param qe\n     */\n    clone(qe) {\n        let elem = qe.get(0);\n        if (elem) {\n            let cp = elem['__clone'] = qe.clone();\n            cp.css({ 'pointer-events': 'none' });\n            // th.replaceWith(cp); 3.3.1 jq 存在替换节点会删除原来事件\n            qe.parent().get(0).replaceChild(cp.get(0), elem);\n        }\n    }\n    initHeader() {\n        if (!this.setting.resize) {\n            return;\n        }\n        let qel = this.qel;\n        let table = this.headTable;\n        if (this.headTable == null) {\n            table = $('<table/>');\n            table.attr('class', qel.attr('class'));\n            table.attr('cellspacing', qel.attr('cellspacing'));\n            table.attr('cellpadding', qel.attr('cellpadding'));\n            table.attr('border', qel.attr('border'));\n            let thead = this.qel.find('thead');\n            thead.appendTo(table);\n            table.removeAttr('id');\n            table.removeAttr('yee-module');\n            table.appendTo(this.headInside);\n            table.width('auto');\n            this.headTable = table;\n        }\n        let colgroup = $('<colgroup></colgroup>').prependTo(this.qel);\n        let thItem = this.headTable.find('thead tr').find('th');\n        thItem.each(function (idx, element) {\n            let width = Math.round($(element).width());\n            $('<col>').width(width).appendTo(colgroup);\n        });\n    }\n    /**\n     * 更新右边\n     * @param offset\n     */\n    updateRightFixed() {\n        let qel = this.qel;\n        let tableLayer = this.tableLayer;\n        let width = qel.outerWidth(true);\n        let layWidth = tableLayer.width();\n        if (width > layWidth) {\n            if (this.rightFixedInside !== null && this.rightHeadFixedInside !== null) {\n                this.rightFixedInside.css({ right: 0, left: 'auto' });\n                this.rightHeadFixedInside.css({ right: 0, left: 'auto' });\n            }\n            this.rightFixedInLine = false;\n        }\n        else {\n            if (this.rightFixedInside !== null && this.rightHeadFixedInside !== null) {\n                let right = width - this.rightFixedInside.outerWidth();\n                this.rightFixedInside.css({ left: right, right: 'auto' });\n                this.rightHeadFixedInside.css({ left: right, right: 'auto' });\n            }\n            this.rightFixedInLine = true;\n        }\n        this.reDrawCover();\n    }\n    /**\n     * 渲染数据\n     * @param source\n     */\n    render(source) {\n        let qel = this.qel;\n        let that = this;\n        let deferred = $.Deferred();\n        if (this.templates.length == 0) {\n            // @ts-ignore\n            qel.emit('render', source, that.currentUrl);\n            deferred.resolve();\n            return deferred;\n        }\n        let list = [];\n        if (source.list && yee_1.Yee.isArray(source.list)) {\n            list = source.list;\n        }\n        else if (yee_1.Yee.isArray(source)) {\n            list = source;\n        }\n        // @ts-ignore\n        let data = qel.emit('filter', list);\n        if (data !== void 0) {\n            list = data;\n        }\n        for (let i = 0; i < list.length; i++) {\n            // @ts-ignore\n            let item = qel.emit('filterItem', list[i]);\n            if (item !== void 0) {\n                if (item !== void 0) {\n                    list[i] = item;\n                }\n            }\n        }\n        let deferredList = [];\n        for (let template of this.templates) {\n            let deferred2 = $.Deferred();\n            template.render({ list: list, pageInfo: source.pageInfo || {} }).then(function () {\n                yee_1.Yee.update(template.parent()).then(function () {\n                    deferred2.resolve();\n                });\n            });\n            deferredList.push(deferred2);\n        }\n        if (deferredList.length == 0) {\n            // @ts-ignore\n            qel.emit('render', source, that.currentUrl);\n            deferred.resolve();\n        }\n        else {\n            $.when.apply($, deferredList).then(function () {\n                // @ts-ignore\n                qel.emit('render', source, that.currentUrl);\n                deferred.resolve();\n            });\n        }\n        return deferred;\n    }\n    /**\n     * 加载\n     * @param url\n     * @param showMessage\n     * @param param\n     */\n    load(url = null, param = {}, showMessage = false) {\n        let deferred = $.Deferred();\n        let qel = this.qel;\n        let that = this;\n        url = url || this.setting.url;\n        let method = this.setting.method || 'get';\n        let args = yee_1.Yee.parseUrl(url);\n        args.path = args.path || window.location.pathname;\n        for (let key in param) {\n            args.param[key] = param[key];\n        }\n        this.lastSend = {\n            url: args.path,\n            data: args.param\n        };\n        $.ajax({\n            type: method,\n            url: args.path,\n            data: args.param,\n            cache: false,\n            dataType: 'json',\n            success: function (ret) {\n                //拉取数据成功\n                if (ret.status === true) {\n                    if (showMessage && ret.msg && typeof (ret.msg) === 'string') {\n                        yee_1.Yee.msg(ret.msg, { icon: 1, time: 1000 });\n                    }\n                    that.currentUrl = yee_1.Yee.toUrl(args);\n                    that.render(ret).then(function () {\n                        // @ts-ignore\n                        qel.emit('success', ret, that.currentUrl);\n                        deferred.resolve(ret, that.currentUrl);\n                    });\n                }\n                //拉取数据错误\n                if (ret.status === false) {\n                    if (ret.msg && typeof (ret.msg) === 'string') {\n                        yee_1.Yee.msg(ret.msg, { icon: 0, time: 2000 });\n                    }\n                    // @ts-ignore\n                    qel.emit('error', ret);\n                    deferred.reject();\n                }\n            }\n        });\n        return deferred;\n    }\n    reload(showMessage = false) {\n        if (this.lastSend) {\n            return this.load(this.lastSend.url, this.lastSend.data, showMessage);\n        }\n        return $.Deferred().resolve();\n    }\n    reset(showMessage = false) {\n        return this.load(this.setting.url, null, showMessage);\n    }\n}\nYeeDatatable.index = 0;\n//本地缓存\nYeeDatatable.storage = (function () {\n    if (window.localStorage && window.localStorage.dataTableCache) {\n        try {\n            return JSON.parse(window.localStorage.dataTableCache);\n        }\n        catch (e) {\n            return {};\n        }\n    }\n    return null;\n})();\nexports.YeeDatatable = YeeDatatable;\n//# sourceMappingURL=yee-datatable.js.map\n\n//# sourceURL=webpack:///./src/module/yee-datatable.js?");

/***/ }),

/***/ "./src/module/yee-delay-select.js":
/*!****************************************!*\
  !*** ./src/module/yee-delay-select.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yee_1 = __webpack_require__(/*! ../yee */ \"./src/yee.js\");\nclass YeeDelaySelect {\n    constructor(elem, setting) {\n        this.qel = null;\n        this.setting = null;\n        this.setting = setting;\n        let qel = this.qel = $(elem);\n        let that = this;\n        qel.on('change', function () {\n            let selected = qel.children(':selected');\n            if (selected.length > 0) {\n                qel.data('value', selected[0].value);\n            }\n        });\n        let has = false;\n        let value = qel.data('value') || null;\n        qel.find('option').each(function (_, el) {\n            let opt = $(el);\n            opt.prop('selected', false);\n            if (opt.val() == value) {\n                opt.prop('selected', true);\n                has = true;\n            }\n        });\n        if (!has && value !== null) {\n            let ot = new Option(value, value);\n            ot.selected = true;\n            qel[0].add(ot);\n        }\n        qel.on('update', function (ev, option, value) {\n            that.update(option, value);\n        });\n        if (setting.source) {\n            if (typeof (setting.source) == 'string') {\n                let method = setting.method || 'get';\n                method = method.toLocaleLowerCase();\n                $[method](setting.source, function (ret) {\n                    if (ret.status === true && ret.data) {\n                        that.update(ret.data);\n                    }\n                    else {\n                        yee_1.Yee.alert('无法加载远程数据！');\n                    }\n                }, 'json');\n            }\n            else if (yee_1.Yee.isArray(setting.source)) {\n                that.update(setting.source);\n            }\n        }\n    }\n    initItem(items, value = null) {\n        let qel = this.qel;\n        let element = qel.get(0);\n        value = value === null ? qel.data('value') || '' : value;\n        if (items !== null && yee_1.Yee.isArray(items)) {\n            let has = false;\n            for (let item of items) {\n                let opt = {};\n                if (typeof (item) === 'number' || typeof (item) === 'string') {\n                    opt.value = item;\n                    opt.text = item;\n                }\n                else {\n                    if (typeof (item.value) !== 'undefined') {\n                        opt.value = item.value;\n                    }\n                    else if (typeof (item[0]) !== 'undefined') {\n                        opt.value = item[0];\n                    }\n                    else {\n                        continue;\n                    }\n                    if (typeof (item.text) !== 'undefined') {\n                        opt.text = item.text;\n                    }\n                    else if (typeof (item[1]) !== 'undefined') {\n                        opt.text = item[1];\n                    }\n                    else {\n                        opt.text = opt.value;\n                    }\n                }\n                if (element.length == 1 && (opt.value === null || opt.value === '')) {\n                    element.length = 0;\n                    opt.value = '';\n                }\n                let option = new Option(opt.text, opt.value);\n                element.add(option);\n                if (value == opt.value) {\n                    option.selected = true;\n                    has = true;\n                }\n            }\n            if (!has) {\n                qel.data('value', '');\n            }\n        }\n    }\n    update(items, value = null) {\n        let qel = this.qel;\n        let element = qel.get(0);\n        element.length = 0;\n        let header = this.setting.header || '';\n        //添加头部\n        if (header) {\n            if (typeof header == 'string') {\n                element.add(new Option(header, ''));\n            }\n            else if (typeof header == 'object' && header.text) {\n                element.add(new Option(header.text, header.value || ''));\n            }\n            else if (yee_1.Yee.isArray(header) && header.length >= 2) {\n                element.add(new Option(header[1], header[0]));\n            }\n        }\n        this.initItem(items, value);\n    }\n}\nexports.YeeDelaySelect = YeeDelaySelect;\n//# sourceMappingURL=yee-delay-select.js.map\n\n//# sourceURL=webpack:///./src/module/yee-delay-select.js?");

/***/ }),

/***/ "./src/module/yee-dialog.js":
/*!**********************************!*\
  !*** ./src/module/yee-dialog.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yee_1 = __webpack_require__(/*! ../yee */ \"./src/yee.js\");\nclass YeeDialog {\n    constructor(elem = null) {\n        let qel = $(elem);\n        if (qel.attr('on-success')) {\n            let code = qel.attr('on-success');\n            let func = new Function('ev', 'ret', code);\n            // @ts-ignore\n            qel.on('success', func);\n        }\n        if (qel.attr('on-fail')) {\n            let code = qel.attr('on-fail');\n            let func = new Function('ev', 'ret', code);\n            // @ts-ignore\n            qel.on('fail', func);\n        }\n        if (qel.attr('on-close')) {\n            let code = qel.attr('on-close');\n            let func = new Function('ev', 'ret', code);\n            // @ts-ignore\n            qel.on('closeDialog', func);\n        }\n        if (qel.attr('on-open')) {\n            let code = qel.attr('on-open');\n            let func = new Function('ev', code);\n            // @ts-ignore\n            qel.on('openDialog', func);\n        }\n        qel.on('click', function (ev) {\n            let qel = $(this);\n            if (qel.is('.disabled') || qel.is(':disabled')) {\n                return false;\n            }\n            let setting = yee_1.Yee.getElemData(qel, 'Dialog');\n            setting = $.extend({ height: 720, width: 1060 }, setting);\n            let url = setting.url || qel.attr('href');\n            let title = qel.attr('title') || '网页对话框';\n            //夹带参数\n            if (setting['carry']) {\n                let along = $(setting['carry']);\n                if (along.length > 0) {\n                    let args = yee_1.Yee.parseUrl(url);\n                    args.path = args.path || window.location.pathname;\n                    setting.path = args.path;\n                    along.each(function (idx, el) {\n                        let qel = $(el);\n                        if (!qel.is(':input')) {\n                            return;\n                        }\n                        let name = qel.attr('name') || qel.attr('id') || '';\n                        if (name == '') {\n                            return;\n                        }\n                        let val = qel.val() || '';\n                        if (qel.is(':radio')) {\n                            let name2 = qel.attr('name');\n                            let form = qel.parents('form:first');\n                            let box = form.find(':radio[name=\"' + name2 + '\"]:checked');\n                            val = box.val() || '';\n                        }\n                        if (qel.is(':checkbox')) {\n                            val = qel.is(':checked') ? qel.val() : '';\n                        }\n                        args.param[name] = val;\n                    });\n                    url = yee_1.Yee.toUrl(args);\n                }\n            }\n            delete setting['carry'];\n            let info = yee_1.Yee.parseUrl(url);\n            info.hash = '#dialog';\n            //console.log(info);\n            // @ts-ignore\n            let ret = qel.emit('openDialog', info);\n            if (ret === false) {\n                return false;\n            }\n            url = yee_1.Yee.toUrl(info);\n            //console.log(url);\n            yee_1.Yee.dialog(url, title, setting, window, qel);\n            ev.preventDefault();\n            return false;\n        });\n    }\n    static open(url, title = '网页对话框', setting = {}, callWindow = window, elem = null) {\n        setting.width = setting.width || 1060;\n        setting.height = setting.height || 720;\n        let winW = $(window).width() - 20;\n        let winH = $(window).height() - 20;\n        setting.width = setting.width > winW ? winW : setting.width;\n        setting.height = setting.height > winH ? winH : setting.height;\n        setting.autoSize = setting.autoSize === void 0 ? false : setting.autoSize;\n        setting.anim = setting.anim === void 0 ? 0 : setting.anim;\n        let dialogWindow = null;\n        let iframe = null;\n        let state = 'restore';\n        let windowHeight = 0;\n        let timer = null;\n        let layIndex = layer.open({\n            type: 2,\n            title: title,\n            // @ts-ignore\n            anim: setting.anim,\n            area: [setting.width + 'px', setting.height + 'px'],\n            maxmin: setting.maxmin === void 0 ? true : setting.maxmin,\n            content: url,\n            //关闭触发消息\n            end: function () {\n                let data = null;\n                if (timer) {\n                    window.clearInterval(timer);\n                    timer = null;\n                }\n                if (dialogWindow && dialogWindow.returnValue !== void 0) {\n                    data = dialogWindow.returnValue;\n                }\n                if (elem) {\n                    // @ts-ignore\n                    elem.emit('closeDialog', data);\n                }\n                // @ts-ignore 给原来的窗口发送一个消息\n                if (callWindow.Yee) {\n                    // @ts-ignore\n                    callWindow.Yee.emit('closeDialog', data);\n                }\n                if (iframe != null) {\n                    iframe.remove();\n                    iframe = null;\n                }\n            },\n            full: function () {\n                state = 'full';\n                if (iframe) {\n                    iframe.css('height', '100%');\n                }\n            },\n            min: function () {\n                state = 'min';\n            },\n            restore: function () {\n                state = 'restore';\n            },\n            success: function (layero, index) {\n                dialogWindow = null;\n                iframe = layero.find('iframe');\n                if (iframe.length > 0) {\n                    let winName = iframe[0].name;\n                    dialogWindow = window[winName];\n                }\n                if (dialogWindow) {\n                    if (!(dialogWindow.document.title === null || dialogWindow.document.title === '')) {\n                        layer.title(dialogWindow.document.title, index);\n                    }\n                    // console.log(setting.autoSize, dialogWindow, dialogWindow.document.body);\n                    if (setting.autoSize && dialogWindow.document.body) {\n                        dialogWindow.document.body.style.overflowY = 'hidden';\n                        timer = window.setInterval(function () {\n                            let body = dialogWindow.document.body;\n                            if (!body) {\n                                if (timer) {\n                                    window.clearInterval(timer);\n                                    timer = null;\n                                }\n                                return;\n                            }\n                            let height = body.clientHeight;\n                            if (height != windowHeight) {\n                                windowHeight = height;\n                                if (state == 'restore') {\n                                    layer.iframeAuto(index);\n                                }\n                            }\n                        }, 50);\n                    }\n                    else {\n                        if (iframe) {\n                            timer = window.setInterval(function () {\n                                if (iframe == null) {\n                                    window.clearInterval(timer);\n                                    return;\n                                }\n                                iframe.css({ height: '100%' });\n                            }, 10);\n                        }\n                    }\n                    let handle = {\n                        emitParent(event, ...data) {\n                            // @ts-ignore\n                            if (callWindow.Yee) {\n                                // @ts-ignore\n                                callWindow.Yee.emit(event, ...data);\n                            }\n                        },\n                        emit(event, ...data) {\n                            if (elem) {\n                                // @ts-ignore\n                                elem.emit(event, ...data);\n                            }\n                        },\n                        success(...data) {\n                            if (elem) {\n                                // @ts-ignore\n                                elem.emit('success', ...data);\n                            }\n                        },\n                        fail(...data) {\n                            if (elem) {\n                                // @ts-ignore\n                                elem.emit('fail', ...data);\n                            }\n                        },\n                        close() {\n                            layer.close(layIndex);\n                        },\n                        state() {\n                            return state;\n                        },\n                        iframeAuto() {\n                            if (state == 'restore') {\n                                layer.iframeAuto(index);\n                            }\n                        },\n                        assign: setting.assign || null,\n                        callWindow: callWindow,\n                        elem: elem,\n                        index: index,\n                        layer: layer\n                    };\n                    dialogWindow.dialogHandle = handle;\n                }\n            }\n        });\n        return layIndex;\n    }\n    /**\n     * 异步获得句柄\n     */\n    static dialogHandle() {\n        let deferred = $.Deferred();\n        let getHandle = function () {\n            if (window['dialogHandle']) {\n                return deferred.resolve(window['dialogHandle']);\n            }\n            setTimeout(getHandle, 1);\n        };\n        getHandle();\n        return deferred;\n    }\n}\nYeeDialog.readyFunc = [];\nexports.YeeDialog = YeeDialog;\n//# sourceMappingURL=yee-dialog.js.map\n\n//# sourceURL=webpack:///./src/module/yee-dialog.js?");

/***/ }),

/***/ "./src/module/yee-dynamic.js":
/*!***********************************!*\
  !*** ./src/module/yee-dynamic.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yee_1 = __webpack_require__(/*! ../yee */ \"./src/yee.js\");\nclass YeeDynamic {\n    static hasValue(arr, value) {\n        if (typeof value == 'string' || typeof value == 'number' || typeof value == 'boolean') {\n            for (let val of arr) {\n                if (val == value) {\n                    return true;\n                }\n            }\n            return false;\n        }\n        else {\n            for (let val of arr) {\n                if (JSON.stringify(val) == JSON.stringify(value)) {\n                    return true;\n                }\n            }\n            return false;\n        }\n    }\n    static dynamic(type, names) {\n        if (typeof names == 'string') {\n            names = [names];\n        }\n        for (let name of names) {\n            let rowId = ('#row_' + name).replace(/(:|\\.)/g, '\\\\$1');\n            let boxId = ('#' + name).replace(/(:|\\.)/g, '\\\\$1');\n            switch (type) {\n                case 'show':\n                    $(rowId).show();\n                    $(rowId + ' :input').data('v@disabled', false);\n                    break;\n                case 'hide':\n                    $(rowId).hide();\n                    $(rowId + ' :input').data('v@disabled', true);\n                    if (typeof ($(rowId + ' :input')['setDefault']) == 'function') {\n                        $(rowId + ' :input')['setDefault']();\n                    }\n                    break;\n                case 'on':\n                    $(boxId).data('v@disabled', false);\n                    break;\n                case 'off':\n                    $(boxId).data('v@disabled', true);\n                    if (typeof $(boxId)['setDefault'] == 'function') {\n                        $(boxId)['setDefault']();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n    }\n    constructor(elem, setting = {}) {\n        this.qel = $(elem);\n        this.setting = setting;\n        this.init();\n    }\n    dynamicItem(item) {\n        //显示\n        if (item.show !== void 0) {\n            YeeDynamic.dynamic('show', item.show);\n        }\n        //隐藏\n        if (item.hide !== void 0) {\n            YeeDynamic.dynamic('hide', item.hide);\n        }\n        //关闭验证\n        if (item['off-val'] !== void 0) {\n            YeeDynamic.dynamic('off', item['off']);\n        }\n        //开启验证\n        if (item['on-val'] !== void 0) {\n            YeeDynamic.dynamic('on', item['on']);\n        }\n    }\n    notifyBind() {\n        let setting = this.setting;\n        if (setting['bind']) {\n            let bind = $(setting['bind']);\n            if (bind.is(':visible')) {\n                bind.triggerHandler('dynamic');\n            }\n        }\n    }\n    initCheckBox() {\n        let setting = this.setting;\n        let qel = this.qel;\n        let name = qel.attr('name');\n        let form = qel.parents('form:first');\n        let items = form.find(':input[name=\"' + name + '\"]');\n        let that = this;\n        let timer = null;\n        let initEvent = function () {\n            let data = setting.dynamic || null;\n            let checked = form.find(':input[name=\"' + name + '\"]:checked');\n            if (yee_1.Yee.isArray(data)) {\n                for (let item of data) {\n                    //相等\n                    if (item.eq !== void 0) {\n                        $(checked).each(function (_, elm) {\n                            let val = $(elm).val() || '';\n                            if (item.eq == val) {\n                                that.dynamicItem(item);\n                                return false;\n                            }\n                        });\n                    }\n                    //不相等\n                    if (item.neq !== void 0) {\n                        let neq = true;\n                        $(checked).each(function (_, elm) {\n                            let val = $(elm).val() || '';\n                            if (item.neq == val) {\n                                neq = false;\n                                return false;\n                            }\n                        });\n                        if (neq) {\n                            that.dynamicItem(item);\n                        }\n                    }\n                    //包含\n                    if (item.in !== void 0 && yee_1.Yee.isArray(item.in)) {\n                        $(checked).each(function (_, elm) {\n                            let val = $(elm).val() || '';\n                            if (YeeDynamic.hasValue(item.in, val)) {\n                                that.dynamicItem(item);\n                                return false;\n                            }\n                        });\n                    }\n                    //不包含\n                    if (item.nin !== void 0 && yee_1.Yee.isArray(item.nin)) {\n                        let nin = true;\n                        $(checked).each(function (_, elm) {\n                            let val = $(elm).val() || '';\n                            if (YeeDynamic.hasValue(item.nin, val)) {\n                                nin = false;\n                                return false;\n                            }\n                        });\n                        if (nin) {\n                            that.dynamicItem(item);\n                        }\n                    }\n                }\n            }\n            that.notifyBind();\n        };\n        items.on('click', function () {\n            if (timer) {\n                window.clearTimeout(timer);\n                timer = null;\n            }\n            timer = window.setTimeout(function () {\n                initEvent();\n            }, 10);\n        });\n        items.on('dynamic', function () {\n            if (timer) {\n                window.clearTimeout(timer);\n                timer = null;\n            }\n            initEvent();\n        });\n        initEvent();\n    }\n    init() {\n        let qel = this.qel;\n        let setting = this.setting;\n        let that = this;\n        //checkbox\n        if (qel.is(':checkbox')) {\n            return this.initCheckBox();\n        }\n        //radio\n        if (qel.is(':radio')) {\n            let name = qel.attr('name');\n            let form = qel.parents('form:first');\n            let items = form.find(':radio[name=\"' + name + '\"]');\n            items.on('click', function () {\n                qel.triggerHandler('change');\n            });\n        }\n        let timer = null;\n        let initEvent = function () {\n            let val = qel.val();\n            if (qel.is(':radio')) {\n                let name = qel.attr('name');\n                let form = qel.parents('form:first');\n                let checked = form.find(':radio[name=\"' + name + '\"]:checked');\n                val = checked.val() || '';\n            }\n            if (qel.is(':checkbox')) {\n                val = qel.is(':checked') ? true : false;\n            }\n            let data = setting.dynamic || null;\n            if (yee_1.Yee.isArray(data)) {\n                for (let k in data) {\n                    let item = data[k];\n                    if (item.eq !== void 0) {\n                        if (item.eq == val) {\n                            that.dynamicItem(item);\n                        }\n                    }\n                    if (item.neq !== void 0) {\n                        if (item.neq != val) {\n                            that.dynamicItem(item);\n                        }\n                    }\n                    if (item.in !== void 0 && yee_1.Yee.isArray(item.in)) {\n                        if (YeeDynamic.hasValue(item.nin, val)) {\n                            that.dynamicItem(item);\n                        }\n                    }\n                    if (item.nin !== void 0 && yee_1.Yee.isArray(item.nin)) {\n                        if (YeeDynamic.hasValue(item.nin, val)) {\n                            that.dynamicItem(item);\n                        }\n                    }\n                }\n            }\n            that.notifyBind();\n        };\n        qel.on('blur click change', function () {\n            if (timer) {\n                window.clearTimeout(timer);\n                timer = null;\n            }\n            timer = window.setTimeout(function () {\n                initEvent();\n            }, 10);\n        });\n        qel.on('dynamic', function () {\n            if (timer) {\n                window.clearTimeout(timer);\n                timer = null;\n            }\n            initEvent();\n        });\n        initEvent();\n    }\n}\nexports.YeeDynamic = YeeDynamic;\n//# sourceMappingURL=yee-dynamic.js.map\n\n//# sourceURL=webpack:///./src/module/yee-dynamic.js?");

/***/ }),

/***/ "./src/module/yee-event.js":
/*!*********************************!*\
  !*** ./src/module/yee-event.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass YeeEvent {\n    constructor() {\n        this.eventMap = {};\n    }\n    emit(event, ...data) {\n        if (this.eventMap[event]) {\n            let ret = true;\n            for (let i = this.eventMap[event].length - 1; i >= 0; i--) {\n                let item = this.eventMap[event][i];\n                let tmp = item.func(...data);\n                if (typeof (tmp) == 'boolean') {\n                    ret = ret && tmp;\n                }\n                if (item.once) {\n                    this.eventMap[event].splice(i, 1);\n                    if (this.eventMap[event].length == 0) {\n                        delete this.eventMap[event];\n                    }\n                }\n            }\n            return ret;\n        }\n        return true;\n    }\n    on(event, func) {\n        let events = event.split(' ');\n        for (let i = 0; i < events.length; i++) {\n            let key = events[i];\n            if (key == '') {\n                continue;\n            }\n            if (!this.eventMap[key]) {\n                this.eventMap[key] = [];\n            }\n            this.eventMap[key].push({ once: false, func: func });\n        }\n    }\n    one(event, func) {\n        let events = event.split(' ');\n        for (let i = 0; i < events.length; i++) {\n            let key = events[i];\n            if (key == '') {\n                continue;\n            }\n            if (!this.eventMap[key]) {\n                this.eventMap[key] = [];\n            }\n            this.eventMap[key].push({ once: true, func: func });\n        }\n    }\n    off(event, func = null) {\n        if (this.eventMap[event]) {\n            if (func !== null) {\n                let temp = [];\n                for (let item of this.eventMap[event]) {\n                    if (item.func !== func) {\n                        temp.push(item);\n                    }\n                }\n                this.eventMap[event] = temp;\n            }\n            else {\n                this.eventMap[event] = null;\n                delete this.eventMap[event];\n            }\n        }\n    }\n}\nexports.YeeEvent = YeeEvent;\n//# sourceMappingURL=yee-event.js.map\n\n//# sourceURL=webpack:///./src/module/yee-event.js?");

/***/ }),

/***/ "./src/module/yee-form-tab.js":
/*!************************************!*\
  !*** ./src/module/yee-form-tab.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass YeeFormTab {\n    constructor(elem, setting = {}) {\n        let qel = $(elem);\n        let currCss = setting.currCss || 'curr';\n        let binds = [];\n        let lis = qel.find('li');\n        let allBinds = [];\n        lis.each(function (idx, el) {\n            let name = $(el).data('bind-name');\n            allBinds.push('div[name=\"' + name + '\"]:first');\n            let bind = $('div[name=\"' + name + '\"]').data('idx', idx);\n            if (bind.length > 0) {\n                binds.push({ name: name, elem: bind });\n            }\n        });\n        lis.on('click', function () {\n            let that = $(this);\n            let name = that.data('bind-name');\n            $(binds).each(function (idx, item) {\n                if (item.name == name) {\n                    item.elem.show();\n                }\n                else {\n                    item.elem.hide();\n                }\n            });\n            lis.not(that).removeClass(currCss);\n            that.addClass(currCss);\n            $(window).triggerHandler('resize');\n        });\n        $('form').on('displayAllError', function (e, items) {\n            $(items).each(function () {\n                let div = this.elem.parents(allBinds.join(','));\n                if (div.length > 0) {\n                    let idx = div.data('idx');\n                    lis.eq(idx).trigger('click');\n                }\n                return false;\n            });\n        });\n        lis.first().trigger('click');\n    }\n}\nexports.YeeFormTab = YeeFormTab;\n//# sourceMappingURL=yee-form-tab.js.map\n\n//# sourceURL=webpack:///./src/module/yee-form-tab.js?");

/***/ }),

/***/ "./src/module/yee-linkage.js":
/*!***********************************!*\
  !*** ./src/module/yee-linkage.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yee_validate_1 = __webpack_require__(/*! ./yee-validate */ \"./src/module/yee-validate.js\");\nconst yee_1 = __webpack_require__(/*! ../yee */ \"./src/yee.js\");\nclass YeeLinkage {\n    constructor(elem, setting = {}) {\n        this.setting = null;\n        this.inputs = [];\n        this.qel = null;\n        this.level = 0;\n        this.values = [];\n        this.pending = null;\n        this.setting = setting = $.extend({\n            source: null,\n            method: 'get',\n            level: 0,\n            group: null\n        }, setting, yee_1.Yee.getElemData(elem, 'v'));\n        let that = this;\n        that.level = parseInt(/^\\d+$/.test(String(setting.level)) ? String(setting.level) : '0');\n        let qel = this.qel = $(elem);\n        qel.hide();\n        let strVal = String(qel.val() || '');\n        let values = /^\\[.*\\]$/.test(strVal) ? JSON.parse(strVal) : null;\n        if (values !== null) {\n            for (let i in values) {\n                values[i] = values[i] == 0 ? \"\" : values[i];\n            }\n        }\n        this.values = values == null ? [] : values;\n        let source = setting.source;\n        that.pending = true;\n        this.createBox(0, source).then(function () {\n            // console.log('渲染全部完成');\n            that.pending = false;\n        });\n    }\n    updateValue() {\n        let values = [];\n        for (let input of this.inputs) {\n            let value = input.val();\n            if (/^[+-]?\\d+$/.test(value)) {\n                value = parseInt(value);\n            }\n            else if (/^[+-]?\\d+\\.\\d+$/.test(value)) {\n                value = parseFloat(value);\n            }\n            values.push(value);\n        }\n        if (values.length != this.inputs.length) {\n            this.qel.val('');\n        }\n        else {\n            this.qel.val(JSON.stringify(values));\n        }\n    }\n    update(source = null) {\n        let deferred = $.Deferred();\n        let that = this;\n        //console.log('update');\n        //如果正在渲染\n        if (this.pending) {\n            setTimeout(function () {\n                that.update(source).then(function () {\n                    deferred.resolve();\n                });\n            }, 10);\n            return deferred;\n        }\n        that.pending = true;\n        let qel = this.qel;\n        let strVal = String(qel.val() || '');\n        let values = /^\\[.*\\]$/.test(strVal) ? JSON.parse(strVal) : null;\n        if (values !== null) {\n            for (let i in values) {\n                values[i] = values[i] == 0 ? \"\" : values[i];\n            }\n        }\n        this.values = values;\n        source = source || that.setting.source;\n        this.createBox(0, source).then(function () {\n            //console.log('gengx渲染全部完成');\n            deferred.resolve();\n            that.pending = false;\n        });\n        return deferred;\n    }\n    copyAttribute(box, index) {\n        let level = index + 1;\n        let qel = this.qel;\n        let setting = this.setting;\n        let config = yee_validate_1.YeeValidate.config;\n        let valGroup = setting.group;\n        let qelName = qel.attr('name') || null;\n        //拷贝属性\n        for (let key of ['class', 'style', 'readonly', 'disabled', 'size']) {\n            let attr = qel.attr(key);\n            if (attr) {\n                if (key == \"class\") {\n                    attr = attr.replace(config.input_error, '');\n                }\n                box.attr(key, attr);\n            }\n        }\n        //拷贝验证数据\n        for (let key of ['header', 'rule', 'message', 'default', 'correct']) {\n            let dataName = key + String(level);\n            let dataVal = setting[dataName] === void 0 ? null : setting[dataName];\n            if ((key == 'rule' || key == 'message') && valGroup && valGroup.rule) {\n                if (valGroup.rule[index] && key == 'rule') {\n                    box.data('v@rule', valGroup.rule[index]);\n                    continue;\n                }\n                if (valGroup.message[index] && key == 'message') {\n                    box.data('v@message', valGroup.message[index]);\n                    continue;\n                }\n            }\n            if (dataVal !== null) {\n                if (key == 'header') {\n                    box.data(key, dataVal);\n                }\n                else {\n                    box.data('v@' + key, dataVal);\n                }\n            }\n            else {\n                dataName = key + 's';\n                dataVal = setting[dataName] === void 0 ? null : setting[dataName];\n                if (dataVal && dataVal[index] !== void 0) {\n                    if (key == 'header') {\n                        box.data(key, dataVal[index]);\n                    }\n                    else {\n                        box.data('v@' + key, dataVal[index]);\n                    }\n                }\n                else {\n                    dataVal = setting[key] === void 0 ? null : setting[key];\n                    if (dataVal !== null) {\n                        if (key == 'header') {\n                            box.data(key, dataVal);\n                        }\n                        else {\n                            box.data('v@' + key, dataVal);\n                        }\n                    }\n                }\n            }\n        }\n        //拷贝名称\n        if (qelName) {\n            let boxName = setting['name' + level] || null;\n            if (boxName) {\n                box.attr('name', boxName);\n            }\n            else {\n                box.attr('name', qelName + '[]');\n            }\n        }\n        // console.log(setting);\n        //是否禁用验证\n        if (setting['output'] !== void 0) {\n            box.data('v@output', setting['output']);\n        }\n        else {\n            box.data('v@output', '#' + qelName + '-validation');\n        }\n        box.show();\n        //console.log(box.data());\n    }\n    resetBox(box, index, items = null) {\n        let deferred = $.Deferred();\n        let level = index + 1;\n        if (this.level !== 0 && level > this.level) {\n            return deferred.resolve();\n        }\n        let that = this;\n        //清空选项\n        box[0].length = 0;\n        //添加头\n        let header = box.data('header') || '';\n        if (header) {\n            if (yee_1.Yee.isArray(header) && header.length >= 2) {\n                box[0].add(new Option(header[1], header[0]));\n            }\n            else {\n                box[0].add(new Option(header, ''));\n            }\n        }\n        let defVal = this.values[index] || '';\n        if (items !== null) {\n            for (let item of items) {\n                let data = { value: null, text: null, childs: null };\n                if (typeof item == 'number' || typeof item == 'string') {\n                    data.value = item;\n                    data.text = item;\n                }\n                else {\n                    if (item['value'] !== void 0) {\n                        data.value = item.value;\n                    }\n                    else if (item['v'] !== void 0) {\n                        data.value = item.v;\n                    }\n                    else if (item[0] !== void 0) {\n                        data.value = item[0];\n                    }\n                    else {\n                        continue;\n                    }\n                    if (item['text'] !== void 0) {\n                        data.text = item.text;\n                    }\n                    else if (item['t'] !== void 0) {\n                        data.text = item.t;\n                    }\n                    else if (item[1] !== void 0) {\n                        data.text = item[1];\n                    }\n                    else {\n                        data.text = data.value;\n                    }\n                    if (item['childs'] !== void 0) {\n                        data.childs = item.childs;\n                    }\n                    else if (item['c'] !== void 0) {\n                        data.childs = item.c;\n                    }\n                    else if (item[2] !== void 0) {\n                        data.childs = item[2];\n                    }\n                }\n                if (box[0].length == 1 && (data.value === null || data.value === '')) {\n                    box[0].length = 0;\n                    data.value = '';\n                }\n                let option = new Option(data.text, data.value);\n                box[0].add(option);\n                if (defVal == data.value) {\n                    option.selected = true;\n                }\n                option['_childData'] = data.childs;\n            }\n        }\n        let selected = box.children(':selected');\n        let childItems = (selected.length > 0 && selected[0]['_childData']) ? selected[0]._childData : null;\n        if (index + 1 > 10) {\n            return deferred.resolve();\n        }\n        that.createBox(index + 1, childItems).then(function () {\n            deferred.resolve();\n        });\n        return deferred;\n    }\n    createBox(index = 0, items = null) {\n        let deferred = $.Deferred();\n        if (this.level !== 0 && index + 1 > this.level) {\n            return deferred.resolve();\n        }\n        let that = this;\n        let inputs = this.inputs;\n        let qel = this.qel;\n        let method = this.setting.method.toLocaleLowerCase();\n        if (typeof items === 'string') {\n            if (items == '') {\n                return deferred.resolve();\n            }\n            if (YeeLinkage.cacheItemMap[items]) {\n                return that.createBox(index, YeeLinkage.cacheItemMap[items]);\n            }\n            $[method](items, function (ret) {\n                if (ret.status === true && ret.data) {\n                    YeeLinkage.cacheItemMap[items] = ret.data;\n                    that.createBox(index, YeeLinkage.cacheItemMap[items]).then(function () {\n                        deferred.resolve();\n                    });\n                }\n                else {\n                    yee_1.Yee.alert('无法加载远程数据！');\n                }\n            }, 'json');\n            return deferred;\n        }\n        if (index + 1 > 10 || (this.level == 0 && items == null)) {\n            return deferred.resolve();\n        }\n        //清空后面的选项\n        let box = that.inputs[index] || null;\n        if (this.level == 0 || box == null) {\n            while (that.inputs.length > 0 && that.inputs.length > index) {\n                that.inputs.pop().remove();\n            }\n            if (this.level == 0) {\n                if (items == null || items.length == 0) {\n                    return deferred.resolve();\n                }\n            }\n            box = $('<select>');\n            if (inputs.length == 0 || index == 0) {\n                box.insertAfter(qel);\n            }\n            else {\n                box.insertAfter(inputs[index - 1]);\n            }\n            inputs.push(box);\n            that.copyAttribute(box, index);\n            box.on('change', index + 1, function (ev) {\n                let selected = box.children(':selected');\n                let childItems = (selected.length > 0 && selected[0]['_childData']) ? selected[0]._childData : null;\n                //创建下一个\n                that.createBox(ev.data, childItems).then(function () {\n                    that.updateValue();\n                });\n            });\n        }\n        that.resetBox(box, index, items).then(function () {\n            deferred.resolve();\n        });\n        return deferred;\n    }\n}\nYeeLinkage.cacheItemMap = {};\nexports.YeeLinkage = YeeLinkage;\n//# sourceMappingURL=yee-linkage.js.map\n\n//# sourceURL=webpack:///./src/module/yee-linkage.js?");

/***/ }),

/***/ "./src/module/yee-list-tab.js":
/*!************************************!*\
  !*** ./src/module/yee-list-tab.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yee_1 = __webpack_require__(/*! ../yee */ \"./src/yee.js\");\nclass YeeListTab {\n    constructor(elem) {\n        let qem = $(elem);\n        let lis = qem.find('li');\n        lis.each(function (idx, el) {\n            let a = $(el).find('a');\n            let tabIndex = a.data('tab-index') || null;\n            if (tabIndex !== null) {\n                let href = a.attr('href');\n                let ainfo = yee_1.Yee.parseUrl(href);\n                ainfo.param['tabIndex'] = tabIndex;\n                href = yee_1.Yee.toUrl(ainfo);\n                a.attr('href', href);\n            }\n        });\n    }\n}\nexports.YeeListTab = YeeListTab;\n//# sourceMappingURL=yee-list-tab.js.map\n\n//# sourceURL=webpack:///./src/module/yee-list-tab.js?");

/***/ }),

/***/ "./src/module/yee-list.js":
/*!********************************!*\
  !*** ./src/module/yee-list.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yee_template_1 = __webpack_require__(/*! ./yee-template */ \"./src/module/yee-template.js\");\nconst yee_1 = __webpack_require__(/*! ../yee */ \"./src/yee.js\");\nclass YeeList {\n    constructor(elem, setting) {\n        this.lastSend = null;\n        this.templates = [];\n        this.currentUrl = null;\n        let qel = this.qel = $(elem);\n        let that = this;\n        this.setting = setting;\n        qel.find('[yee-template]').each(function (_, it) {\n            let tplId = $(it).data('tplId') || '';\n            if (it.getAttribute('yee-template') == 'vue') {\n                that.templates.push(new yee_template_1.YeeTemplate(it, {\n                    engine: 'vue',\n                    tplId: tplId,\n                    define: { list: [], pageInfo: [], other: {} }\n                }));\n            }\n            else {\n                that.templates.push(new yee_template_1.YeeTemplate(it, {\n                    tplId: tplId,\n                }));\n            }\n        });\n        if (!setting.url) {\n            setting.autoUrl = 1;\n            if (/\\/$/.test(String(window.location.pathname))) {\n                setting.url = window.location.pathname + 'index.json' + window.location.search;\n            }\n            else {\n                setting.url = window.location.pathname + '.json' + window.location.search;\n            }\n        }\n        let args = yee_1.Yee.parseUrl(setting.url);\n        this.lastSend = {\n            url: args.path,\n            data: args.param\n        };\n        if (setting.autoLoad) {\n            this.load(setting.url, null, setting.showMessage || false);\n        }\n        qel.on('reload', function (ev, showMessage) {\n            that.reload(showMessage);\n        });\n        qel.on('reset', function (ev, showMessage) {\n            that.reset(showMessage);\n        });\n        qel.on('load', function (ev, url = null, prams = {}, showMessage = false) {\n            that.load(url, prams, showMessage);\n        });\n    }\n    /**\n     * 渲染数据\n     * @param source\n     */\n    render(source) {\n        let qel = this.qel;\n        let that = this;\n        if (this.templates.length == 0) {\n            // @ts-ignore\n            qel.emit('render', source, that.currentUrl);\n            return;\n        }\n        let list = [];\n        if (source.list && yee_1.Yee.isArray(source.list)) {\n            list = source.list;\n        }\n        else if (yee_1.Yee.isArray(source)) {\n            list = source;\n        }\n        // @ts-ignore\n        let data = qel.emit('filter', list);\n        if (data !== void 0) {\n            list = data;\n        }\n        for (let i = 0; i < list.length; i++) {\n            // @ts-ignore\n            let item = qel.emit('filterItem', list[i]);\n            if (item !== void 0) {\n                if (item !== void 0) {\n                    list[i] = item;\n                }\n            }\n        }\n        let deferredList = [];\n        for (let template of this.templates) {\n            let deferred = $.Deferred();\n            template.render({ list: list, pageInfo: source.pageInfo || {} }).then(function () {\n                yee_1.Yee.update(template.parent()).then(function () {\n                    deferred.resolve();\n                });\n            });\n            deferredList.push(deferred);\n        }\n        if (deferredList.length == 0) {\n            // @ts-ignore\n            qel.emit('render', source, that.currentUrl);\n        }\n        else {\n            $.when.apply($, deferredList).then(function () {\n                // @ts-ignore\n                qel.emit('render', source, that.currentUrl);\n            });\n        }\n    }\n    /**\n     * 加载\n     * @param url\n     * @param showMessage\n     * @param param\n     */\n    load(url = null, param = {}, showMessage = false) {\n        let deferred = $.Deferred();\n        let qel = this.qel;\n        let that = this;\n        url = url || this.setting.url;\n        let method = this.setting.method || 'get';\n        let args = yee_1.Yee.parseUrl(url);\n        args.path = args.path || window.location.pathname;\n        for (let key in param) {\n            args.param[key] = param[key];\n        }\n        this.lastSend = {\n            url: args.path,\n            data: args.param\n        };\n        $.ajax({\n            type: method,\n            url: args.path,\n            data: args.param,\n            cache: false,\n            dataType: 'json',\n            success: function (ret) {\n                //拉取数据成功\n                if (ret.status === true) {\n                    if (showMessage && ret.msg && typeof (ret.msg) === 'string') {\n                        yee_1.Yee.msg(ret.msg, { icon: 1, time: 1000 });\n                    }\n                    that.currentUrl = yee_1.Yee.toUrl(args);\n                    that.render(ret);\n                    // @ts-ignore\n                    qel.emit('success', ret, that.currentUrl);\n                    deferred.resolve(ret, that.currentUrl);\n                }\n                //拉取数据错误\n                if (ret.status === false) {\n                    if (ret.msg && typeof (ret.msg) === 'string') {\n                        yee_1.Yee.msg(ret.msg, { icon: 0, time: 2000 });\n                    }\n                    // @ts-ignore\n                    qel.emit('error', ret);\n                    deferred.reject();\n                }\n            }\n        });\n        return deferred;\n    }\n    reload(showMessage = false) {\n        if (this.lastSend) {\n            return this.load(this.lastSend.url, this.lastSend.data, showMessage);\n        }\n        return $.Deferred().resolve();\n    }\n    reset(showMessage = false) {\n        return this.load(this.setting.url, null, showMessage);\n    }\n}\nexports.YeeList = YeeList;\n//# sourceMappingURL=yee-list.js.map\n\n//# sourceURL=webpack:///./src/module/yee-list.js?");

/***/ }),

/***/ "./src/module/yee-multiple-dialog.js":
/*!*******************************************!*\
  !*** ./src/module/yee-multiple-dialog.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yee_1 = __webpack_require__(/*! ../yee */ \"./src/yee.js\");\nclass YeeMultipleDialog {\n    constructor(elem, setting) {\n        let qel = $(elem);\n        let textBox = $('<div></div>').insertAfter(qel);\n        let textData = qel.data('text') || {};\n        textBox.attr('class', qel.attr('class'));\n        textBox.attr('style', qel.attr('style'));\n        textBox.attr('placeholder', qel.attr('placeholder'));\n        if (qel.is(':disabled')) {\n            textBox.css({ 'background-color': '#EBEBE4' });\n        }\n        qel.hide();\n        let span = $('<span></span>').insertAfter(textBox);\n        let button = $('<a class=\"form-btn\" href=\"javascript:;\" yee-module=\"dialog\" style=\"margin-left: 5px\">选择</a>').appendTo(span);\n        if (setting.btnText) {\n            button.text(setting.btnText);\n        }\n        if (qel.is(':disabled')) {\n            button.addClass('disabled');\n        }\n        button.data('carry', '#' + qel.attr('id'));\n        if (setting.width) {\n            button.data('width', setting.width);\n        }\n        if (setting.height) {\n            button.data('height', setting.height);\n        }\n        textBox.on('click', function () {\n            if (qel.is(':disabled')) {\n                return false;\n            }\n            button.trigger('click');\n        });\n        button.data('url', setting.href || setting.url || '');\n        button.data('assign', { value: qel.val(), text: textData });\n        button.on('mousedown', function () {\n            // @ts-ignore\n            if (typeof (qel.setDefault) == 'function') {\n                // @ts-ignore\n                qel.setDefault();\n            }\n        });\n        let updateText = function (data) {\n            if (data && yee_1.Yee.isArray(data)) {\n                textBox.empty();\n                for (let rs of data) {\n                    let item = $('<label><span></span><i class=\"icofont-close\"></i></label>');\n                    item.data('value', rs.value || 0);\n                    item.data('text', rs.text || 0);\n                    item.find('span').text(rs.text);\n                    textBox.append(item);\n                }\n                textData = data;\n                button.data('assign', { value: qel.val(), text: data });\n            }\n        };\n        textBox.on('click', 'label', function (ev) {\n            if (qel.is(':disabled')) {\n                return false;\n            }\n            let item = $(this);\n            item.remove();\n            let values = [];\n            let textItems = [];\n            textBox.find('label').each(function (idx, elem) {\n                let val = $(elem).data('value') || null;\n                if (val) {\n                    values.push(val);\n                    let text = $(elem).data('text') || '';\n                    textItems.push({ value: val, text: text });\n                }\n            });\n            if (values.length == 0) {\n                qel.val('');\n                updateText([]);\n            }\n            else {\n                qel.val(JSON.stringify(values));\n                updateText(textItems);\n            }\n            ev.preventDefault();\n            return false;\n        });\n        updateText(textData);\n        button.on('success', function (ev, data) {\n            if (qel.is(':disabled')) {\n                return false;\n            }\n            if (data && data.value && data.text) {\n                // @ts-ignore\n                let ret = qel.emit('select', data);\n                if (ret !== null) {\n                    if (typeof (data.value) == 'string' || typeof (data.value) == 'number') {\n                        qel.val(data.value);\n                    }\n                    else if (data.value instanceof Array) {\n                        if (data.value == 0) {\n                            qel.val('');\n                        }\n                        else {\n                            qel.val(JSON.stringify(data.value));\n                        }\n                    }\n                    updateText(data.text);\n                    // @ts-ignore\n                    if (typeof qel.setDefault == 'function') {\n                        // @ts-ignore\n                        qel.setDefault();\n                    }\n                }\n            }\n        });\n        if (setting.clearBtn) {\n            let clearBtn = $('<a class=\"form-btn\" href=\"javascript:;\" style=\"margin-left: 5px\">清除</a>').appendTo(span);\n            if (qel.is(':disabled')) {\n                clearBtn.addClass('disabled');\n            }\n            clearBtn.on('click', function () {\n                if (qel.is(':disabled')) {\n                    return false;\n                }\n                qel.val('');\n                textBox.val('');\n            });\n        }\n        setTimeout(function () {\n            yee_1.Yee.update(span);\n        }, 100);\n    }\n}\nexports.YeeMultipleDialog = YeeMultipleDialog;\n//# sourceMappingURL=yee-multiple-dialog.js.map\n\n//# sourceURL=webpack:///./src/module/yee-multiple-dialog.js?");

/***/ }),

/***/ "./src/module/yee-number.js":
/*!**********************************!*\
  !*** ./src/module/yee-number.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass YeeNumber {\n    constructor(elem, setting) {\n        let that = $(elem);\n        let numberScale = setting.numberScale === void 0 ? -1 : setting.numberScale;\n        let lastValue = '';\n        let reg = null;\n        if (numberScale > 0) {\n            reg = new RegExp('^-?([1-9]\\\\d*|0)\\\\.\\\\d{1,' + numberScale + '}$');\n        }\n        that.on('keydown', function (ev) {\n            if (numberScale < 0) {\n                if (this.value == '' || this.value == '-' || /^-?([1-9]\\d*|0)$/.test(this.value) || /^-?([1-9]\\d*|0)\\.$/.test(this.value) || /^-?([1-9]\\d*|0)\\.\\d+$/.test(this.value)) {\n                    lastValue = this.value;\n                }\n            }\n            else if (numberScale == 0) {\n                if (this.value == '' || this.value == '-' || /^-?([1-9]\\d*|0)$/.test(this.value)) {\n                    lastValue = this.value;\n                }\n            }\n            else {\n                if (this.value == '' || this.value == '-' || /^-?([1-9]\\d*|0)$/.test(this.value) || /^-?([1-9]\\d*|0)\\.$/.test(this.value) || reg.test(this.value)) {\n                    lastValue = this.value;\n                }\n            }\n        });\n        that.on('keypress keyup', function (ev) {\n            if (numberScale < 0) {\n                if (this.value == '' || this.value == '-' || /^-?([1-9]\\d*|0)$/.test(this.value) || /^-?([1-9]\\d*|0)\\.$/.test(this.value) || /^-?([1-9]\\d*|0)\\.\\d+$/.test(this.value)) {\n                    lastValue = this.value;\n                    return true;\n                }\n            }\n            else if (numberScale == 0) {\n                if (this.value == '' || this.value == '-' || /^-?([1-9]\\d*|0)$/.test(this.value)) {\n                    lastValue = this.value;\n                    return true;\n                }\n            }\n            else {\n                if (this.value == '' || this.value == '-' || /^-?([1-9]\\d*|0)$/.test(this.value) || /^-?([1-9]\\d*|0)\\.$/.test(this.value) || reg.test(this.value)) {\n                    lastValue = this.value;\n                    return true;\n                }\n            }\n            this.value = lastValue || '';\n            return false;\n        });\n        that.on('dragenter', function () {\n            return false;\n        });\n        that.on('blur', function () {\n            if (numberScale < 0) {\n                this.value = /^-?([1-9]\\d*|0)(\\.\\d+)?$/.test(this.value) ? this.value : '';\n            }\n            else if (numberScale == 0) {\n                this.value = /^-?([1-9]\\d*|0)$/.test(this.value) ? this.value : '';\n            }\n            else {\n                this.value = reg.test(this.value) ? this.value : '';\n            }\n        });\n    }\n}\nexports.YeeNumber = YeeNumber;\nclass YeeInteger {\n    constructor(elem, setting) {\n        let that = $(elem);\n        let lastValue = null;\n        that.on('keydown', function (event) {\n            if (this.value == '' || this.value == '-' || /^-?([1-9]\\d*|0)$/.test(this.value)) {\n                lastValue = this.value;\n                return true;\n            }\n            return false;\n        });\n        that.on('keypress keyup', function (event) {\n            if (this.value == '' || this.value == '-' || /^-?([1-9]\\d*|0)$/.test(this.value)) {\n                lastValue = this.value;\n                return true;\n            }\n            this.value = lastValue || '';\n            return false;\n        });\n        that.on('dragenter', function () {\n            return false;\n        });\n        that.on('blur', function () {\n            this.value = /^-?([1-9]\\d*|0)$/.test(this.value) ? this.value : '';\n        });\n    }\n}\nexports.YeeInteger = YeeInteger;\n//# sourceMappingURL=yee-number.js.map\n\n//# sourceURL=webpack:///./src/module/yee-number.js?");

/***/ }),

/***/ "./src/module/yee-pagebar.js":
/*!***********************************!*\
  !*** ./src/module/yee-pagebar.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yee_1 = __webpack_require__(/*! ../yee */ \"./src/yee.js\");\nconst yee_template_1 = __webpack_require__(/*! ./yee-template */ \"./src/module/yee-template.js\");\nclass YeePagebar {\n    constructor(elem, setting) {\n        this.qel = null;\n        this.setting = null;\n        this.templates = [];\n        this.bindElem = null;\n        let qel = this.qel = $(elem);\n        let that = this;\n        qel.find('[yee-template]').each(function (_, it) {\n            let tplId = $(it).data('tplId') || '';\n            if (it.getAttribute('yee-template') == 'vue') {\n                that.templates.push(new yee_template_1.YeeTemplate(it, {\n                    engine: 'vue',\n                    tplId: tplId,\n                    define: {\n                        barCode: '',\n                        recordsCount: 0,\n                        page: 0,\n                        pageCount: 0,\n                        pageSize: 0,\n                    }\n                }));\n            }\n            else {\n                that.templates.push(new yee_template_1.YeeTemplate(it, {\n                    tplId: tplId,\n                }));\n            }\n        });\n        setting = this.setting = $.extend({\n            pageSize: 0,\n            hidden: 0,\n            goPage: 1,\n            numPage: 1,\n            firstPage: 1,\n            lastPage: 1,\n            info: null\n        }, setting);\n        //按钮点击事件\n        qel.on('click', 'a.page-btn', function () {\n            let _this = $(this);\n            let url = _this.data('url') || '';\n            if (_this.is('.gopage')) {\n                let input = _this.prev(\"input.page-inp\");\n                let page = String(input.val() || '1');\n                page = /^\\d+$/.test(page) ? page : '1';\n                url = url.replace('--gopage--', page);\n            }\n            if (that.bindElem && that.bindElem.length > 0) {\n                // @ts-ignore\n                that.bindElem.emit('load', url, true);\n            }\n            // @ts-ignore\n            qel.emit('page');\n        });\n        let bindElem = setting.bind || null;\n        if (bindElem) {\n            this.bindElem = $(bindElem);\n            this.bindElem.on('render', function (ev, source, url) {\n                if (source.pageInfo) {\n                    let pageInfo = source.pageInfo;\n                    pageInfo.query = url;\n                    that.render(pageInfo);\n                }\n            });\n        }\n        if (setting.info) {\n            let query = window.location.pathname + '.json' + window.location.search;\n            let source = {};\n            source.pageInfo = setting.info;\n            source.query = query;\n            that.render(source);\n        }\n    }\n    static getCode(info, option) {\n        let pkey = option.keyName || 'page';\n        let prevText = option.prevText === void 0 ? '上一页' : option.prevText;\n        let nextText = option.nextText === void 0 ? '下一页' : option.nextText;\n        let firstText = option.firstText === void 0 ? '首页' : option.firstText;\n        let lastText = option.lastText === void 0 ? '尾页' : option.lastText;\n        let page = parseInt(info.page);\n        let size = option.pageSize;\n        let maxPage = parseInt(info.pageCount);\n        info.query = info.query || '';\n        let query = yee_1.Yee.parseUrl(info.query);\n        let start = (maxPage < 10 || page <= 5) ? 1 : (page + 5 > maxPage ? maxPage - 9 : page - 4);\n        let temp = start + 9;\n        let end = (page + 5 > maxPage) ? maxPage : (temp > maxPage ? maxPage : temp);\n        if (size) {\n            query.param.pageSize = size;\n        }\n        let prev = page - 1 <= 0 ? 1 : page - 1;\n        let next = page + 1 >= maxPage ? maxPage : page + 1;\n        let html = '';\n        query.param[pkey] = 1;\n        if (option.firstPage == 1 || option.firstPage == 'true') {\n            html += '<a href=\"javascript:;\" data-url=\"' + yee_1.Yee.toUrl(query) + '\" class=\"page-btn first\">' + firstText + '</a>';\n        }\n        query.param[pkey] = prev;\n        html += '<a href=\"javascript:;\" data-url=\"' + yee_1.Yee.toUrl(query) + '\" class=\"page-btn prev\">' + prevText + '</a>';\n        if (option.numPage == 1 || option.numPage == 'true') {\n            for (let i = start; i <= end; i++) {\n                let p_page = i;\n                if (p_page == page) {\n                    html += '<b>' + p_page + '</b>';\n                }\n                else {\n                    query.param[pkey] = p_page;\n                    html += '<a href=\"javascript:;\" class=\"page-btn\" data-url=\"' + yee_1.Yee.toUrl(query) + '\">' + p_page + '</a>';\n                }\n            }\n        }\n        query.param[pkey] = next;\n        html += '<a href=\"javascript:;\" data-url=\"' + yee_1.Yee.toUrl(query) + '\" class=\"page-btn next\">' + nextText + '</a>';\n        if (option.lastPage == 1 || option.lastPage == 'true') {\n            query.param[pkey] = maxPage;\n            html += '<a href=\"javascript:;\" data-url=\"' + yee_1.Yee.toUrl(query) + '\" class=\"page-btn last\">' + lastText + '</a>';\n        }\n        if (option.goPage == 1 || option.goPage == 'true') {\n            let spage = page > maxPage ? maxPage : page;\n            spage = spage <= 0 ? 1 : spage;\n            query.param[pkey] = '--gopage--';\n            html += '<input type=\"text\" class=\"page-inp\" value=\"' + spage + '\"/><a class=\"page-btn gopage\" data-url=\"' + yee_1.Yee.toUrl(query) + '\" href=\"javascript:;\">GO</a>';\n        }\n        return html;\n    }\n    render(pageInfo) {\n        let qel = this.qel;\n        pageInfo.barCode = YeePagebar.getCode(pageInfo, this.setting);\n        let deferredList = [];\n        for (let template of this.templates) {\n            let deferred = template.render(pageInfo);\n            deferredList.push(deferred);\n        }\n        if (deferredList.length == 0) {\n            yee_1.Yee.update(qel.get(0));\n            qel.emit('render');\n        }\n        else {\n            $.when.apply($, deferredList).then(function () {\n                yee_1.Yee.update(qel.get(0));\n                qel.emit('render');\n            });\n        }\n    }\n}\nexports.YeePagebar = YeePagebar;\n//# sourceMappingURL=yee-pagebar.js.map\n\n//# sourceURL=webpack:///./src/module/yee-pagebar.js?");

/***/ }),

/***/ "./src/module/yee-picker.js":
/*!**********************************!*\
  !*** ./src/module/yee-picker.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yee_1 = __webpack_require__(/*! ../yee */ \"./src/yee.js\");\nconst yee_event_1 = __webpack_require__(/*! ./yee-event */ \"./src/module/yee-event.js\");\nclass YeePicker extends yee_event_1.YeeEvent {\n    constructor(elem, setting) {\n        super();\n        this.showType = '';\n        this.dateValue = null;\n        this.setting = setting;\n        let qem = this.qem = $(elem);\n        this.input = this.qem;\n        let that = this;\n        if (!this.qem.is(':input')) {\n            if (setting['input']) {\n                this.input = $(setting['input']);\n            }\n        }\n        this.input.attr('autocomplete', 'off');\n        let picker = this.picker = $('<div class=\"yee-picker\"></div>').hide().appendTo(document.body);\n        let displayLabel = $('<div class=\"yee-picker-display\"></div>').appendTo(picker);\n        let toolbarLayout = $('<div class=\"yee-picker-toolbar\"></div>').appendTo(picker);\n        this.mainLayout = $('<div class=\"yee-picker-main\"></div>').appendTo(picker);\n        this.mainLayout.on('dragstart ondragenter drag dragend dblclick', function (ev) {\n            ev.stopPropagation();\n            ev.preventDefault();\n            ev.cancelBubble = true;\n            ev.returnValue = false;\n            return false;\n        });\n        let toolLeftBtn = $('<button><svg viewBox=\"0 0 24 24\" class=\"yee-picker-svg-icon\"><path d=\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"></path></svg></button>').appendTo(toolbarLayout);\n        let toolDisplay = $('<div class=\"yee-picker-year\"></div>').appendTo(toolbarLayout);\n        let toolLabel = $('<a class=\"yee-picker-year-btn\" href=\"javascript:;\"></a>').appendTo(toolDisplay);\n        let toolMonthLabel = $('<span></span>').appendTo(toolLabel);\n        let toolDayLabel = $('<span></span>').hide().appendTo(toolLabel);\n        let toolRightBtn = $('<button><svg viewBox=\"0 0 24 24\" class=\"yee-picker-svg-icon\"><path d=\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"></path></svg></button>').appendTo(toolbarLayout);\n        this.createYMBox();\n        this.createDateBox();\n        if (this.setting.useTime) {\n            if (!that.setting.format) {\n                that.setting.format = 'yyyy-MM-dd HH:mm:ss';\n            }\n            this.createTimeBox();\n            that.on('changeDateTime', function (date) {\n                // console.log('changeDateTime', date);\n                let month = date.getMonth() + 1;\n                let year = date.getFullYear();\n                let day = date.getDate();\n                let week = date.getDay();\n                if (month == 11 || month == 12) {\n                    toolMonthLabel.text(year + '年 ' + YeePicker.monthMap[month] + '月');\n                }\n                else {\n                    toolMonthLabel.text(year + '年 ' + YeePicker.monthMap[month]);\n                }\n                toolDayLabel.text(day + '日');\n                displayLabel.text(year + ' ' + YeePicker.dateFormat(date, 'MM-dd HH:mm:ss') + ' ' + YeePicker.weekMap[week]);\n                let change = YeePicker.dateFormat(date, that.setting.format);\n                //console.log('picker.change', change);\n                that.emit('picker.change', change);\n            });\n            that.on('showDate', function () {\n                toolDayLabel.hide();\n            });\n            that.on('showYM', function () {\n                toolDayLabel.hide();\n            });\n            that.on('showTime', function () {\n                toolDayLabel.show();\n            });\n            that.on('choiceDateTime', function (date) {\n                let choice = YeePicker.dateFormat(date, that.setting.format);\n                if (that.input) {\n                    that.input.val(choice);\n                }\n                that.hide();\n                that.emit('picker.choice', choice);\n            });\n        }\n        else {\n            //  console.log('222', option.useTime);\n            that.on('changeDate', function (date) {\n                let month = date.getMonth() + 1;\n                let year = date.getFullYear();\n                let day = date.getDate();\n                let week = date.getDay();\n                if (month == 11 || month == 12) {\n                    toolMonthLabel.text(year + '年 ' + YeePicker.monthMap[month] + '月');\n                }\n                else {\n                    toolMonthLabel.text(year + '年 ' + YeePicker.monthMap[month]);\n                }\n                toolDayLabel.text(day + '日');\n                displayLabel.text(year + ' ' + YeePicker.dateFormat(date, 'MM-dd') + ' ' + YeePicker.weekMap[week]);\n                let change = YeePicker.dateFormat(date, that.setting.format);\n                that.emit('picker.change', change);\n            });\n            that.on('choiceDate', function (date) {\n                let choice = YeePicker.dateFormat(date, that.setting.format);\n                if (that.input) {\n                    that.input.val(choice);\n                }\n                that.hide();\n                that.emit('picker.choice', choice);\n            });\n        }\n        that.emit('showDate');\n        picker.on('mousedown', function (ev) {\n            ev.stopPropagation();\n        });\n        $(document).on('mousedown', function () {\n            picker.hide();\n        });\n        $(window).on('blur', function () {\n            picker.hide();\n        });\n        toolLeftBtn.on('click', function () {\n            if (that.showType == 'Time') {\n                that.emit('decDay');\n            }\n            else {\n                that.emit('decMonth');\n            }\n        });\n        toolRightBtn.on('click', function () {\n            if (that.showType == 'Time') {\n                that.emit('addDay');\n            }\n            else {\n                that.emit('addMonth');\n            }\n        });\n        toolDisplay.on('click', function () {\n            if (that.showType == 'Date') {\n                that.emit('showYM');\n            }\n            else {\n                that.emit('showDate');\n            }\n        });\n        let lock = false;\n        let mousewheel = function (ev, delta) {\n            if (lock) {\n                return;\n            }\n            lock = true;\n            if (that.setting.useTime) {\n                if (delta == 1 && that.showType == 'Time') {\n                    that.emit('showDate');\n                }\n                else if (delta == 1 && that.showType == 'Date') {\n                    that.emit('showYM');\n                }\n                else if (delta == -1 && that.showType == 'YM') {\n                    that.emit('showDate');\n                }\n                else if (delta == -1 && that.showType == 'Date') {\n                    that.emit('showTime');\n                }\n            }\n            else {\n                if (delta == 1 && that.showType == 'Date') {\n                    that.emit('showYM');\n                }\n                else if (delta == -1 && that.showType == 'YM') {\n                    that.emit('showDate');\n                }\n            }\n            window.setTimeout(function () {\n                lock = false;\n            }, 300);\n        };\n        yee_1.Yee.use('jquery-mousewheel').then(function () {\n            that.mainLayout.on('mousewheel', mousewheel);\n        });\n        qem.on('click', function () {\n            let offset = { top: 0, left: 0 };\n            if (that.input) {\n                let val = that.input.val() || '';\n                if (val) {\n                    that.dateValue = new Date(val);\n                    if (isNaN(that.dateValue)) {\n                        that.dateValue = YeePicker.toDate(val, that.setting.format);\n                    }\n                }\n                offset = that.input.offset();\n                offset.top += that.input.outerHeight();\n            }\n            else {\n                offset = qem.offset();\n                offset.top += qem.outerHeight();\n            }\n            that.show(offset);\n        });\n        qem.on('setTime', function (ev, date) {\n            if (typeof date == 'string') {\n                that.dateValue = new Date(date);\n                if (isNaN(that.dateValue)) {\n                    that.dateValue = YeePicker.toDate(that.dateValue, that.setting.format);\n                }\n            }\n            else if (date instanceof Date) {\n                that.dateValue = date;\n            }\n            if (that.setting.useTime) {\n                that.emit('setDateTime', that.dateValue);\n            }\n            else {\n                that.emit('setDate', that.dateValue);\n            }\n        });\n    }\n    static zeroize(value, length = 2) {\n        let zeros = '';\n        value = String(value);\n        for (let i = 0; i < (length - value.length); i++) {\n            zeros += '0';\n        }\n        return zeros + value;\n    }\n    static dateFormat(date, format = 'yyyy-MM-dd') {\n        let mask = format.replace(/\"[^\"]*\"|'[^']*'|\\b(?:d{1,4}|M{1,4}|(?:yyyy|yy)|([hHmstT])\\1?|[lLZ])\\b/g, function ($0) {\n            switch ($0) {\n                case 'd':\n                    return date.getDate();\n                case 'dd':\n                    return YeePicker.zeroize(date.getDate());\n                case 'ddd':\n                    return ['Sun', 'Mon', 'Tue', 'Wed', 'Thr', 'Fri', 'Sat'][date.getDay()];\n                case 'dddd':\n                    return ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'][date.getDay()];\n                case 'M':\n                    return date.getMonth() + 1;\n                case 'MM':\n                    return YeePicker.zeroize(date.getMonth() + 1);\n                case 'MMM':\n                    return ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'][date.getMonth()];\n                case 'MMMM':\n                    return ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'][date.getMonth()];\n                case 'yy':\n                    return String(date.getFullYear()).substr(2);\n                case 'yyyy':\n                    return date.getFullYear();\n                case 'h':\n                    return date.getHours() % 12 || 12;\n                case 'hh':\n                    return YeePicker.zeroize(date.getHours() % 12 || 12);\n                case 'H':\n                    return date.getHours();\n                case 'HH':\n                    return YeePicker.zeroize(date.getHours());\n                case 'm':\n                    return date.getMinutes();\n                case 'mm':\n                    return YeePicker.zeroize(date.getMinutes());\n                case 's':\n                    return date.getSeconds();\n                case 'ss':\n                    return YeePicker.zeroize(date.getSeconds());\n                case 'l':\n                    return YeePicker.zeroize(date.getMilliseconds(), 3);\n                case 'L':\n                    let m = date.getMilliseconds();\n                    if (m > 99)\n                        m = Math.round(m / 10);\n                    return YeePicker.zeroize(m);\n                case 'tt':\n                    return date.getHours() < 12 ? 'am' : 'pm';\n                case 'TT':\n                    return date.getHours() < 12 ? 'AM' : 'PM';\n                default:\n                    return $0.substr(1, $0.length - 2);\n            }\n        });\n        return mask;\n    }\n    static toDate(str, format = 'yyyy-MM-dd') {\n        let temp1 = format.split(/(yyyy|MMMM|dddd|MMM|ddd|yy|MM|dd|HH|mm|ss|TT|tt|hh|M|d|H|m|s|h|L|l|Z)/);\n        let keys = {};\n        let index = 0;\n        for (let i = 0; i < temp1.length; i++) {\n            let key = temp1[i];\n            let val = '';\n            switch (key) {\n                case 'yyyy':\n                    val = keys['yyyy'] = str.substr(index, 4);\n                    break;\n                case 'ddd':\n                case 'MMM':\n                    val = keys[key] = str.substr(index, 3);\n                    break;\n                case 'dddd':\n                    let char1 = str.substr(index, 2).toLowerCase();\n                    switch (char1) {\n                        case 'su':\n                            val = keys['dddd'] = 'Sunday';\n                            break;\n                        case 'mo':\n                            val = keys['dddd'] = 'Monday';\n                            break;\n                        case 'tu':\n                            val = keys['dddd'] = 'Tuesday';\n                            break;\n                        case 'we':\n                            val = keys['dddd'] = 'Wednesday';\n                            break;\n                        case 'th':\n                            val = keys['dddd'] = 'Thursday';\n                            break;\n                        case 'fr':\n                            val = keys['dddd'] = 'Friday';\n                            break;\n                        case 'sa':\n                            val = keys['dddd'] = 'Saturday';\n                            break;\n                        default:\n                            throw new Error('格式错误');\n                    }\n                    break;\n                case 'MMMM':\n                    let char2 = str.substr(index, 3).toLowerCase();\n                    switch (char2) {\n                        //'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'\n                        case 'jan':\n                            val = keys['MMMM'] = 'January';\n                            break;\n                        case 'feb':\n                            val = keys['MMMM'] = 'February';\n                            break;\n                        case 'mar':\n                            val = keys['MMMM'] = 'March';\n                            break;\n                        case 'apr':\n                            val = keys['MMMM'] = 'April';\n                            break;\n                        case 'may':\n                            val = keys['MMMM'] = 'May';\n                            break;\n                        case 'jun':\n                            val = keys['MMMM'] = 'June';\n                            break;\n                        case 'jul':\n                            val = keys['MMMM'] = 'July';\n                            break;\n                        case 'aug':\n                            val = keys['MMMM'] = 'August';\n                            break;\n                        case 'sep':\n                            val = keys['MMMM'] = 'September';\n                            break;\n                        case 'oct':\n                            val = keys['MMMM'] = 'October';\n                            break;\n                        case 'nov':\n                            val = keys['MMMM'] = 'November';\n                            break;\n                        case 'dec':\n                            val = keys['MMMM'] = 'December';\n                            break;\n                        default:\n                            throw new Error('格式错误');\n                    }\n                    break;\n                case 'tt':\n                case 'TT':\n                    val = keys['tt'] = str.substr(index, 2).toLowerCase();\n                    break;\n                case 'yy':\n                case 'MM':\n                case 'dd':\n                case 'HH':\n                case 'hh':\n                case 'mm':\n                case 'ss':\n                    val = keys[key] = str.substr(index, 2);\n                    break;\n                case 'M':\n                case 'd':\n                case 'H':\n                case 'h':\n                case 'm':\n                case 's':\n                    let d = str.substr(index + 1, 1);\n                    if (/^\\d$/.test(d)) {\n                        val = keys[key] = str.substr(index, 2);\n                    }\n                    else {\n                        val = keys[key] = str.substr(index, 1);\n                    }\n                    break;\n                case 'l':\n                    val = keys[key] = str.substr(index, 3);\n                    break;\n                case 'L':\n                    val = keys[key] = str.substr(index, 2);\n                    break;\n                default:\n                    val = key;\n                    break;\n            }\n            index += val.length;\n        }\n        //console.log(keys);\n        let args = {};\n        if (keys['yyyy'] && /^\\d+$/.test(keys['yyyy'])) {\n            args['yyyy'] = parseInt(keys['yyyy']);\n        }\n        if (!args['yyyy'] && keys['yy'] && /^\\d+$/.test(keys['yy'])) {\n            args['yyyy'] = parseInt(String(new Date().getMonth()).substr(0, 2) + parseInt(keys['yy']));\n        }\n        if (!args['yyyy']) {\n            args['yyyy'] = 0;\n        }\n        if (keys['MM'] && /^\\d+$/.test(keys['MM'])) {\n            args['MM'] = parseInt(keys['MM']);\n        }\n        if (!args['MM'] && keys['M'] && /^\\d+$/.test(keys['M'])) {\n            args['MM'] = parseInt(keys['M']);\n        }\n        if (!args['MM'] && keys['MMM']) {\n            let temps = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];\n            let tkey = keys['MMM'].toLowerCase();\n            for (let i = 0; i < temps.length; i++) {\n                if (temps[i] == tkey) {\n                    args['MM'] = i + 1;\n                    break;\n                }\n            }\n        }\n        if (!args['MM'] && keys['MMMM']) {\n            let temps = ['january', 'february', 'march', 'april', 'may', 'june', 'july', 'august', 'september', 'october', 'november', 'december'];\n            let tkey = keys['MMMM'].toLowerCase();\n            for (let i = 0; i < temps.length; i++) {\n                if (temps[i] == tkey) {\n                    args['MM'] = i + 1;\n                    break;\n                }\n            }\n        }\n        if (!args['MM']) {\n            args['MM'] = 0;\n        }\n        if (keys['dd'] && /^\\d+$/.test(keys['dd'])) {\n            args['dd'] = parseInt(keys['dd']);\n        }\n        if (!args['dd'] && keys['d'] && /^\\d+$/.test(keys['d'])) {\n            args['dd'] = parseInt(keys['d']);\n        }\n        if (!args['dd']) {\n            args['dd'] = 0;\n        }\n        //小时\n        if (keys['HH'] && /^\\d+$/.test(keys['HH'])) {\n            args['HH'] = parseInt(keys['HH']);\n        }\n        if (!args['HH'] && keys['H'] && /^\\d+$/.test(keys['H'])) {\n            args['HH'] = parseInt(keys['H']);\n        }\n        if (keys['tt']) {\n            args['tt'] = keys['tt'].toLowerCase();\n        }\n        if (!args['HH'] && keys['hh'] && /^\\d+$/.test(keys['hh'])) {\n            let hh = parseInt(keys['hh']);\n            args['HH'] = hh;\n            if (args['tt'] && args['tt'] == 'pm') {\n                if (hh != 12) {\n                    args['HH'] = hh + 12;\n                }\n            }\n            else {\n                if (hh == 12) {\n                    args['HH'] = 0;\n                }\n            }\n        }\n        if (!args['HH'] && keys['h'] && /^\\d+$/.test(keys['h'])) {\n            let h = parseInt(keys['h']);\n            args['HH'] = parseInt(keys['h']);\n            if (args['tt'] && args['tt'] == 'pm') {\n                if (h != 12) {\n                    args['HH'] = h + 12;\n                }\n            }\n            else {\n                if (h == 12) {\n                    args['HH'] = 0;\n                }\n            }\n        }\n        if (!args['HH']) {\n            args['HH'] = 0;\n        }\n        if (keys['mm'] && /^\\d+$/.test(keys['mm'])) {\n            args['mm'] = parseInt(keys['mm']);\n        }\n        if (!args['mm'] && keys['m'] && /^\\d+$/.test(keys['m'])) {\n            args['mm'] = parseInt(keys['m']);\n        }\n        if (!args['mm']) {\n            args['mm'] = 0;\n        }\n        if (keys['ss'] && /^\\d+$/.test(keys['ss'])) {\n            args['ss'] = parseInt(keys['ss']);\n        }\n        if (!args['ss'] && keys['s'] && /^\\d+$/.test(keys['s'])) {\n            args['ss'] = parseInt(keys['s']);\n        }\n        if (!args['ss']) {\n            args['ss'] = 0;\n        }\n        //console.log(args);\n        return new Date(args['yyyy'], args['MM'] - 1, args['dd'], args['HH'], args['mm'], args['ss']);\n    }\n    static getDayMap(dataYear, dataMonth) {\n        let lastDay = new Date(dataYear, dataMonth, 0).getDate();\n        let dayMap = [];\n        let weekMap = [0, 0, 0, 0, 0, 0, 0];\n        for (let day = 1; day <= lastDay; day++) {\n            let week = new Date(dataYear, dataMonth - 1, day).getDay();\n            weekMap[week] = day;\n            if (week == 6 || day == lastDay) {\n                dayMap.push(weekMap);\n                weekMap = [0, 0, 0, 0, 0, 0, 0];\n            }\n        }\n        return dayMap;\n    }\n    createYMBox() {\n        let that = this;\n        let mainLayout = this.mainLayout;\n        let baseBox = $('<div class=\"yee-picker-sel-year-month\"></div>').appendTo(mainLayout);\n        let tempA = $('<a class=\"yee-picker-year-layout\" href=\"javascript:;\"></a>').appendTo(baseBox);\n        let selYearBox = $('<div class=\"yee-picker-sel-year\"></div>').appendTo(tempA);\n        let selMonthBox = $('<div class=\"yee-picker-sel-month\"></div>').appendTo(baseBox);\n        yee_1.Yee.use('jquery-mousewheel').then(function () {\n            selYearBox.on('mousewheel', function (ev) {\n                ev.stopPropagation();\n            });\n        });\n        let ul = $('<ul></ul>').appendTo(selYearBox);\n        let curYear = new Date().getFullYear();\n        let startYear = curYear - 100;\n        let endYear = curYear + 100;\n        for (let i = startYear; i < endYear; i++) {\n            let li = $('<li index=\"' + i + '\"></li>').text(i).appendTo(ul);\n            li.on('click', i, function (ev) {\n                that.emit('setYear', ev.data);\n            });\n        }\n        let n = 0;\n        for (let i = 0; i < 6; i++) {\n            let div = $('<div></div>').appendTo(selMonthBox);\n            for (let j = 0; j < 2; j++) {\n                let m = ++n;\n                let btn = $('<button></button>').text(YeePicker.monthMap[m]).appendTo(div);\n                btn.on('click', m, function (ev) {\n                    that.emit('setMonth', ev.data);\n                    that.emit('showDate');\n                });\n            }\n        }\n        //事件==========\n        that.on('setYear', function (year) {\n            ul.find('li').removeClass('yee-picker-current');\n            let currentLi = ul.find('li[index=\"' + year + '\"]');\n            if (currentLi.length > 0) {\n                currentLi.addClass('yee-picker-current');\n                $(function () {\n                    let utop = ul.position().top;\n                    let top = currentLi.position().top - 65;\n                    top = top - utop;\n                    selYearBox.animate({ scrollTop: top }, 200);\n                });\n            }\n        });\n        that.on('setMonth', function (month) {\n            let btns = selMonthBox.find('button').removeClass('yee-picker-current');\n            btns.eq(month - 1).addClass('yee-picker-current');\n        });\n        that.on('showYM', function () {\n            if (that.showType == 'YM') {\n                return;\n            }\n            that.showType = 'YM';\n            $(function () {\n                let height = baseBox.outerHeight(true);\n                mainLayout.height(height);\n                mainLayout.animate({ scrollTop: 0 }, 200, 'swing');\n            });\n        });\n        return baseBox;\n    }\n    createDateBox() {\n        let that = this;\n        let mainLayout = this.mainLayout;\n        let dataYear = 0;\n        let dataMonth = 0;\n        let dateDay = 0;\n        let baseBox = $('<div class=\"yee-picker-sel-day\"></div>').appendTo(mainLayout);\n        $('<div class=\"yee-picker-week\"><span>日</span><span>一</span><span>二</span><span>三</span><span>四</span><span>五</span><span>六</span></div>').appendTo(baseBox);\n        that.on('setDate', function (date) {\n            let year = date.getFullYear();\n            let month = date.getMonth() + 1;\n            let day = date.getDate();\n            if (year == dataYear && month == dataMonth && day == dateDay) {\n                return;\n            }\n            if (dataYear == year && dataMonth == month) {\n                that.emit('setDay', day);\n            }\n            else {\n                dateDay = day;\n            }\n            if (year != dataYear) {\n                dataMonth = 0;\n                that.emit('setYear', year);\n            }\n            if (month != dataMonth) {\n                that.emit('setMonth', month);\n            }\n        });\n        that.on('setYear', function (year) {\n            if (year == dataYear) {\n                return;\n            }\n            dataYear = year;\n            if (dataMonth == 0) {\n                return;\n            }\n            let lastDay = new Date(dataYear, dataMonth, 0).getDate();\n            if (dateDay > lastDay) {\n                that.emit('resetDay', lastDay);\n                return;\n            }\n            that.emit('resetDay', dateDay);\n        });\n        that.on('setMonth', function (month) {\n            if (month == dataMonth) {\n                return;\n            }\n            dataMonth = month;\n            let lastDay = new Date(dataYear, dataMonth, 0).getDate();\n            if (dateDay > lastDay) {\n                that.emit('resetDay', lastDay);\n                return;\n            }\n            that.emit('resetDay', dateDay);\n        });\n        that.on('resetDay', function (day) {\n            if (dataYear == 0 || dataMonth == 0) {\n                return;\n            }\n            baseBox.find('div.yee-picker-day-row').remove();\n            let dayMap = YeePicker.getDayMap(dataYear, dataMonth);\n            for (let i = 0; i < dayMap.length; i++) {\n                let weekMap = dayMap[i];\n                let row = $('<div class=\"yee-picker-day-row\"></div>').appendTo(baseBox);\n                for (let j = 0; j < weekMap.length; j++) {\n                    let d = weekMap[j];\n                    if (d == 0) {\n                        $('<span>').appendTo(row);\n                    }\n                    else {\n                        let btn = $('<button index=\"' + d + '\"></button>').appendTo(row);\n                        $('<span></span>').text(d).appendTo(btn);\n                        btn.on('click', d, function (ev) {\n                            that.emit('setDay', ev.data);\n                            if (that.setting.useTime) {\n                                that.emit('showTime');\n                            }\n                            else {\n                                setTimeout(function () {\n                                    let date = new Date(dataYear, dataMonth - 1, dateDay);\n                                    that.emit('choiceDate', date);\n                                }, 10);\n                            }\n                        });\n                    }\n                }\n            }\n            if (dayMap.length < 6) {\n                let row = $('<div class=\"yee-picker-day-row\"></div>').appendTo(baseBox);\n                $('<span></span>').appendTo(row);\n                let btn = $('<button class=\"yee-picker-today\"><span>今天</span></button>').appendTo(row);\n                btn.on('click', function (ev) {\n                    that.emit('setDate', new Date());\n                    if (!that.setting.useTime) {\n                        that.emit('choiceDate', new Date());\n                    }\n                });\n            }\n            else {\n                let row = baseBox.find('div.yee-picker-day-row:last');\n                let btn = $('<button class=\"yee-picker-today\"><span>今天</span></button>').appendTo(row);\n                btn.on('click', function (ev) {\n                    that.emit('setDate', new Date());\n                    if (!that.setting.useTime) {\n                        that.emit('choiceDate', new Date());\n                    }\n                });\n            }\n            that.emit('setDay', day);\n            if (that.showType == 'Date') {\n                that.emit('showDate', true);\n            }\n            if (that.showType == 'Time') {\n                that.emit('showTime', true);\n            }\n        });\n        that.on('setDay', function (day) {\n            dateDay = day;\n            let btns = baseBox.find('div.yee-picker-day-row button').removeClass('yee-picker-current');\n            btns.filter('[index=\"' + day + '\"]').addClass('yee-picker-current');\n            let date = new Date(dataYear, dataMonth - 1, dateDay);\n            that.emit('changeDate', date);\n        });\n        that.on('addMonth', function () {\n            if (dataMonth == 0 || dataYear == 0) {\n                return;\n            }\n            let month = dataMonth + 1;\n            let year = dataYear;\n            if (month > 12) {\n                month -= 12;\n                year += 1;\n            }\n            if (year != dataYear) {\n                that.emit('setYear', year);\n            }\n            that.emit('setMonth', month);\n        });\n        that.on('decMonth', function () {\n            if (dataMonth == 0 || dataYear == 0) {\n                return;\n            }\n            let month = dataMonth - 1;\n            let year = dataYear;\n            if (month < 1) {\n                month = 12;\n                year -= 1;\n            }\n            if (year != dataYear) {\n                that.emit('setYear', year);\n            }\n            that.emit('setMonth', month);\n        });\n        that.on('addDay', function () {\n            if (dateDay == 0 || dataMonth == 0 || dataYear == 0) {\n                return;\n            }\n            let lastDay = new Date(dataYear, dataMonth - 1, 0).getDate(); //当前最后一天\n            let day = dateDay + 1;\n            if (day > lastDay) {\n                that.emit('addMonth');\n                that.emit('setDay', 1);\n                return;\n            }\n            that.emit('setDay', day);\n        });\n        that.on('decDay', function () {\n            if (dateDay == 0 || dataMonth == 0 || dataYear == 0) {\n                return;\n            }\n            let day = dateDay - 1;\n            if (day < 1) {\n                that.emit('decMonth');\n                let lastDay = new Date(dataYear, dataMonth - 1, 0).getDate();\n                that.emit('setDay', lastDay);\n                return;\n            }\n            that.emit('setDay', day);\n        });\n        let firstShow = true;\n        that.on('showDate', function (force) {\n            if (!force && that.showType == 'Date') {\n                return;\n            }\n            that.showType = 'Date';\n            let height = baseBox.outerHeight(true);\n            if (that.setting.useTime) {\n                height += 30;\n            }\n            else {\n                height += 5;\n            }\n            mainLayout.height(height);\n            let top = baseBox.position().top + mainLayout.scrollTop();\n            if (force || firstShow) {\n                firstShow = false;\n                mainLayout.scrollTop(top);\n            }\n            else {\n                mainLayout.animate({ scrollTop: top }, 200, 'swing');\n            }\n        });\n        return baseBox;\n    }\n    createTimeBox() {\n        let that = this;\n        let mainLayout = this.mainLayout;\n        let dateHour = -1;\n        let dateMinute = -1;\n        let dateSecond = -1;\n        let dataDate = null;\n        let baseBox = $('<div class=\"yee-picker-sel-hms\"></div>').appendTo(mainLayout);\n        let displayBox = $('<div class=\"yee-picker-time-display\"></div>').appendTo(baseBox);\n        let btn1 = $('<button class=\"yee-picker-time\"><span>时间 <b>08:20:26</b></span></button>').appendTo(displayBox);\n        let btn2 = $('<button class=\"yee-picker-time-choice\"><span>确定选择</span></button>').appendTo(displayBox);\n        let btn3 = $('<button class=\"yee-picker-now\"><span>现在</span></button>').appendTo(displayBox);\n        let layout = $('<div class=\"yee-picker-sel-hms-layout\"></div>').appendTo(baseBox);\n        let hourBox = $('<div class=\"yee-picker-sel-hour\"></div>').appendTo(layout);\n        $('<div class=\"yee-picker-sel-apart\"></div>').appendTo(layout);\n        let minuteBox = $('<div class=\"yee-picker-sel-minute\"></div>').appendTo(layout);\n        $('<div class=\"yee-picker-sel-apart\"></div>').appendTo(layout);\n        let secondBox = $('<div class=\"yee-picker-sel-second\"></div>').appendTo(layout);\n        let item1 = $('<div></div>').appendTo(hourBox);\n        let decBtn1 = $('<button>-</button>').appendTo(item1);\n        let addBtn1 = $('<button>+</button>').appendTo(item1);\n        function changeDateTime() {\n            if (dateHour < 0 || dateMinute < 0 || dateSecond < 0) {\n                return;\n            }\n            let th = YeePicker.zeroize(dateHour);\n            let tm = YeePicker.zeroize(dateMinute);\n            let ts = YeePicker.zeroize(dateSecond);\n            btn1.find('span b').text(th + ':' + tm + ':' + ts);\n            let dataTime = new Date(dataDate.getFullYear(), dataDate.getMonth(), dataDate.getDate(), dateHour, dateMinute, dateSecond);\n            that.emit('changeDateTime', dataTime);\n        }\n        btn2.on('click', function () {\n            if (dateHour < 0 || dateMinute < 0 || dateSecond < 0) {\n                return;\n            }\n            let th = YeePicker.zeroize(dateHour);\n            let tm = YeePicker.zeroize(dateMinute);\n            let ts = YeePicker.zeroize(dateSecond);\n            btn1.find('span b').text(th + ':' + tm + ':' + ts);\n            let dateTime = new Date(dataDate.getFullYear(), dataDate.getMonth(), dataDate.getDate(), dateHour, dateMinute, dateSecond);\n            that.emit('choiceDateTime', dateTime);\n        });\n        that.on('changeDate', function (date) {\n            dataDate = date;\n            changeDateTime();\n        });\n        let h = 0;\n        for (let i = 0; i < 6; i++) {\n            let item = $('<div></div>').appendTo(hourBox);\n            for (let j = 0; j < 4; j++) {\n                let text = YeePicker.zeroize(h);\n                let button = $('<button></button>').attr('index', h).text(text).appendTo(item);\n                button.on('click', h, function (ev) {\n                    that.emit('setHour', ev.data);\n                });\n                h++;\n            }\n        }\n        let item2 = $('<div></div>').appendTo(minuteBox);\n        let decBtn2 = $('<button>-</button>').appendTo(item2);\n        let addBtn2 = $('<button>+</button>').appendTo(item2);\n        let m = 0;\n        for (let i = 0; i < 6; i++) {\n            let item = $('<div></div>').appendTo(minuteBox);\n            for (let j = 0; j < 2; j++) {\n                let text = YeePicker.zeroize(m);\n                let button = $('<button></button>').attr('index', m).text(text).appendTo(item);\n                button.on('click', m, function (ev) {\n                    that.emit('setMinute', ev.data);\n                });\n                m += 5;\n            }\n        }\n        let item3 = $('<div></div>').appendTo(secondBox);\n        let decBtn3 = $('<button>-</button>').appendTo(item3);\n        let addBtn3 = $('<button>+</button>').appendTo(item3);\n        let s = 0;\n        for (let i = 0; i < 6; i++) {\n            let item = $('<div></div>').appendTo(secondBox);\n            for (let j = 0; j < 2; j++) {\n                let text = YeePicker.zeroize(s);\n                let button = $('<button></button>').attr('index', s).text(text).appendTo(item);\n                button.on('click', s, function (ev) {\n                    that.emit('setSecond', ev.data);\n                });\n                s += 5;\n            }\n        }\n        that.on('showTime', function (force) {\n            if (!force && that.showType == 'Time') {\n                return;\n            }\n            that.showType = 'Time';\n            let height = baseBox.outerHeight(true);\n            height += 10;\n            mainLayout.height(height);\n            let top = baseBox.position().top + mainLayout.scrollTop() - 5;\n            if (force) {\n                mainLayout.scrollTop(top);\n            }\n            else {\n                mainLayout.animate({ scrollTop: top }, 200, 'swing');\n            }\n        });\n        //设置小时\n        let setHour = function (hour) {\n            dateHour = hour;\n            let btns = hourBox.find('button').removeClass('yee-picker-current');\n            btns.filter('[index=\"' + hour + '\"]').addClass('yee-picker-current');\n        };\n        //设置秒\n        let setSecond = function (second) {\n            dateSecond = second;\n            let leq = secondBox.find('button.yee-picker-current').removeClass('yee-picker-current');\n            let lt = leq.attr('index');\n            let ltext = YeePicker.zeroize(lt);\n            leq.text(ltext);\n            let t = Math.floor(second / 5) * 5;\n            let em = secondBox.find('button[index=\"' + t + '\"]').addClass('yee-picker-current');\n            let text = YeePicker.zeroize(second);\n            em.text(text);\n        };\n        //设置分钟\n        let setMinute = function (minute) {\n            if (dateMinute != minute) {\n                dateMinute = minute;\n                let leq = minuteBox.find('button.yee-picker-current').removeClass('yee-picker-current');\n                let lt = leq.attr('index');\n                let ltext = YeePicker.zeroize(lt);\n                leq.text(ltext);\n                let t = Math.floor(minute / 5) * 5;\n                let em = minuteBox.find('button[index=\"' + t + '\"]').addClass('yee-picker-current');\n                let text = YeePicker.zeroize(minute);\n                em.text(text);\n                setSecond(0);\n                return;\n            }\n        };\n        let setDateTime = function (date) {\n            let hour = date.getHours();\n            let minute = date.getMinutes();\n            let second = date.getSeconds();\n            dataDate = date;\n            that.emit('setDate', date);\n            if (hour == dateHour && minute == dateMinute && second == dateSecond) {\n                return;\n            }\n            if (hour != dateHour) {\n                setHour(hour);\n                that.emit('setHour', hour);\n            }\n            if (minute != dateMinute) {\n                setMinute(minute);\n            }\n            if (second != dateSecond) {\n                setSecond(minute);\n            }\n            changeDateTime();\n        };\n        btn3.on('click', function () {\n            let date = new Date();\n            setDateTime(date);\n        });\n        that.on('setDateTime', function (date) {\n            setDateTime(date);\n        });\n        that.on('setHour', function (hour) {\n            setHour(hour);\n            changeDateTime();\n        });\n        that.on('setMinute', function (minute, force = false) {\n            setMinute(minute);\n            changeDateTime();\n        });\n        that.on('setSecond', function (second, force = false) {\n            if (dateSecond == second) {\n                if (force) {\n                    changeDateTime();\n                }\n                return;\n            }\n            setSecond(second);\n            changeDateTime();\n        });\n        that.on('addHour', function () {\n            if (dateHour < 0) {\n                return;\n            }\n            let hour = dateHour + 1;\n            if (hour > 23) {\n                hour = 0;\n                that.emit('addDay');\n            }\n            that.emit('setHour', hour);\n        });\n        addBtn1.on('click', function () {\n            that.emit('addHour');\n        });\n        that.on('decHour', function () {\n            if (dateHour < 0) {\n                return;\n            }\n            let hour = dateHour - 1;\n            if (hour < 0) {\n                hour = 23;\n                that.emit('decDay');\n            }\n            that.emit('setHour', hour);\n        });\n        decBtn1.on('click', function () {\n            that.emit('decHour');\n        });\n        that.on('addMinute', function () {\n            if (dateMinute < 0) {\n                return;\n            }\n            let minute = dateMinute + 1;\n            if (minute > 59) {\n                minute = 0;\n                that.emit('addHour');\n            }\n            that.emit('setMinute', minute);\n        });\n        addBtn2.on('click', function () {\n            that.emit('addMinute');\n        });\n        that.on('decMinute', function () {\n            if (dateMinute < 0) {\n                return;\n            }\n            let minute = dateMinute - 1;\n            if (minute < 0) {\n                minute = 59;\n                that.emit('decHour');\n            }\n            that.emit('setMinute', minute);\n        });\n        decBtn2.on('click', function () {\n            that.emit('decMinute');\n        });\n        that.on('addSecond', function () {\n            if (dateSecond < 0) {\n                return;\n            }\n            let second = dateSecond + 1;\n            if (second > 59) {\n                second = 0;\n                that.emit('addMinute');\n            }\n            that.emit('setSecond', second);\n        });\n        addBtn3.on('click', function () {\n            that.emit('addSecond');\n        });\n        that.on('decSecond', function () {\n            if (dateSecond < 0) {\n                return;\n            }\n            let second = dateSecond - 1;\n            if (second < 0) {\n                second = 59;\n                that.emit('decMinute');\n            }\n            that.emit('setSecond', second);\n        });\n        decBtn3.on('click', function () {\n            that.emit('decSecond');\n        });\n        btn1.on('click', function () {\n            if (that.showType == 'Date') {\n                that.emit('showTime');\n            }\n            else {\n                that.emit('showDate');\n            }\n        });\n    }\n    show(offset) {\n        let dw = $(document).width();\n        let dh = $(document).height();\n        this.picker.show();\n        let time = this.dateValue || new Date();\n        if (this.setting.useTime) {\n            this.emit('setDateTime', time);\n        }\n        else {\n            this.emit('setDate', time);\n        }\n        dw = dw - this.picker.outerWidth(true) - 10;\n        dh = dh - 300;\n        if (offset.left > dw) {\n            offset.left = dw;\n        }\n        if (offset.top > dh) {\n            offset.top = dh;\n        }\n        if (offset.left < 0) {\n            offset.left = 0;\n        }\n        if (offset.top < 0) {\n            offset.top = 0;\n        }\n        this.picker.css({ left: offset.left + 'px', top: offset.top + 'px' });\n    }\n    hide() {\n        this.picker.hide();\n    }\n}\nYeePicker.monthMap = {\n    1: '一月',\n    2: '二月',\n    3: '三月',\n    4: '四月',\n    5: '五月',\n    6: '六月',\n    7: '七月',\n    8: '八月',\n    9: '九月',\n    10: '十月',\n    11: '十一',\n    12: '十二'\n};\nYeePicker.weekMap = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'];\nexports.YeePicker = YeePicker;\n//# sourceMappingURL=yee-picker.js.map\n\n//# sourceURL=webpack:///./src/module/yee-picker.js?");

/***/ }),

/***/ "./src/module/yee-qiniu.js":
/*!*********************************!*\
  !*** ./src/module/yee-qiniu.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yee_1 = __webpack_require__(/*! ../yee */ \"./src/yee.js\");\nclass YeeQiniu {\n    static getFileInfo(file) {\n        let path = file.name.toString();\n        let extension = path.lastIndexOf('.') === -1 ? '' : path.substr(path.lastIndexOf('.') + 1, path.length).toLowerCase();\n        return { path: path, extension: extension };\n    }\n    static getExtension(url) {\n        return url.lastIndexOf('.') === -1 ? '' : url.substr(url.lastIndexOf('.') + 1, url.length).toLowerCase();\n    }\n    static createImage(url, width, height) {\n        let def = $.Deferred();\n        let imgTemp = new Image();\n        imgTemp.onload = function () {\n            let w = imgTemp.width;\n            let h = imgTemp.height;\n            if (w > width) {\n                let pt = width / w; //高比宽\n                w = width;\n                h = h * pt;\n            }\n            if (h > height) {\n                let pt = height / h; //宽比高\n                h = height;\n                w = w * pt;\n            }\n            let img = $(imgTemp);\n            img.height(Math.round(h));\n            img.width(Math.round(w));\n            let table = $('<div style=\"display: table-cell; text-align: center; vertical-align: middle; overflow: hidden; line-height: 0px;\"></div>');\n            table.width(width);\n            table.height(height);\n            table.append(img);\n            def.resolve(table);\n        };\n        imgTemp.src = url;\n        return def;\n    }\n    constructor(elem, setting) {\n        this.setting = setting;\n        this.qel = $(elem);\n        let that = this;\n        let multiple = setting.multiple || false;\n        let fieldName = setting.fieldName || 'filedata';\n        let type = setting.type || 'file';\n        // console.log(setting);\n        if (type == 'image') {\n            multiple = false;\n        }\n        let form = this.form = $('<form></form>').hide().appendTo(document.body);\n        let field = this.field = $('<input type=\"file\"/>').attr('name', fieldName).appendTo(form);\n        if (multiple) {\n            field.attr('multiple', 'multiple');\n        }\n        field.on('change', function () {\n            that.preUpload();\n            return false;\n        });\n        //文件上传\n        if (type == 'file') {\n            that.upFile();\n        }\n        //单图片上传\n        else if (type == 'image') {\n            that.upImage();\n        }\n        //多图上传\n        else if (type == 'imgGroup') {\n            that.upImgGroup();\n        }\n        //多文件上传\n        else if (type == 'fileGroup') {\n            that.upFileGroup();\n        }\n    }\n    //上传文档\n    upFile() {\n        let field = this.field;\n        let qel = this.qel;\n        let that = this;\n        if (qel.is('input')) {\n            let button = null;\n            if (that.setting.button) {\n                button = $(that.setting.button);\n            }\n            else {\n                button = $('<a  href=\"javascript:;\" class=\"yee-btn\">选择文件</a>');\n                button.insertAfter(qel);\n            }\n            button.on('click', function () {\n                field.trigger('click');\n                // @ts-ignore\n                if (typeof (qel.setDefault) == 'function') {\n                    // @ts-ignore\n                    qel.setDefault();\n                }\n                return false;\n            });\n            qel.on('uploadComplete', function (ev, ret) {\n                if (!ret.status) {\n                    if (ret.msg !== '') {\n                        yee_1.Yee.alert(ret.msg);\n                    }\n                    return;\n                }\n                if (ret.data) {\n                    if (yee_1.Yee.isArray(ret.data)) {\n                        let urls = [];\n                        for (let i = 0; i < ret.data.length; i++) {\n                            if (ret.data[i].url) {\n                                urls.push(ret.data[i].url);\n                            }\n                        }\n                        qel.val(JSON.stringify(urls));\n                    }\n                    else if (ret.data.url) {\n                        if (that.setting.nameInput) {\n                            let nameInput = $(that.setting.nameInput);\n                            nameInput.val(ret.data.orgName);\n                        }\n                        qel.val(ret.data.url);\n                    }\n                }\n                if (ret.msg) {\n                    yee_1.Yee.msg(ret.msg);\n                }\n            });\n        }\n        else if (qel.is('a')) {\n            qel.on('click', function () {\n                field.trigger('click');\n                return false;\n            });\n        }\n    }\n    //上传图片\n    upImage() {\n        let setting = this.setting;\n        let field = this.field;\n        let qel = this.qel;\n        let btnWidth = setting.btnWidth || 100;\n        let btnHeight = setting.btnHeight || 100;\n        qel.hide();\n        let btnWrap = $('<div class=\"yee-img-wrap\"></div>');\n        btnWrap.insertAfter(qel);\n        let button = $('<a class=\"img-btn\" href=\"javascript:;\"></a>').appendTo(btnWrap);\n        button.width(btnWidth).height(btnHeight);\n        let delBtn = $('<a href=\"javascript:;\"></a>').addClass('img-del').hide().appendTo(btnWrap);\n        delBtn.on('click', function () {\n            qel.val('');\n            button.empty();\n            button.removeClass('img-bgnone');\n            delBtn.hide();\n        });\n        if (qel.val()) {\n            YeeQiniu.createImage(qel.val(), btnWidth, btnHeight).then(function (img) {\n                button.empty().append(img);\n                button.addClass('img-bgnone');\n                delBtn.show();\n            });\n        }\n        qel.on('uploadComplete', function (ev, ret) {\n            if (!ret.status) {\n                if (ret.msg !== '') {\n                    yee_1.Yee.alert(ret.msg);\n                }\n                return;\n            }\n            if (ret.data && ret.data.url) {\n                qel.val(ret.data.url);\n                YeeQiniu.createImage(ret.data.url, btnWidth, btnHeight).then(function (img) {\n                    button.empty().append(img);\n                    button.addClass('img-bgnone');\n                    delBtn.show();\n                });\n            }\n            if (ret.msg) {\n                yee_1.Yee.msg(ret.msg);\n            }\n        });\n        button.on('click', function () {\n            field.trigger('click');\n            if (typeof (qel.setDefault) == 'function') {\n                qel.setDefault();\n            }\n            return false;\n        });\n    }\n    //上传图片组\n    upImgGroup() {\n        let setting = this.setting;\n        let field = this.field;\n        let qel = this.qel;\n        let btnWidth = setting.btnWidth || 100;\n        let btnHeight = setting.btnHeight || 100;\n        let size = setting.size || 0;\n        qel.hide();\n        let shower = $('<div class=\"yee-img-wrap\"></div>').insertAfter(qel);\n        let button = $('<a href=\"javascript:;\" class=\"img-btn\"></a>').appendTo(shower);\n        button.width(btnWidth).height(btnHeight);\n        //跟新值\n        let update = function () {\n            let imgItems = [];\n            shower.find('div.img-item').each(function (index, element) {\n                let _this = $(element);\n                let dat = _this.data('value');\n                imgItems.push(dat);\n            });\n            if (imgItems.length === 0) {\n                qel.val('');\n            }\n            else {\n                let strValue = JSON.stringify(imgItems);\n                qel.val(strValue);\n            }\n            if (size > 0) {\n                if (imgItems.length >= size) {\n                    button.hide();\n                }\n                else {\n                    button.show();\n                }\n            }\n        };\n        let addImg = function (itemData) {\n            if (typeof itemData != 'object') {\n                return;\n            }\n            let item = $('<div class=\"img-item\"></div>').data('value', itemData);\n            let delBtn = $('<a href=\"javascript:;\"></a>').addClass('img-del').appendTo(item);\n            delBtn.hide();\n            delBtn.on('click', function () {\n                $(this).parent('.img-item').remove();\n                update();\n            });\n            YeeQiniu.createImage(itemData.url, btnWidth, btnHeight).then(function (img) {\n                item.append(img);\n                delBtn.show();\n            });\n            item.insertBefore(button);\n            update();\n        };\n        //初始化\n        let strValue = qel.val() || '[]';\n        let arrValue = [];\n        if (strValue !== '' && strValue !== 'null') {\n            try {\n                arrValue = JSON.parse(strValue);\n            }\n            catch (e) {\n                arrValue = [];\n            }\n        }\n        for (let i = 0; i < arrValue.length; i++) {\n            addImg(arrValue[i]);\n        }\n        button.on('click', function () {\n            field.trigger('click');\n            if (typeof (qel.setDefault) == 'function') {\n                qel.setDefault();\n            }\n            return false;\n        });\n        //监听上传完成\n        qel.on('uploadComplete', function (ev, ret) {\n            if (!ret.status) {\n                if (ret.msg !== '') {\n                    yee_1.Yee.alert(ret.msg);\n                }\n                return;\n            }\n            if (ret.data) {\n                if (yee_1.Yee.isArray(ret.data)) {\n                    for (let i = 0; i < ret.data.length; i++) {\n                        if (ret.data[i].url) {\n                            let item = { url: ret.data[i].url, name: ret.data[i].orgName };\n                            addImg(item);\n                        }\n                    }\n                }\n                else if (ret.data.url) {\n                    let item = { url: ret.data.url, name: ret.data.orgName };\n                    addImg(item);\n                }\n            }\n            if (ret.msg) {\n                yee_1.Yee.msg(ret.msg);\n            }\n        });\n    }\n    //上传文件组\n    upFileGroup() {\n        let setting = this.setting;\n        let field = this.field;\n        let qel = this.qel;\n        let size = setting.size || 0;\n        qel.hide();\n        let shower = $('<div class=\"yee-file-wrap\"></div>').insertAfter(qel);\n        let button = $('<a href=\"javascript:;\" class=\"yee-btn file-btn\">选择文件</a>').appendTo(shower);\n        //跟新值\n        let update = function () {\n            let imgItems = [];\n            shower.find('div.file-item').each(function (index, element) {\n                let _this = $(element);\n                let dat = _this.data('value'); //值\n                imgItems.push(dat);\n            });\n            if (imgItems.length === 0) {\n                qel.val('');\n            }\n            else {\n                let strValue = JSON.stringify(imgItems);\n                qel.val(strValue);\n            }\n            if (size > 0) {\n                if (imgItems.length >= size) {\n                    button.hide();\n                }\n                else {\n                    button.show();\n                }\n            }\n        };\n        //添加图片\n        let addFile = function (url, name = '') {\n            let item = $('<div class=\"file-item\"></div>').data('value', { url: url, name: name });\n            item.text(name);\n            let ext = YeeQiniu.getExtension(url);\n            item.addClass(ext);\n            let delBtn = $('<a href=\"javascript:;\"></a>').addClass('file-del').appendTo(item);\n            delBtn.on('click', function () {\n                $(this).parent('.file-item').remove();\n                update();\n            });\n            item.insertBefore(button);\n            update();\n        };\n        let strValue = qel.val() || '[]';\n        let arrValue = [];\n        if (strValue !== '' && strValue !== 'null') {\n            try {\n                arrValue = JSON.parse(strValue);\n            }\n            catch (e) {\n                arrValue = [];\n            }\n        }\n        for (let item of arrValue) {\n            addFile(item.url, item.name);\n        }\n        //按钮点击\n        button.on('click', function () {\n            field.trigger('click');\n            if (typeof (qel.setDefault) == 'function') {\n                qel.setDefault();\n            }\n            return false;\n        });\n        //监听上传完成\n        qel.on('uploadComplete', function (ev, ret) {\n            if (!ret.status) {\n                if (ret.msg !== '') {\n                    yee_1.Yee.alert(ret.msg);\n                }\n                return;\n            }\n            if (ret.data) {\n                if (yee_1.Yee.isArray(ret.data)) {\n                    for (let item of ret.data) {\n                        if (item.url) {\n                            addFile(item.url, item.orgName);\n                        }\n                    }\n                }\n                else if (ret.data.url) {\n                    addFile(ret.data.url, ret.data.orgName);\n                }\n            }\n            if (ret.msg) {\n                yee_1.Yee.msg(ret.msg);\n            }\n        });\n    }\n    preUpload() {\n        let setting = this.setting;\n        let that = this;\n        $.post('/service/qiniu_auth', function (ret) {\n            if (ret && ret.token) {\n                setting.token = ret.token;\n                that.upload();\n                setTimeout(function () {\n                    that.form.trigger('reset');\n                }, 100);\n            }\n            else {\n                setTimeout(function () {\n                    that.form.trigger('reset');\n                }, 100);\n            }\n        }, 'json');\n    }\n    upload() {\n        let setting = this.setting;\n        let that = this;\n        let allowExtensions = setting.extensions || '';\n        let files = this.field[0].files;\n        let type = setting.type || 'file';\n        let bindData = {};\n        if (setting.token) {\n            bindData.token = setting.token;\n        }\n        //携带参数\n        if (setting.param && yee_1.Yee.isObject(setting.param)) {\n            for (let key in setting.param) {\n                let val = setting.param['key'];\n                bindData[key] = String(val);\n            }\n        }\n        if (type == 'image') {\n            bindData.catSizes = setting.catSizes || null;\n            bindData.catType = setting.catType || null;\n            bindData.strictSize = setting.strictSize || null;\n        }\n        let multiple = setting.multiple || false;\n        let fieldName = setting.fieldName || 'filedata';\n        let url = setting.url || '';\n        //检查文件类型\n        if (allowExtensions != '') {\n            for (let i = 0; i < files.length; i++) {\n                let info = YeeQiniu.getFileInfo(files[i]);\n                let re = new RegExp(\"(^|\\\\s|,)\" + info.extension + \"($|\\\\s|,)\", \"ig\");\n                if ((re.exec(allowExtensions) === null || info.extension === '')) {\n                    yee_1.Yee.alert('对不起，只能上传 ' + allowExtensions + ' 类型的文件。');\n                    this.form.trigger('reset');\n                    return;\n                }\n            }\n        }\n        let fInfo = YeeQiniu.getFileInfo(files[0]);\n        function randomString(len) {\n            len = len || 32;\n            let chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678';\n            /****默认去掉了容易混淆的字符oOLl,9gq,Vv,Uu,I1****/\n            let maxPos = chars.length;\n            let pwd = '';\n            for (let i = 0; i < len; i++) {\n                pwd += chars.charAt(Math.floor(Math.random() * maxPos));\n            }\n            return pwd;\n        }\n        bindData['key'] = randomString(20) + '.' + fInfo.extension;\n        bindData['x:name'] = fInfo.path;\n        if (this.qel.emit('uploadBefore', bindData, files) === false) {\n            // @ts-ignore\n            this.trigger('reset');\n            return;\n        }\n        let xhr = new XMLHttpRequest();\n        //监听进度\n        xhr.upload.addEventListener(\"progress\", function (evt) {\n            let percent = Math.round(evt.loaded / evt.total * 100);\n            that.qel.emit('uploadProgress', [{ total: evt.total, loaded: evt.loaded, percent: percent }]);\n        }, false);\n        //监听完成\n        xhr.addEventListener(\"load\", function (evt) {\n            // @ts-ignore\n            let jsonText = evt.target.responseText;\n            try {\n                let data = JSON.parse(jsonText);\n                that.qel.emit('uploadComplete', data);\n            }\n            catch (e) {\n                yee_1.Yee.alert('上传失败，服务器出现了些状况');\n            }\n        }, false);\n        let fd = new FormData();\n        for (let key in bindData) {\n            if (bindData[key] !== null) {\n                fd.append(key, bindData[key]);\n            }\n        }\n        if (multiple) {\n            for (let i = 0; i < that.field[0].files.length; i++) {\n                fd.append(fieldName + '[]', that.field[0].files[i]);\n            }\n        }\n        else {\n            fd.append(fieldName, that.field[0].files[0]);\n        }\n        xhr.open(\"POST\", url);\n        xhr.send(fd);\n    }\n}\nexports.YeeQiniu = YeeQiniu;\n//# sourceMappingURL=yee-qiniu.js.map\n\n//# sourceURL=webpack:///./src/module/yee-qiniu.js?");

/***/ }),

/***/ "./src/module/yee-remote.js":
/*!**********************************!*\
  !*** ./src/module/yee-remote.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yee_1 = __webpack_require__(/*! ../yee */ \"./src/yee.js\");\nclass YeeRemote {\n    constructor(el, setting) {\n        let elem = $(el);\n        let name = elem.data('name') || elem.attr('name') || '';\n        let url = setting.url || '';\n        if (name == '' || url == '') {\n            return;\n        }\n        let method = (setting.method || 'post').toUpperCase();\n        let bind = setting.bind || ''; //绑定的名称\n        // @ts-ignore\n        let form = el.form ? $(el.form) : $(el).parents('form:first');\n        if (form.length == 0) {\n            form = $(document.body);\n        }\n        let timer = null;\n        elem.on('change', function () {\n            if (timer) {\n                window.clearTimeout(timer);\n                timer = null;\n            }\n            //先保住其他判断无错\n            timer = window.setTimeout(function () {\n                if (elem.data('yee-validate-init') && !elem.data('normalResult')) {\n                    return;\n                }\n                let data = {};\n                let value = elem.val();\n                data[name] = value;\n                if (bind != '') {\n                    let arrTemp = bind.split(',');\n                    for (let i = 0; i < arrTemp.length; i++) {\n                        let key = arrTemp[i];\n                        let qel = form.find(':input[name=\"' + key + '\"]');\n                        if (qel.length == 1) {\n                            data[key] = qel.val() || '';\n                        }\n                        else if (qel.length > 1) {\n                            let temp = [];\n                            qel.filter(':checked').each(function () {\n                                temp.push($(this).val());\n                            });\n                            data[key] = temp.join(',');\n                        }\n                        else {\n                            let urlInfo = yee_1.Yee.parseUrl(window.location.search);\n                            if (urlInfo.param[key] !== void 0) {\n                                data[key] = urlInfo.param[key];\n                            }\n                        }\n                    }\n                }\n                $.ajax({\n                    url: url, data: data, type: method, dataType: 'json', success: function (ret) {\n                        if (ret.status === true) {\n                            elem.data('remoteResult', true);\n                            elem.data('remoteMessage', ret.msg);\n                            // @ts-ignore\n                            if (typeof (elem.setCorrect) == 'function') {\n                                // @ts-ignore\n                                elem.setCorrect(ret.msg);\n                            }\n                        }\n                        else {\n                            elem.data('remoteResult', false);\n                            elem.data('remoteMessage', ret.msg);\n                            // @ts-ignore\n                            if (typeof (elem.setError) == 'function') {\n                                // @ts-ignore\n                                elem.setError(ret.msg);\n                            }\n                        }\n                    }\n                });\n            }, 5);\n        });\n    }\n}\nexports.YeeRemote = YeeRemote;\n//# sourceMappingURL=yee-remote.js.map\n\n//# sourceURL=webpack:///./src/module/yee-remote.js?");

/***/ }),

/***/ "./src/module/yee-search-form.js":
/*!***************************************!*\
  !*** ./src/module/yee-search-form.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yee_1 = __webpack_require__(/*! ../yee */ \"./src/yee.js\");\nclass YeeSearchForm {\n    constructor(elem, setting) {\n        let qel = this.qel = $(elem);\n        setting = $.extend({ method: 'get', autoUrl: 1, bind: '#list', url: qel.attr('action') }, setting);\n        let list = $(setting.bind);\n        if (setting.autoUrl == 1) {\n            setting.url = window.location.pathname + '.json';\n        }\n        this.initForm();\n        qel.on('submit', function (ev) {\n            if (ev.result === false) {\n                return false;\n            }\n            let sendData = qel.serialize();\n            if (list.length > 0) {\n                list.each(function () {\n                    // @ts-ignore\n                    $(this).emit('load', setting.url + '?' + sendData, {}, true);\n                });\n            }\n            return false;\n        });\n    }\n    initForm() {\n        let args = yee_1.Yee.parseUrl(window.location.href);\n        for (let name in args.param) {\n            let box = this.qel.find(':input[name=\"' + name + '\"]');\n            if (box.length > 0) {\n                if (box.is(':radio') || box.is(':checkbox')) {\n                    if (box.val() == args.param[name]) {\n                        box.prop(\"checked\", true);\n                    }\n                }\n                else {\n                    box.val(args.param[name]);\n                }\n            }\n        }\n    }\n    reset() {\n        this.qel.get(0).reset();\n        this.initForm();\n    }\n}\nexports.YeeSearchForm = YeeSearchForm;\n//# sourceMappingURL=yee-search-form.js.map\n\n//# sourceURL=webpack:///./src/module/yee-search-form.js?");

/***/ }),

/***/ "./src/module/yee-select-dialog.js":
/*!*****************************************!*\
  !*** ./src/module/yee-select-dialog.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yee_1 = __webpack_require__(/*! ../yee */ \"./src/yee.js\");\nclass YeeSelectDialog {\n    constructor(elem, setting) {\n        let qel = $(elem);\n        if (qel.is(':input')) {\n            let textBox = $('<input type=\"text\" readonly=\"readonly\"/>').insertAfter(qel);\n            textBox.attr('class', qel.attr('class'));\n            textBox.attr('style', qel.attr('style'));\n            textBox.attr('placeholder', qel.attr('placeholder'));\n            if (qel.is(':disabled')) {\n                textBox.prop('disabled', true);\n            }\n            qel.hide();\n            let span = $('<span></span>').insertAfter(textBox);\n            let button = $('<a class=\"form-btn\" href=\"javascript:;\" yee-module=\"dialog\" style=\"margin-left: 5px\">选择</a>').appendTo(span);\n            if (qel.is(':disabled')) {\n                button.addClass('disabled');\n            }\n            if (setting.btnText) {\n                button.text(setting.btnText);\n            }\n            button.data('carry', '#' + qel.attr('id'));\n            if (setting.width) {\n                button.data('width', setting.width);\n            }\n            if (setting.height) {\n                button.data('height', setting.height);\n            }\n            textBox.on('click', function () {\n                button.trigger('click');\n            });\n            button.data('url', setting.href || setting.url || '');\n            button.data('assign', { value: qel.val(), text: qel.data('text') || '' });\n            textBox.val(qel.data('text') || '');\n            button.on('success', function (ev, data) {\n                if (data && data.value && data.text) {\n                    // @ts-ignore\n                    let ret = qel.emit('select', data);\n                    if (ret !== null) {\n                        qel.val(data.value);\n                        textBox.val(data.text);\n                        // @ts-ignore\n                        if (typeof qel.setDefault == 'function') {\n                            // @ts-ignore\n                            qel.setDefault();\n                        }\n                    }\n                }\n            });\n            if (setting.clearBtn) {\n                let clearBtn = $('<a class=\"form-btn\" href=\"javascript:;\" style=\"margin-left: 5px\">清除</a>').appendTo(span);\n                clearBtn.on('click', function () {\n                    qel.val('');\n                    textBox.val('');\n                });\n            }\n            setTimeout(function () {\n                yee_1.Yee.update(span);\n            }, 100);\n        }\n        else if (qel.is('a')) {\n            qel.on('click', function () {\n                let data = $(this).data() || null;\n                yee_1.Yee.readyDialog(function (dialog) {\n                    dialog.success(data);\n                    dialog.close();\n                });\n            });\n        }\n    }\n}\nexports.YeeSelectDialog = YeeSelectDialog;\n//# sourceMappingURL=yee-select-dialog.js.map\n\n//# sourceURL=webpack:///./src/module/yee-select-dialog.js?");

/***/ }),

/***/ "./src/module/yee-template.js":
/*!************************************!*\
  !*** ./src/module/yee-template.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yee_1 = __webpack_require__(/*! ../yee */ \"./src/yee.js\");\nfunction merge(...args) {\n    return Object.assign({}, ...args);\n}\nclass YeeTemplate {\n    constructor(elem, setting = {}) {\n        this.template = null;\n        //已经插入的\n        this.rendered = [];\n        this._parent = null;\n        this.placeholder = null;\n        this.stack = [];\n        let qel = $(elem);\n        this.engine = setting.engine || 'yee';\n        if ((qel.attr('yee-template') || '') == '') {\n            qel.attr('yee-template', this.engine);\n        }\n        if (qel.attr('id') && !setting.tplId) {\n            setting.tplId = qel.attr('id');\n        }\n        let template = this.template = qel.get(0);\n        if (setting.tplId && setting.tplId != '') {\n            YeeTemplate.instance[setting.tplId] = this;\n        }\n        let parent = this._parent = template.parentNode;\n        let that = this;\n        if (this.engine == 'vue') {\n            let cp = $(template).clone();\n            // parent.replaceChild(cp.get(0), template);\n            yee_1.Yee.use('vue').then(function () {\n                let data = setting.define || {};\n                // @ts-ignore\n                that.app = new Vue({\n                    el: cp.get(0),\n                    data: data\n                });\n                if (setting.source) {\n                    this.render(setting.source);\n                }\n            });\n        }\n        else {\n            let oComment = this.placeholder = document.createComment('yee-template-' + YeeTemplate.index++);\n            parent.insertBefore(oComment, template);\n            parent.removeChild(template);\n            if (setting.source) {\n                this.render(setting.source);\n            }\n        }\n    }\n    static getAttr(template) {\n        let attrs = template.attributes;\n        let data = {};\n        for (let i = 0; i < attrs.length; i++) {\n            let item = attrs.item(i);\n            let name = item.name;\n            if (/^:[a-z0-9_-]+$/ig.test(name)) {\n                data[name] = item.value;\n            }\n        }\n        return data;\n    }\n    runFunc(code) {\n        let temp = merge.apply(null, this.stack);\n        try {\n            code = 'with(__data__){return (' + code.trim() + ');}';\n            let func = new Function('__data__', code);\n            if (typeof func == 'function') {\n                return func(temp);\n            }\n        }\n        catch (e) {\n            console.error(e, temp, code);\n            return null;\n        }\n    }\n    renderFor(elem, each, item) {\n        elem.removeAttribute('yee-each');\n        elem.removeAttribute('yee-item');\n        let key = elem.getAttribute('yee-key') || null;\n        if (key) {\n            elem.removeAttribute('yee-key');\n        }\n        if (!/^\\w+$/.test(key)) {\n            key = null;\n        }\n        let loop = this.runFunc(each);\n        let that = this;\n        if (yee_1.Yee.isArray(loop)) {\n            for (let i = 0; i < loop.length; i++) {\n                (function (elem, value) {\n                    // console.log('--进栈--' + that.stack.length, that.stack);\n                    let temp = {};\n                    temp[item] = value;\n                    if (key) {\n                        temp[key] = i;\n                    }\n                    that.stack.push(temp);\n                    let len1 = that.stack.length;\n                    let clone = elem.cloneNode(true);\n                    if (!elem.parentNode) {\n                        that._parent.insertBefore(clone, this.placeholder);\n                        that.rendered.push(clone);\n                    }\n                    else {\n                        elem.parentNode.insertBefore(clone, elem);\n                    }\n                    that.renderItem(clone);\n                    let len2 = that.stack.length;\n                    if (len1 !== len2) {\n                        console.error('数据有误');\n                    }\n                    that.stack.pop();\n                    // console.log('--出栈--' + that.stack.length, that.stack);\n                })(elem, loop[i]);\n            }\n        }\n        else if (yee_1.Yee.isObject(loop)) {\n            for (let i in loop) {\n                (function (elem, value) {\n                    //console.log('--进栈--', that.stack);\n                    let temp = {};\n                    temp[item] = value;\n                    if (key) {\n                        temp[key] = i;\n                    }\n                    that.stack.push(temp);\n                    let len1 = that.stack.length;\n                    let clone = elem.cloneNode(true);\n                    if (!elem.parentNode) {\n                        that._parent.insertBefore(clone, this.placeholder);\n                        that.rendered.push(clone);\n                    }\n                    else {\n                        elem.parentNode.insertBefore(clone, elem);\n                    }\n                    that.renderItem(clone);\n                    let len2 = that.stack.length;\n                    if (len1 !== len2) {\n                        console.error('数据有误');\n                    }\n                    that.stack.pop();\n                    // console.log('--出栈--', that.stack);\n                })(elem, loop[i]);\n            }\n        }\n        if (elem.parentNode) {\n            elem.parentNode.removeChild(elem);\n        }\n    }\n    renderIf(elem, code) {\n        elem.removeAttribute('yee-if');\n        let condition = this.runFunc(code);\n        // console.log(code, condition, data, assign);\n        if (condition) {\n            let each = elem.getAttribute('yee-each');\n            let item = elem.getAttribute('yee-item');\n            if (each && item && /^\\w+$/.test(item)) {\n                this.renderFor(elem, each, item);\n                return;\n            }\n            this.renderItem(elem);\n        }\n        else {\n            if (elem.parentNode) {\n                elem.parentNode.removeChild(elem);\n            }\n        }\n    }\n    renderItem(elem) {\n        if (!elem || elem.__render) {\n            //  console.log('重复', elem);\n            return;\n        }\n        let attrs = YeeTemplate.getAttr(elem);\n        for (let name in attrs) {\n            if (typeof name !== 'string' || name.trim() === '') {\n                continue;\n            }\n            elem.removeAttribute(name);\n            let code = String(attrs[name]).trim();\n            if (!code) {\n                continue;\n            }\n            let value = this.runFunc(code);\n            switch (name) {\n                case ':text':\n                    elem.innerText = value;\n                    break;\n                case ':html':\n                    elem.innerHTML = value;\n                    break;\n                default:\n                    let attr = name.replace(/^:/, '');\n                    elem.setAttribute(attr, value);\n                    break;\n            }\n        }\n        for (let child of elem.children) {\n            this.renderAll(child);\n        }\n        if (!elem.parentNode) {\n            this._parent.insertBefore(elem, this.placeholder);\n            this.rendered.push(elem);\n        }\n        elem.__render = true;\n    }\n    renderAll(elem) {\n        let code = elem.getAttribute('yee-if');\n        if (code) {\n            this.renderIf(elem, code);\n            return;\n        }\n        let each = elem.getAttribute('yee-each');\n        let item = elem.getAttribute('yee-item');\n        if (each && item && /^\\w+$/.test(item)) {\n            this.renderFor(elem, each, item);\n            return;\n        }\n        this.renderItem(elem);\n    }\n    render(data) {\n        let deferred = $.Deferred();\n        let that = this;\n        if (this.engine == 'vue') {\n            if (!this.app) {\n                setTimeout(function () {\n                    that.render(data).then(function () {\n                        deferred.resolve();\n                    });\n                }, 10);\n                return deferred;\n            }\n            let vm = this.app;\n            for (let key in data) {\n                vm[key] = data[key];\n            }\n            vm.$nextTick(function () {\n                vm.$el.removeAttribute('yee-template');\n                let code = $(vm.$el.outerHTML);\n                that._parent.replaceChild(code.get(0), that.template);\n                that.template = code.get(0);\n                deferred.resolve();\n            });\n        }\n        else {\n            for (let node of this.rendered) {\n                if (node.parentNode) {\n                    node.parentNode.removeChild(node);\n                }\n            }\n            this.rendered = [];\n            //第一次压栈\n            this.stack = [];\n            this.stack.push(data);\n            // @ts-ignore\n            let tpl = this.template.cloneNode(true);\n            this.renderAll(tpl);\n            tpl.removeAttribute('yee-template');\n            deferred.resolve();\n        }\n        return deferred;\n    }\n    parent() {\n        return this._parent;\n    }\n}\nYeeTemplate.index = 0;\nYeeTemplate.instance = {};\nexports.YeeTemplate = YeeTemplate;\n//# sourceMappingURL=yee-template.js.map\n\n//# sourceURL=webpack:///./src/module/yee-template.js?");

/***/ }),

/***/ "./src/module/yee-tinymce.js":
/*!***********************************!*\
  !*** ./src/module/yee-tinymce.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yee_1 = __webpack_require__(/*! ../yee */ \"./src/yee.js\");\nclass YeeTinymce {\n    constructor(elem, setting) {\n        if (!elem.style.width) {\n            elem.style.width = '100%';\n        }\n        if (!elem.style.height) {\n            elem.style.height = '400px';\n        }\n        let basic = {\n            language: 'zh_CN',\n            plugins: [\n                'advlist autolink lists link image charmap print preview anchor textcolor',\n                'searchreplace visualblocks code fullscreen',\n                'insertdatetime media table contextmenu paste code help wordcount'\n            ],\n            menubar: (function () {\n                if (setting.typeMode == 'basic' || setting.typeMode == 'mini') {\n                    return false;\n                }\n                return true;\n            })(),\n            toolbar: (function () {\n                if (setting.typeMode == 'mini') {\n                    return 'formatselect | bold italic forecolor backcolor | table link image codesample removeformat | help fullscreen';\n                }\n                return 'insert | undo redo |  formatselect | bold italic forecolor backcolor | table link image codesample | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help fullscreen';\n            })(),\n            image_advtab: true,\n            images_upload_url: '/service/tiny_upload',\n            images_upload_credentials: false,\n            image_class_list: [\n                { title: 'None', value: '' },\n                { title: 'Some class', value: 'class-name' }\n            ],\n            importcss_append: true,\n            templates: [\n                { title: 'Some title 1', description: 'Some desc 1', content: 'My content' },\n                {\n                    title: 'Some title 2',\n                    description: 'Some desc 2',\n                    content: '<div class=\"mceTmpl\"><span class=\"cdate\">cdate</span><span class=\"mdate\">mdate</span>My content2</div>'\n                }\n            ],\n            init_instance_callback: function (editor) {\n                editor.on('GetContent', function (e) {\n                    let html = e.content;\n                    let reg1 = new RegExp('<\\\\/?(\\\\!doctype|html|head|title|body)(\\\\s[^>]*)?>', 'gi');\n                    html = $.trim(html.replace(reg1, ''));\n                    let reg2 = new RegExp('<\\\\/?(p|span|div|br)(\\\\s[^>]*)?>', 'gi');\n                    let text = $.trim(html.replace(reg2, ''));\n                    if (text == '') {\n                        e.content = '';\n                    }\n                    else {\n                        e.content = $.trim(html);\n                    }\n                });\n            },\n            template_cdate_format: '[CDATE: %m/%d/%Y : %H:%M:%S]',\n            template_mdate_format: '[MDATE: %m/%d/%Y : %H:%M:%S]',\n            elementpath: false,\n            statusbar: false,\n            relative_urls: false,\n        };\n        setting = $.extend(basic, setting);\n        yee_1.Yee.seq(['tinymce', 'tinymce-jquery', 'tinymce-lang']).then(function () {\n            if (YeeTinymce.baseUrl == null) {\n                YeeTinymce.baseUrl = (function () {\n                    let scripts = document.getElementsByTagName('script');\n                    for (let script of scripts) {\n                        let src = script.hasAttribute ? script.src : script.getAttribute('src');\n                        let m = src.match(/^(.*)tinymce(-\\d+(\\.\\d+)*)?(\\.min)?\\.js/i);\n                        if (m) {\n                            return m[1];\n                        }\n                    }\n                    return '';\n                })();\n            }\n            setting.content_css = [\n                //   '//fonts.googleapis.com/css?family=Lato:300,300i,400,400i',\n                YeeTinymce.baseUrl + 'css/codepen.min.css'\n            ];\n            //@ts-ignore\n            $(elem).tinymce(setting);\n        });\n    }\n}\nYeeTinymce.baseUrl = null;\nexports.YeeTinymce = YeeTinymce;\n//# sourceMappingURL=yee-tinymce.js.map\n\n//# sourceURL=webpack:///./src/module/yee-tinymce.js?");

/***/ }),

/***/ "./src/module/yee-upload.js":
/*!**********************************!*\
  !*** ./src/module/yee-upload.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yee_1 = __webpack_require__(/*! ../yee */ \"./src/yee.js\");\nclass YeeUpload {\n    static getFileInfo(file) {\n        let path = file.name.toString();\n        let extension = path.lastIndexOf('.') === -1 ? '' : path.substr(path.lastIndexOf('.') + 1, path.length).toLowerCase();\n        return { path: path, extension: extension };\n    }\n    static getExtension(url) {\n        return url.lastIndexOf('.') === -1 ? '' : url.substr(url.lastIndexOf('.') + 1, url.length).toLowerCase();\n    }\n    static createImage(url, width, height) {\n        let def = $.Deferred();\n        let imgTemp = new Image();\n        imgTemp.onload = function () {\n            let w = imgTemp.width;\n            let h = imgTemp.height;\n            if (w > width) {\n                let pt = width / w; //高比宽\n                w = width;\n                h = h * pt;\n            }\n            if (h > height) {\n                let pt = height / h; //宽比高\n                h = height;\n                w = w * pt;\n            }\n            let img = $('<img/>');\n            img.height(Math.round(h));\n            img.width(Math.round(w));\n            img.attr('src', url);\n            // let table = $('<table  border=\"0\" cellspacing=\"0\" cellpadding=\"0\"><tr><td style=\"padding:0px; vertical-align:middle; text-align:center; overflow: hidden; line-height:0px;\"></td></tr></table>');\n            let table = $('<div style=\"display: table-cell; text-align: center; vertical-align: middle; overflow: hidden; line-height: 0px;\"></div>');\n            table.width(width);\n            table.height(height);\n            table.append(img);\n            //table.find('td').append(img);\n            def.resolve(table);\n        };\n        imgTemp.src = url;\n        return def;\n    }\n    constructor(elem, setting) {\n        this.setting = setting;\n        this.qel = $(elem);\n        let that = this;\n        let multiple = setting.multiple || false;\n        let fieldName = setting.fieldName || 'filedata';\n        let type = setting.type || 'file';\n        let accept = setting.accept || '';\n        if (type == 'image') {\n            multiple = false;\n        }\n        let form = this.form = $('<form></form>').hide().appendTo(document.body);\n        let field = this.field = $('<input type=\"file\"/>').attr('name', fieldName).appendTo(form);\n        if (accept != '') {\n            field.attr('accept', accept);\n        }\n        if (multiple) {\n            field.attr('multiple', 'multiple');\n        }\n        field.on('change', function () {\n            that.upload();\n            setTimeout(function () {\n                form.trigger('reset');\n            }, 100);\n            return false;\n        });\n        //文件上传\n        if (type == 'file') {\n            that.upFile();\n        }\n        //单图片上传\n        else if (type == 'image') {\n            that.upImage();\n        }\n        //多图上传\n        else if (type == 'imgGroup') {\n            that.upImgGroup();\n        }\n        //多文件上传\n        else if (type == 'fileGroup') {\n            that.upFileGroup();\n        }\n    }\n    //上传文档\n    upFile() {\n        let field = this.field;\n        let qel = this.qel;\n        let that = this;\n        if (qel.is('input')) {\n            let button = null;\n            if (that.setting.button) {\n                button = $(that.setting.button);\n            }\n            else {\n                button = $('<a  href=\"javascript:;\" class=\"yee-btn\">选择文件</a>');\n                button.insertAfter(qel);\n            }\n            button.on('click', function () {\n                field.trigger('click');\n                // @ts-ignore\n                if (typeof (qel.setDefault) == 'function') {\n                    // @ts-ignore\n                    qel.setDefault();\n                }\n                return false;\n            });\n            qel.on('uploadComplete', function (ev, ret) {\n                if (!ret.status) {\n                    if (ret.msg !== '') {\n                        yee_1.Yee.alert(ret.msg);\n                    }\n                    return;\n                }\n                if (ret.data) {\n                    if (yee_1.Yee.isArray(ret.data)) {\n                        let urls = [];\n                        for (let i = 0; i < ret.data.length; i++) {\n                            if (ret.data[i].url) {\n                                urls.push(ret.data[i].url);\n                            }\n                        }\n                        qel.val(JSON.stringify(urls));\n                    }\n                    else if (ret.data.url) {\n                        if (that.setting.nameInput) {\n                            let nameInput = $(that.setting.nameInput);\n                            nameInput.val(ret.data.orgName);\n                        }\n                        qel.val(ret.data.url);\n                    }\n                }\n                if (ret.msg) {\n                    yee_1.Yee.msg(ret.msg);\n                }\n            });\n        }\n        else if (qel.is('a')) {\n            qel.on('click', function () {\n                field.trigger('click');\n                return false;\n            });\n        }\n    }\n    //上传图片\n    upImage() {\n        let setting = this.setting;\n        let field = this.field;\n        let qel = this.qel;\n        let btnWidth = setting.btnWidth || 100;\n        let btnHeight = setting.btnHeight || 100;\n        qel.hide();\n        let btnWrap = $('<div class=\"yee-img-wrap\"></div>');\n        btnWrap.insertAfter(qel);\n        let button = $('<a class=\"img-btn\" href=\"javascript:;\"></a>').appendTo(btnWrap);\n        button.width(btnWidth).height(btnHeight);\n        let delBtn = $('<a href=\"javascript:;\"></a>').addClass('img-del').hide().appendTo(btnWrap);\n        delBtn.on('click', function () {\n            qel.val('');\n            button.empty();\n            button.removeClass('img-bgnone');\n            delBtn.hide();\n        });\n        if (qel.val()) {\n            let data = {\n                url: qel.val(),\n                btnWidth: btnWidth,\n                btnHeight: btnHeight\n            };\n            qel.emit('createImage', data);\n            YeeUpload.createImage(data.url, data.btnWidth, data.btnHeight).then(function (img) {\n                button.empty().append(img);\n                button.addClass('img-bgnone');\n                delBtn.show();\n            });\n        }\n        qel.on('uploadComplete', function (ev, ret) {\n            if (!ret.status) {\n                if (ret.msg !== '') {\n                    yee_1.Yee.alert(ret.msg);\n                }\n                return;\n            }\n            if (ret.data && ret.data.url) {\n                qel.val(ret.data.url);\n                let data = {\n                    url: ret.data.url,\n                    btnWidth: btnWidth,\n                    btnHeight: btnHeight\n                };\n                qel.emit('createImage', data);\n                YeeUpload.createImage(data.url, data.btnWidth, data.btnHeight).then(function (img) {\n                    button.empty().append(img);\n                    button.addClass('img-bgnone');\n                    delBtn.show();\n                });\n            }\n            if (ret.msg) {\n                yee_1.Yee.msg(ret.msg);\n            }\n        });\n        button.on('click', function () {\n            field.trigger('click');\n            if (typeof (qel.setDefault) == 'function') {\n                qel.setDefault();\n            }\n            return false;\n        });\n    }\n    //上传图片组\n    upImgGroup() {\n        let setting = this.setting;\n        let field = this.field;\n        let qel = this.qel;\n        let btnWidth = setting.btnWidth || 100;\n        let btnHeight = setting.btnHeight || 100;\n        let size = setting.size || 0;\n        qel.hide();\n        let shower = $('<div class=\"yee-img-wrap\"></div>').insertAfter(qel);\n        let button = $('<a href=\"javascript:;\" class=\"img-btn\"></a>').appendTo(shower);\n        button.width(btnWidth).height(btnHeight);\n        //跟新值\n        let update = function () {\n            let imgItems = [];\n            shower.find('div.img-item').each(function (index, element) {\n                let _this = $(element);\n                let dat = _this.data('value');\n                imgItems.push(dat);\n            });\n            if (imgItems.length === 0) {\n                qel.val('');\n            }\n            else {\n                let strValue = JSON.stringify(imgItems);\n                qel.val(strValue);\n            }\n            if (size > 0) {\n                if (imgItems.length >= size) {\n                    button.hide();\n                }\n                else {\n                    button.show();\n                }\n            }\n        };\n        let addImg = function (url) {\n            let item = $('<div class=\"img-item\"></div>').data('value', url);\n            let delBtn = $('<a href=\"javascript:;\"></a>').addClass('img-del').appendTo(item);\n            delBtn.hide();\n            delBtn.on('click', function () {\n                $(this).parent('.img-item').remove();\n                update();\n            });\n            let data = {\n                url: url,\n                btnWidth: btnWidth,\n                btnHeight: btnHeight\n            };\n            qel.emit('createImage', data);\n            YeeUpload.createImage(data.url, data.btnWidth, data.btnHeight).then(function (img) {\n                item.append(img);\n                delBtn.show();\n            });\n            item.insertBefore(button);\n            update();\n        };\n        $(function () {\n            let strValue = qel.val() || '[]';\n            let arrValue = [];\n            if (strValue !== '' && strValue !== 'null') {\n                try {\n                    arrValue = JSON.parse(strValue);\n                }\n                catch (e) {\n                    arrValue = [];\n                }\n            }\n            for (let i = 0; i < arrValue.length; i++) {\n                addImg(arrValue[i]);\n            }\n        });\n        button.on('click', function () {\n            field.trigger('click');\n            if (typeof (qel.setDefault) == 'function') {\n                qel.setDefault();\n            }\n            return false;\n        });\n        //监听上传完成\n        qel.on('uploadComplete', function (ev, ret) {\n            if (!ret.status) {\n                if (ret.msg !== '') {\n                    yee_1.Yee.alert(ret.msg);\n                }\n                return;\n            }\n            if (ret.data) {\n                if (yee_1.Yee.isArray(ret.data)) {\n                    for (let i = 0; i < ret.data.length; i++) {\n                        if (ret.data[i].url) {\n                            addImg(ret.data[i].url);\n                        }\n                    }\n                }\n                else if (ret.data.url) {\n                    addImg(ret.data.url);\n                }\n            }\n            if (ret.msg) {\n                yee_1.Yee.msg(ret.msg);\n            }\n        });\n    }\n    //上传文件组\n    upFileGroup() {\n        let setting = this.setting;\n        let field = this.field;\n        let qel = this.qel;\n        let size = setting.size || 0;\n        qel.hide();\n        let shower = $('<div class=\"yee-file-wrap\"></div>').insertAfter(qel);\n        let button = $('<a href=\"javascript:;\" class=\"yee-btn file-btn\">选择文件</a>').appendTo(shower);\n        //跟新值\n        let update = function () {\n            let imgItems = [];\n            shower.find('div.file-item').each(function (index, element) {\n                let _this = $(element);\n                let dat = _this.data('value'); //值\n                //console.log(dat);\n                if (dat == null || typeof dat != 'object') {\n                    return;\n                }\n                imgItems.push(dat);\n            });\n            if (imgItems.length === 0) {\n                qel.val('');\n            }\n            else {\n                let strValue = JSON.stringify(imgItems);\n                qel.val(strValue);\n            }\n            if (size > 0) {\n                if (imgItems.length >= size) {\n                    button.hide();\n                }\n                else {\n                    button.show();\n                }\n            }\n        };\n        //添加图片\n        let addFile = function (url, name = '') {\n            let item = $('<div class=\"file-item\"></div>').data('value', { url: url, name: name });\n            item.text(name);\n            let ext = YeeUpload.getExtension(url);\n            item.addClass(ext);\n            let delBtn = $('<a href=\"javascript:;\"></a>').addClass('file-del').appendTo(item);\n            delBtn.on('click', function () {\n                $(this).parent('.file-item').remove();\n                update();\n            });\n            item.insertBefore(button);\n            update();\n        };\n        $(function () {\n            let strValue = qel.val() || '[]';\n            let arrValue = [];\n            if (strValue !== '' && strValue !== 'null') {\n                try {\n                    arrValue = JSON.parse(strValue);\n                }\n                catch (e) {\n                    arrValue = [];\n                }\n            }\n            let temp = [];\n            for (let item of arrValue) {\n                if (typeof item == null || typeof item != 'object') {\n                    continue;\n                }\n                temp.push(item);\n                addFile(item.url, item.name);\n            }\n            if (temp.length == 0) {\n                qel.val('[]');\n            }\n        });\n        //按钮点击\n        button.on('click', function () {\n            field.trigger('click');\n            if (typeof (qel.setDefault) == 'function') {\n                qel.setDefault();\n            }\n            return false;\n        });\n        //监听上传完成\n        qel.on('uploadComplete', function (ev, ret) {\n            if (!ret.status) {\n                if (ret.msg !== '') {\n                    yee_1.Yee.alert(ret.msg);\n                }\n                return;\n            }\n            if (ret.data) {\n                if (yee_1.Yee.isArray(ret.data)) {\n                    for (let item of ret.data) {\n                        if (item.url) {\n                            addFile(item.url, item.orgName);\n                        }\n                    }\n                }\n                else if (ret.data.url) {\n                    addFile(ret.data.url, ret.data.orgName);\n                }\n            }\n            if (ret.msg) {\n                yee_1.Yee.msg(ret.msg);\n            }\n        });\n    }\n    upload() {\n        let setting = this.setting;\n        let that = this;\n        let allowExtensions = setting.extensions || '';\n        let files = this.field[0].files;\n        let type = setting.type || 'file';\n        let bindData = {};\n        if (setting.token) {\n            bindData.token = setting.token;\n        }\n        //携带参数\n        if (setting.param && yee_1.Yee.isObject(setting.param)) {\n            for (let key in setting.param) {\n                let val = setting.param[key];\n                bindData[key] = String(val);\n            }\n        }\n        if (type == 'image') {\n            bindData.catSizes = setting.catSizes || null;\n            bindData.catType = setting.catType || null;\n            bindData.strictSize = setting.strictSize || null;\n        }\n        let multiple = setting.multiple || false;\n        let fieldName = setting.fieldName || 'filedata';\n        let url = setting.url || '';\n        //检查文件类型\n        if (allowExtensions != '') {\n            for (let i = 0; i < files.length; i++) {\n                let info = YeeUpload.getFileInfo(files[i]);\n                let re = new RegExp(\"(^|\\\\s|,)\" + info.extension + \"($|\\\\s|,)\", \"ig\");\n                if ((re.exec(allowExtensions) === null || info.extension === '')) {\n                    yee_1.Yee.alert('对不起，只能上传 ' + allowExtensions + ' 类型的文件。');\n                    this.form.trigger('reset');\n                    return;\n                }\n            }\n        }\n        let result = this.qel.emit('uploadBefore', bindData, files);\n        if (result === false) {\n            // @ts-ignore\n            this.trigger('reset');\n            return;\n        }\n        let sendData = function (bindData) {\n            let xhr = new XMLHttpRequest();\n            //监听进度\n            xhr.upload.addEventListener(\"progress\", function (evt) {\n                let percent = Math.round(evt.loaded / evt.total * 100);\n                that.qel.emit('uploadProgress', [{ total: evt.total, loaded: evt.loaded, percent: percent }]);\n            }, false);\n            //监听完成\n            xhr.addEventListener(\"load\", function (evt) {\n                if (that.qel.emit('uploadLoad', evt, xhr) === false) {\n                    return false;\n                }\n                // @ts-ignore\n                let jsonText = evt.target.responseText;\n                try {\n                    let data = JSON.parse(jsonText);\n                    that.qel.emit('uploadComplete', data);\n                }\n                catch (e) {\n                    console.error(e);\n                    yee_1.Yee.alert('上传失败，服务器出现了些状况');\n                }\n            }, false);\n            let fd = new FormData();\n            for (let key in bindData) {\n                if (bindData[key] !== null) {\n                    fd.append(key, bindData[key]);\n                }\n            }\n            if (multiple) {\n                for (let i = 0; i < that.field[0].files.length; i++) {\n                    fd.append(fieldName + '[]', that.field[0].files[i]);\n                }\n            }\n            else {\n                fd.append(fieldName, that.field[0].files[0]);\n            }\n            xhr.open(\"POST\", url);\n            xhr.send(fd);\n        };\n        console.log(result, typeof (result), result.constructor.name);\n        if (typeof (result) == 'object' && result.constructor.name == 'Promise') {\n            result.then(sendData).catch(function (error) {\n                yee_1.Yee.alert(error);\n            });\n        }\n        else {\n            sendData(bindData);\n        }\n    }\n}\nexports.YeeUpload = YeeUpload;\n//# sourceMappingURL=yee-upload.js.map\n\n//# sourceURL=webpack:///./src/module/yee-upload.js?");

/***/ }),

/***/ "./src/module/yee-validate.js":
/*!************************************!*\
  !*** ./src/module/yee-validate.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yee_1 = __webpack_require__(/*! ../yee */ \"./src/yee.js\");\nclass YeeValidate {\n    constructor(form, setting) {\n        //++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n        this.fields = null;\n        this.form = null;\n        this.tempValOutput = null;\n        let qForm = this.form = $(form);\n        this.validateMode = setting.mode || 0;\n        let that = this;\n        qForm.on('submit', function (ev) {\n            if (ev.result === false) {\n                return false;\n            }\n            try {\n                return that.checkForm();\n            }\n            catch (e) {\n                return false;\n            }\n        });\n        qForm.on('update', function () {\n            that.getFields(true).each(function (index, element) {\n                let elem = $(element);\n                that.initField(elem);\n            });\n        });\n        // @ts-ignore\n        qForm.emit('update');\n    }\n    /**\n     * 查找 radio 和checkbox\n     * @param elem\n     */\n    static findRcBox(elem) {\n        if (!(elem.is(':radio') || elem.is(':checkbox'))) {\n            return null;\n        }\n        let name = elem.attr('name');\n        let form = elem.get(0).form ? $(elem.get(0).form) : elem.parents('form:first');\n        let rcBox = elem.is(':radio') ? form.find(':radio[name=\"' + name + '\"]') : form.find(':checkbox[name=\"' + name + '\"]');\n        return rcBox.length > 0 ? rcBox : null;\n    }\n    /**\n     * 生成随机数\n     * @param len\n     */\n    static randomString(len = 32) {\n        let chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678';\n        let maxPos = chars.length;\n        let run = '';\n        for (let i = 0; i < len; i++) {\n            run += chars.charAt(Math.floor(Math.random() * maxPos));\n        }\n        return run;\n    }\n    /**\n     * 字符格式化\n     * @param str\n     * @param args\n     */\n    static stringFormat(str, args) {\n        if (str == '' || str == null || args == void 0) {\n            return str;\n        }\n        if (!yee_1.Yee.isArray(args)) {\n            args = [args];\n        }\n        return String(str).replace(/\\{(\\d+)\\}/ig, function ($0, $1) {\n            let index = parseInt($1);\n            return args.length > index ? args[index] : '';\n        });\n    }\n    /**\n     * 获取提示标签\n     * @param elem\n     */\n    static getOutputLabel(elem) {\n        let label = null;\n        let id = elem.attr('id') || null;\n        let data = YeeValidate.getFieldData(elem);\n        let output = data.output;\n        if (!output) {\n            if (id === '' || id === null) {\n                output = null;\n            }\n            else {\n                output = '#' + id + '-validation';\n                elem.data('v@output', output);\n            }\n        }\n        if (output) {\n            label = $(String(output).replace(/(:|\\.)/g, '\\\\$1'));\n            if (label.length == 0) {\n                id = output.substr(1);\n                label = $('<span id=\"' + id + '\"></span>').appendTo(elem.parent());\n            }\n        }\n        else {\n            id = YeeValidate.randomString(20);\n            label = $('<span id=\"temp-validation-' + id + '\"></span>').appendTo(elem.parent());\n            elem.data('v@output', '#temp-validation-' + id);\n        }\n        return label;\n    }\n    /**\n     * 获取方法\n     * @param name\n     */\n    static getFunc(name) {\n        return YeeValidate.funcMap[name] || null;\n    }\n    /**\n     * 获取原名\n     * @param key\n     */\n    static getOirName(key) {\n        if (YeeValidate.shortName[key]) {\n            return YeeValidate.shortName[key];\n        }\n        return key;\n    }\n    /**\n     * 获取原规则\n     * @param rule\n     */\n    static getOirRules(rule) {\n        let tempRules = {};\n        //先加入required\n        for (let key in rule) {\n            let oir_key = YeeValidate.getOirName(key);\n            if (oir_key === 'required') {\n                tempRules[oir_key] = rule[key];\n                break;\n            }\n        }\n        //在加入其他\n        for (let key in rule) {\n            let oir_key = YeeValidate.getOirName(key);\n            if (oir_key !== 'required') {\n                tempRules[oir_key] = rule[key];\n            }\n        }\n        return tempRules;\n    }\n    /**\n     * 获取原消息\n     * @param rule\n     * @param messages\n     */\n    static getOirMessages(rule, messages) {\n        let tempMessages = {};\n        for (let key in messages) {\n            let oir_key = YeeValidate.getOirName(key);\n            tempMessages[oir_key] = messages[key];\n        }\n        for (let key in rule) {\n            let oir_key = YeeValidate.getOirName(key);\n            if (!tempMessages[oir_key] && YeeValidate.config['message_' + oir_key]) {\n                tempMessages[oir_key] = YeeValidate.config['message_' + oir_key];\n            }\n        }\n        return tempMessages;\n    }\n    /**\n     * 注册函数\n     * @param name\n     * @param fn\n     * @param defMsg\n     */\n    static regFunc(name, fn, defMsg = '') {\n        if (typeof (fn) === 'function') {\n            YeeValidate.funcMap[name] = fn;\n            if (typeof (defMsg) !== 'undefined') {\n                YeeValidate.config['message_' + name] = defMsg;\n            }\n        }\n        else if (typeof (fn) === 'string') {\n            YeeValidate.shortName[name] = fn;\n        }\n    }\n    /**\n     * 获取所有字段\n     * @param force\n     */\n    getFields(force = false) {\n        if (!force && this.fields != null) {\n            return this.fields;\n        }\n        this.fields = [];\n        for (let i = 0; i < this.form[0].elements.length; i++) {\n            this.fields.push(this.form[0].elements.item(i));\n        }\n        this.fields = $(this.fields).filter(':input[type!=submit][type!=reset][type!=button]').not(':disabled');\n        return this.fields;\n    }\n    initField(elem) {\n        //如果初始化了就不再初始化\n        if (elem.data('yee-validate-init')) {\n            return;\n        }\n        let that = this;\n        elem.data('yee-validate-init', true);\n        let data = YeeValidate.getFieldData(elem);\n        //显示默认\n        if (data.default) {\n            that.setDefault(elem, data.default);\n        }\n        //错误显示\n        if (data.error) {\n            that.setError(elem, data.error);\n        }\n        let input = function (ev) {\n            let data = YeeValidate.getFieldData(elem);\n            if (!data || data.rule == null || data['disabled']) {\n                return true;\n            }\n            data = that.checkElem(elem, data);\n            if (data.pass) {\n                elem.data('normalResult', true);\n                if (data.default) {\n                    elem.setDefault(data.default);\n                }\n                else {\n                    elem.setDefault();\n                }\n            }\n            else {\n                elem.data('normalResult', false);\n                if ('required' == data.errType) {\n                    return true;\n                }\n                let msg = data.message[data.errType] || '';\n                msg = YeeValidate.stringFormat(msg, data.rule[data.errType]);\n                elem.setError(msg);\n            }\n        };\n        if (elem.is(':checkbox') || elem.is(':radio')) {\n            let rcBox = YeeValidate.findRcBox(elem);\n            if (rcBox) {\n                rcBox.on('click', input);\n            }\n        }\n        else {\n            elem.on('input', input);\n        }\n    }\n    checkElem(elem, data) {\n        let val = elem.val();\n        let rule = data.rule;\n        if (elem.is(':checkbox') || elem.is(':radio')) {\n            let rcBox = YeeValidate.findRcBox(elem);\n            val = '';\n            if (rcBox) {\n                let vItem = [];\n                rcBox.filter(':checked').each(function (idx, em) {\n                    vItem.push($(em).val());\n                });\n                val = vItem.join(',');\n            }\n        }\n        for (let key in rule) {\n            let func = YeeValidate.getFunc(key);\n            if (!func || typeof (func) !== 'function') {\n                continue;\n            }\n            //验证非空====\n            if ((key === 'required') && rule[key] !== false && !func.call(elem, val, rule[key])) {\n                data.errType = key;\n                data.pass = false;\n            }\n            if (!data.pass && !rule['force'] && val === '') {\n                return data;\n            }\n            if (val === '') {\n                continue;\n            }\n            let args = rule[key];\n            if (!yee_1.Yee.isArray(args)) {\n                args = [args];\n            }\n            args = args.slice(0);\n            args.unshift(val);\n            if (!func.apply(elem, args)) {\n                data.errType = key;\n                data.pass = false;\n                return data;\n            }\n        }\n        return data;\n    }\n    checkForm(suspend = false) {\n        if (this.form.emit('beforeValid') === false) {\n            return false;\n        }\n        let that = this;\n        this.tempValOutput = {};\n        let errItems = [];\n        let inputs = this.getFields(true);\n        inputs.each(function (index, element) {\n            let elem = $(element);\n            let data = YeeValidate.getFieldData(elem);\n            // console.log(elem, data);\n            if (!data || data.rule == null || data.disabled) {\n                return;\n            }\n            data = that.checkElem(elem, data);\n            //如果远程检查错误\n            if (!data.pass) {\n                let msg = data.message[data.errType] || '';\n                msg = YeeValidate.stringFormat(msg, data.rule[data.errType]);\n                errItems.push({ elem: elem, msg: msg });\n            }\n            else {\n                // @ts-ignore\n                if (elem.instance('remote')) {\n                    if (elem.data('remoteResult') == false) {\n                        errItems.push({ elem: elem, msg: elem.data('remoteMessage') || '检查数据不符' });\n                    }\n                    else {\n                        that.setCorrect(elem, elem.data('remoteMessage') || '');\n                    }\n                }\n                else {\n                    that.setCorrect(elem, data.correct);\n                }\n            }\n            if (errItems.length > 0 && suspend === true) {\n                return false;\n            }\n        });\n        if (errItems.length > 0) {\n            that.displayAllError(errItems);\n        }\n        return errItems.length == 0;\n    }\n    setFocus(elem) {\n        try {\n            if (elem.is(':hidden')) {\n                elem.emit('focus');\n            }\n            else {\n                elem.trigger('focus');\n            }\n        }\n        catch (e) {\n            elem.emit('focus');\n        }\n    }\n    displayAllError(errItems) {\n        if (!errItems || errItems.length == 0) {\n            return;\n        }\n        let that = this;\n        let firstElem = errItems[0].elem;\n        if (that.validateMode == 0) {\n            setTimeout(function () {\n                that.setFocus(firstElem);\n            }, 10);\n        }\n        if (that.form.emit('displayAllError', errItems) === false) {\n            return;\n        }\n        if (that.validateMode == 1) {\n            let errors = [];\n            $(errItems).each(function () {\n                errors.push('* ' + this.msg);\n            });\n            yee_1.Yee.alert(errors.join('<br/>'), {\n                title: '错误提示',\n                icon: 7,\n                anim: 5\n            }, function (idx) {\n                that.setFocus(firstElem);\n                yee_1.Yee.close(idx);\n            });\n        }\n        if (that.validateMode == 2) {\n            let error = errItems[0].msg;\n            yee_1.Yee.alert(error, {\n                title: '错误提示',\n                icon: 7,\n                anim: 5\n            }, function (idx) {\n                that.setFocus(firstElem);\n                yee_1.Yee.close(idx);\n            });\n        }\n        $(errItems).each(function () {\n            that.setError(this.elem, this.msg);\n        });\n    }\n    setError(elem, msg) {\n        let data = YeeValidate.getFieldData(elem);\n        let output = data.output;\n        if (output !== '') {\n            if (this.tempValOutput[output] === void 0) {\n                this.tempValOutput[output] = msg;\n            }\n            else {\n                msg = this.tempValOutput[output];\n            }\n        }\n        elem.setError(msg, this.validateMode);\n    }\n    setDefault(elem, msg = null) {\n        elem.setDefault(msg);\n    }\n    /**\n     * 设置正确\n     * @param elem\n     * @param msg\n     */\n    setCorrect(elem, msg = null) {\n        let data = YeeValidate.getFieldData(elem);\n        let output = data.output;\n        if (output !== '' && this.tempValOutput[output] !== void 0) {\n            return;\n        }\n        elem.setCorrect(msg);\n    }\n}\n/**\n * 配置项\n */\nYeeValidate.config = {\n    field_error: 'yee-field-error',\n    field_correct: 'yee-field-correct',\n    field_default: 'yee-field-default',\n    input_error: 'yee-input-error',\n    input_correct: 'yee-input-correct',\n    input_default: 'yee-input-default'\n    //消息配置----------------------\n    ,\n    message_required: '必选字段',\n    message_email: '请输入正确格式的电子邮件',\n    message_url: '请输入正确格式的网址',\n    message_date: '请输入正确格式的日期',\n    message_number: '仅可输入数字',\n    message_integer: '只能输入整数',\n    message_equalto: '请再次输入相同的值',\n    message_maxlength: '请输入一个 长度最多是 {0} 的字符串',\n    message_minlength: '请输入一个 长度最少是 {0} 的字符串',\n    message_rangelength: '请输入 一个长度介于 {0} 和 {1} 之间的字符串',\n    message_range: '请输入一个介于 {0} 和 {1} 之间的值',\n    message_max: '请输入一个小于 {0} 的值',\n    message_min: '请输入一个大于 {0} 的值',\n    message_regex: '请输入正确格式字符',\n    message_mobile: '手机号码格式不正确',\n    message_idcard: '身份证号码格式不正确',\n    message_money: '仅可输入带有2位小数以内的数字及整数',\n    message_minsize: '至少需要选择 {0} 项',\n    message_maxsize: '至多可以选择 {0} 项',\n    message_rangesize: '请选择 {0} 到 {1} 项'\n};\n/**\n * 函数表\n */\nYeeValidate.funcMap = {\n    'required': function (val, bwo) {\n        if (this.is(':radio') || this.is(':checkbox')) {\n            let rcBox = YeeValidate.findRcBox(this);\n            if (rcBox == null) {\n                return false;\n            }\n            if (rcBox.filter(':checked').length == 0) {\n                return false;\n            }\n            return true;\n        }\n        if (val === null) {\n            return false;\n        }\n        if (bwo === 1) {\n            val = String(val).replace(/\\s+/, '');\n        }\n        if (bwo === 2) {\n            val = String(val).replace(/<[^>]+>/, '');\n            val = String(val).replace(/\\s+/, '');\n        }\n        return !(val === null || val === '' || val.length === 0);\n    },\n    'email': function (val) {\n        return /^([a-zA-Z0-9]+[-_.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[-_.]?)*[a-zA-Z0-9]+\\.[a-zA-Z]{2,8}([.][a-zA-Z]{2,8})?$/.test(val);\n    },\n    'number': function (val) {\n        return /^[-+]?((\\d+(\\.\\d*)?)|(\\.\\d+))$/.test(val);\n    },\n    'integer': function (val) {\n        return /^[-+]?\\d+$/.test(val);\n    },\n    'max': function (val, num, noeq) {\n        if (noeq === true)\n            return val < Number(num);\n        else\n            return val <= Number(num);\n    },\n    'min': function (val, num, noeq) {\n        if (noeq === true)\n            return val > Number(num);\n        else\n            return val >= Number(num);\n    },\n    'range': function (val, num1, num2, noeq) {\n        if (noeq === false) {\n            return val > Number(num1) && val < Number(num2);\n        }\n        else {\n            return val >= Number(num1) && val <= Number(num2);\n        }\n    },\n    'minlength': function (val, len) {\n        return val.length >= len;\n    },\n    'maxlength': function (val, len) {\n        return val.length <= len;\n    },\n    'rangelength': function (val, len1, len2) {\n        return val.length >= len1 && val.length <= len2;\n    },\n    'minsize': function (val, len) {\n        let length = 0;\n        if (this.is(':radio') || this.is(':checkbox')) {\n            let rcBox = YeeValidate.findRcBox(this);\n            if (rcBox !== null) {\n                length = rcBox.filter(':checked').length;\n            }\n        }\n        return length >= len;\n    },\n    'maxsize': function (val, len) {\n        let length = 0;\n        if (this.is(':radio') || this.is(':checkbox')) {\n            let rcBox = YeeValidate.findRcBox(this);\n            if (rcBox !== null) {\n                length = rcBox.filter(':checked').length;\n            }\n        }\n        return length <= len;\n    },\n    'rangesize': function (val, len1, len2) {\n        let length = 0;\n        if (this.is(':radio') || this.is(':checkbox')) {\n            let rcBox = YeeValidate.findRcBox(this);\n            if (rcBox !== null) {\n                length = rcBox.filter(':checked').length;\n            }\n        }\n        return length >= len1 && length <= len2;\n    },\n    'money': function (val) {\n        return /^[-]?\\d+[\\.]\\d{1,2}$/.test(val) || /^[-]?\\d+$/.test(val);\n    },\n    'date': function (val) {\n        return /^\\d{4}-\\d{1,2}-\\d{1,2}(\\s\\d{1,2}(:\\d{1,2}(:\\d{1,2})?)?)?$/.test(val);\n    },\n    'url': function (val, h) {\n        if (h && val == '#') {\n            return true;\n        }\n        return /^(http|https|ftp):\\/\\/\\w+\\.\\w+/i.test(val);\n    },\n    'equal': function (val, str) {\n        return String(val) == String(str);\n    },\n    'notequal': function (val, str) {\n        return String(val) != String(str);\n    },\n    'equalto': function (val, str) {\n        return val == $(str).val();\n    },\n    'mobile': function (val) {\n        return /^1[3456789]\\d{9}$/.test(val);\n    },\n    'idcard': function (val) {\n        return /^[1-9]\\d{5}(19|20)\\d{2}(((0[13578]|1[02])([0-2]\\d|30|31))|((0[469]|11)([0-2]\\d|30))|(02[0-2][0-9]))\\d{3}(\\d|X|x)$/.test(val);\n    },\n    'regex': function (val, str) {\n        let re = new RegExp(str).exec(val);\n        return (re && (re.index === 0) && (re[0].length === val.length));\n    }\n};\n/**\n * 简写表\n */\nYeeValidate.shortName = {\n    'num': 'number',\n    'r': 'required',\n    'int': 'integer',\n    'digits': 'integer',\n    'minlen': 'minlength',\n    'maxlen': 'maxlength',\n    'rangelen': 'rangelength',\n    'eqto': 'equalto',\n    'eq': 'equal',\n    'neq': 'notequal'\n};\n/**\n * 获取字段验证数据\n * @param elem\n */\nYeeValidate.getFieldData = function (elem) {\n    let data = yee_1.Yee.getElemData(elem, 'v');\n    //console.log(data);\n    data['disabled'] = data['disabled'] === true || data['disabled'] === 'true' || data['disabled'] === 1;\n    data['message'] = data['message'] || {};\n    let ret = {\n        rule: null,\n        message: null,\n        default: data['default'] || '',\n        correct: data['correct'] || '',\n        error: data['error'] || '',\n        disabled: data['disabled'] || '',\n        output: data['output'] || '',\n        errType: null,\n        pass: true\n    };\n    if (data['rule']) {\n        ret.rule = YeeValidate.getOirRules(data['rule']);\n        ret.message = YeeValidate.getOirMessages(data['rule'], data['message']);\n    }\n    return ret;\n};\nexports.YeeValidate = YeeValidate;\n//显示错误\n$.fn.extend({\n    setError: function (msg = null, mode = 0) {\n        this.each(function (_, el) {\n            let elem = $(el);\n            if (!elem.is(':input')) {\n                return;\n            }\n            let config = YeeValidate.config;\n            let ckBoxs = YeeValidate.findRcBox(elem) || elem;\n            ckBoxs.removeClass(config.input_correct + ' ' + config.input_default).addClass(config.input_error);\n            if (mode == 1 || mode == 2) {\n                return;\n            }\n            if (msg) {\n                let label = YeeValidate.getOutputLabel(elem);\n                label.removeClass(config.field_correct + ' ' + config.field_default).addClass(config.field_error);\n                label.show();\n                label.html(msg);\n            }\n        });\n    },\n    setDefault: function (msg = null) {\n        this.each(function (_, el) {\n            let elem = $(el);\n            if (!elem.is(':input')) {\n                return;\n            }\n            let config = YeeValidate.config;\n            let ckBoxs = YeeValidate.findRcBox(elem) || elem;\n            ckBoxs.removeClass(config.input_error + ' ' + config.input_correct).addClass(config.input_default);\n            let label = YeeValidate.getOutputLabel(elem);\n            label.removeClass(config.field_error + ' ' + config.field_correct).addClass(config.field_default);\n            if (msg) {\n                label.html(msg);\n                label.show();\n            }\n            else {\n                label.hide();\n            }\n        });\n    },\n    setCorrect: function (msg = null) {\n        this.each(function (idx, el) {\n            let elem = $(el);\n            if (!elem.is(':input')) {\n                return;\n            }\n            let config = YeeValidate.config;\n            let ckBoxs = YeeValidate.findRcBox(elem) || elem;\n            ckBoxs.removeClass(config.input_error + ' ' + config.input_default).addClass(config.input_correct);\n            if (msg) {\n                let label = YeeValidate.getOutputLabel(elem);\n                label.show();\n                label.removeClass(config.field_error + ' ' + config.field_default).addClass(config.field_correct);\n                label.html(msg);\n            }\n            else {\n                // @ts-ignore\n                elem.setDefault();\n            }\n        });\n    },\n    checkForm: function () {\n        let form = $(this.get(0));\n        if (!form.is('form')) {\n            return true;\n        }\n        // @ts-ignore\n        let instance = form.instance('validate');\n        if (instance) {\n            return instance.checkForm();\n        }\n        return true;\n    },\n    showError: function (formError) {\n        let form = $(this[0]);\n        if (!form.is('form')) {\n            return;\n        }\n        let errItems = [];\n        let firstError = null;\n        for (let name in formError) {\n            if (firstError == null) {\n                firstError = formError[name];\n            }\n            let elem = form.find(\":input[name='\" + name + \"']\");\n            if (elem.length > 0) {\n                let msg = formError[name];\n                errItems.push({ elem: elem, msg: msg });\n            }\n        }\n        if (errItems.length == 0 && firstError) {\n            yee_1.Yee.alert(firstError, {\n                title: '错误提示',\n                icon: 7,\n                anim: 6\n            });\n        }\n        else {\n            // @ts-ignore\n            let instance = form.instance('validate');\n            if (instance) {\n                instance.displayAllError(errItems);\n            }\n        }\n    }\n});\n//# sourceMappingURL=yee-validate.js.map\n\n//# sourceURL=webpack:///./src/module/yee-validate.js?");

/***/ }),

/***/ "./src/module/yee-xh-editor.js":
/*!*************************************!*\
  !*** ./src/module/yee-xh-editor.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yee_1 = __webpack_require__(/*! ../yee */ \"./src/yee.js\");\nclass YeeXhEditor {\n    constructor(elem, setting) {\n        if (!elem.style.width) {\n            elem.style.width = '100%';\n        }\n        if (!elem.style.height) {\n            elem.style.height = '180px';\n        }\n        yee_1.Yee.seq(['xheditor', 'xheditor-lang']).then(function () {\n            //@ts-ignore\n            $(elem).xheditor(setting);\n        });\n    }\n}\nexports.YeeXhEditor = YeeXhEditor;\n//# sourceMappingURL=yee-xh-editor.js.map\n\n//# sourceURL=webpack:///./src/module/yee-xh-editor.js?");

/***/ }),

/***/ "./src/yee.js":
/*!********************!*\
  !*** ./src/yee.js ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst yee_ajax_1 = __webpack_require__(/*! ./module/yee-ajax */ \"./src/module/yee-ajax.js\");\nconst yee_confirm_1 = __webpack_require__(/*! ./module/yee-confirm */ \"./src/module/yee-confirm.js\");\nconst yee_validate_1 = __webpack_require__(/*! ./module/yee-validate */ \"./src/module/yee-validate.js\");\nconst yee_remote_1 = __webpack_require__(/*! ./module/yee-remote */ \"./src/module/yee-remote.js\");\nconst yee_upload_1 = __webpack_require__(/*! ./module/yee-upload */ \"./src/module/yee-upload.js\");\nconst yee_number_1 = __webpack_require__(/*! ./module/yee-number */ \"./src/module/yee-number.js\");\nconst yee_picker_1 = __webpack_require__(/*! ./module/yee-picker */ \"./src/module/yee-picker.js\");\nconst yee_event_1 = __webpack_require__(/*! ./module/yee-event */ \"./src/module/yee-event.js\");\nconst yee_dialog_1 = __webpack_require__(/*! ./module/yee-dialog */ \"./src/module/yee-dialog.js\");\nconst yee_linkage_1 = __webpack_require__(/*! ./module/yee-linkage */ \"./src/module/yee-linkage.js\");\nconst yee_datatable_1 = __webpack_require__(/*! ./module/yee-datatable */ \"./src/module/yee-datatable.js\");\nconst yee_pagebar_1 = __webpack_require__(/*! ./module/yee-pagebar */ \"./src/module/yee-pagebar.js\");\nconst yee_search_form_1 = __webpack_require__(/*! ./module/yee-search-form */ \"./src/module/yee-search-form.js\");\nconst yee_select_dialog_1 = __webpack_require__(/*! ./module/yee-select-dialog */ \"./src/module/yee-select-dialog.js\");\nconst yee_container_1 = __webpack_require__(/*! ./module/yee-container */ \"./src/module/yee-container.js\");\nconst yee_form_tab_1 = __webpack_require__(/*! ./module/yee-form-tab */ \"./src/module/yee-form-tab.js\");\nconst yee_dynamic_1 = __webpack_require__(/*! ./module/yee-dynamic */ \"./src/module/yee-dynamic.js\");\nconst yee_xh_editor_1 = __webpack_require__(/*! ./module/yee-xh-editor */ \"./src/module/yee-xh-editor.js\");\nconst yee_template_1 = __webpack_require__(/*! ./module/yee-template */ \"./src/module/yee-template.js\");\nconst yee_delay_select_1 = __webpack_require__(/*! ./module/yee-delay-select */ \"./src/module/yee-delay-select.js\");\nconst yee_choice_1 = __webpack_require__(/*! ./module/yee-choice */ \"./src/module/yee-choice.js\");\nconst yee_multiple_dialog_1 = __webpack_require__(/*! ./module/yee-multiple-dialog */ \"./src/module/yee-multiple-dialog.js\");\nconst yee_list_tab_1 = __webpack_require__(/*! ./module/yee-list-tab */ \"./src/module/yee-list-tab.js\");\nconst yee_tinymce_1 = __webpack_require__(/*! ./module/yee-tinymce */ \"./src/module/yee-tinymce.js\");\nconst yee_list_1 = __webpack_require__(/*! ./module/yee-list */ \"./src/module/yee-list.js\");\nconst yee_qiniu_1 = __webpack_require__(/*! ./module/yee-qiniu */ \"./src/module/yee-qiniu.js\");\nclass Yee {\n    /**\n     * 加载文件\n     * @param url\n     */\n    static loader(url) {\n        if (Yee._loadedFiles[url]) {\n            return Yee._loadedFiles[url];\n        }\n        let deferred = $.Deferred();\n        Yee._loadedFiles[url] = deferred;\n        let type = 'js';\n        let match = url.match(/^css\\!(.*)$/i);\n        if (match) {\n            url = match[1];\n            type = 'css';\n        }\n        if (!/^\\//.test(url)) {\n            url = Yee.baseUrl + url;\n        }\n        //加载css\n        if (type == 'css') {\n            let heads = document.getElementsByTagName('head');\n            if (heads.length > 0) {\n                let head = heads[0];\n                let link = document.createElement('link');\n                link.href = url;\n                link.setAttribute('rel', 'stylesheet');\n                link.setAttribute('type', 'text/css');\n                head.appendChild(link);\n            }\n            deferred.resolve(url);\n            return deferred;\n        }\n        //加载js\n        let script = document.createElement(\"script\");\n        script.type = \"text/javascript\";\n        // @ts-ignore\n        if (script.readyState) {\n            // @ts-ignore\n            script.onreadystatechange = function () {\n                // @ts-ignore\n                if (script.readyState == \"loaded\" || script.readyState == \"complete\") {\n                    // @ts-ignore\n                    script.onreadystatechange = null;\n                    deferred.resolve(url);\n                }\n            };\n        }\n        else {\n            script.onload = function () {\n                deferred.resolve(url);\n            };\n            script.onerror = function () {\n                deferred.resolve(url);\n            };\n        }\n        try {\n            script.src = url;\n            let head = document.getElementsByTagName('head');\n            if (head.length > 0) {\n                head[0].appendChild(script);\n            }\n            else {\n                document.body.appendChild(script);\n            }\n        }\n        catch (e) {\n            deferred.resolve(url);\n        }\n        return deferred;\n    }\n    /**\n     * 加载依赖\n     * @param modules\n     * @param paths\n     */\n    static use(modules, paths = null) {\n        if (Yee._config == null) {\n            return;\n        }\n        let deferred = $.Deferred();\n        if (modules === null) {\n            return deferred.resolve();\n        }\n        if (typeof modules == 'string' && modules != '') {\n            modules = [modules];\n        }\n        if (!(modules instanceof Array) || modules.length == 0) {\n            return deferred.resolve();\n        }\n        let loadModule = function () {\n            //加载模块\n            let loadMaps = [];\n            for (let i = 0; i < modules.length; i++) {\n                let module = modules[i];\n                if (typeof module !== 'string' || module == '') {\n                    continue;\n                }\n                let file = module;\n                if (!/^css\\!/i.test(module) && !/\\.js$/i.test(module)) {\n                    //按指定路径\n                    if (paths && paths[module]) {\n                        file = paths[module];\n                    }\n                    //按配置文件\n                    else if (Yee._config.modules[module] !== void 0) {\n                        file = Yee._config.modules[module];\n                    }\n                    //默认查找\n                    else {\n                        if (/^yee-/.test(module)) {\n                            file = module.replace(/^yee-/, 'module/yee-') + '.js';\n                        }\n                        else {\n                            console.error('不存在的模块：' + module);\n                        }\n                    }\n                }\n                if (file === null || file === '') {\n                    continue;\n                }\n                let addFile = function (item) {\n                    if (Yee._loadedFiles[item]) {\n                        let promise = Yee._loadedFiles[item];\n                        loadMaps.push(promise);\n                    }\n                    else {\n                        let promise = Yee._loadedFiles[item] = Yee.loader(item);\n                        loadMaps.push(promise);\n                    }\n                };\n                //如果是多个文件\n                if (Yee.isArray(file)) {\n                    for (let item of file) {\n                        addFile(item);\n                    }\n                }\n                else {\n                    addFile(file);\n                }\n            }\n            if (loadMaps.length == 0) {\n                deferred.resolve();\n                return deferred;\n            }\n            $.when.apply($, loadMaps).then(function () {\n                deferred.resolve();\n            });\n        };\n        //遍历依赖==\n        let dependModule = [];\n        let dependSet = {};\n        for (let i = 0; i < modules.length; i++) {\n            let module = modules[i];\n            if (Yee._config.depends[module]) {\n                let depends = Yee._config.depends[module];\n                if (typeof depends == 'function') {\n                    depends = depends();\n                }\n                if (typeof depends == 'string') {\n                    depends = [depends];\n                }\n                if (depends instanceof Array) {\n                    for (let j = 0; j < depends.length; j++) {\n                        let temp = depends[j];\n                        if (typeof temp !== 'string' || temp == '' || dependSet[temp]) {\n                            continue;\n                        }\n                        dependSet[temp] = true;\n                        dependModule.push(temp);\n                    }\n                }\n            }\n        }\n        if (dependModule.length > 0) {\n            Yee.use(dependModule).then(function () {\n                loadModule();\n            });\n        }\n        else {\n            loadModule();\n        }\n        return deferred;\n    }\n    //顺序加载\n    static seq(modules, paths = null) {\n        let deferred = $.Deferred();\n        if (modules === null) {\n            return deferred.resolve();\n        }\n        if (typeof modules == 'string' && modules != '') {\n            modules = [modules];\n        }\n        if (!(modules instanceof Array) || modules.length == 0) {\n            return deferred.resolve();\n        }\n        let index = 0;\n        let next = function () {\n            if (index >= modules.length) {\n                return deferred.resolve();\n            }\n            let module = modules[index];\n            Yee.use(module, paths).then(next);\n            index++;\n        };\n        next();\n        return deferred;\n    }\n    /**\n     * 解析url\n     */\n    static parseUrl(url = '') {\n        let hash = '';\n        let query = url;\n        let path = query;\n        let hIdx = query.search(/#/);\n        if (hIdx >= 0) {\n            query = query.substring(0, hIdx);\n            hash = query.substring(hIdx);\n        }\n        query = query.replace(/&+$/, '');\n        let param = {};\n        let idx = query.search(/\\?/);\n        if (idx >= 0) {\n            path = query.substring(0, idx);\n            let str = query.substring(idx);\n            let m = str.match(/(\\w+)(=([^&]*))?/g);\n            if (m) {\n                $(m).each(function (index, str) {\n                    let ma = String(str).match(/^(\\w+)(?:=([^&]*))?$/);\n                    if (ma) {\n                        let val = ma[2] || '';\n                        param[ma[1]] = decodeURIComponent(val.replace(/\\+/g, '%20'));\n                    }\n                });\n            }\n        }\n        return { path: path, param: param, hash: hash };\n    }\n    /**\n     * 转成url\n     * @param info\n     */\n    static toUrl(info = {}) {\n        let path = info.path || window.location.pathname;\n        let param = info.param || {};\n        let qurey = [];\n        for (let key in param) {\n            if (param[key] == null || param[key] == '') {\n                qurey.push(key + '=');\n                continue;\n            }\n            let values = (param[key] + '').split(' ');\n            if (values.length == 1) {\n                qurey.push(key + '=' + encodeURIComponent(param[key]));\n                continue;\n            }\n            for (let i = 0; i < values.length; i++) {\n                values[i] = encodeURIComponent(values[i]);\n            }\n            qurey.push(key + '=' + values.join(\"%20\"));\n        }\n        if (qurey.length == 0) {\n            return path + (info.hash || '');\n        }\n        return path + '?' + qurey.join('&') + (info.hash || '');\n    }\n    static url(base = '', param = {}, hash = null) {\n        let info = Yee.parseUrl(base);\n        for (let key in param) {\n            info.param[key] = param[key];\n        }\n        if (hash) {\n            info.hash = hash;\n        }\n        return Yee.toUrl(info);\n    }\n    /**\n     * 获取数据\n     * @param elem\n     * @param prefix\n     */\n    static getElemData(elem, prefix) {\n        prefix = prefix.toLowerCase().replace(/[-](\\w)/g, function (_, word) {\n            return word.toUpperCase();\n        });\n        let data = $.extend({}, $(elem).data() || {});\n        for (let key in data) {\n            let temp = key.split('@');\n            if (temp.length == 2) {\n                if (temp.length == 2 && temp[0] == prefix) {\n                    data[temp[1]] = data[key];\n                }\n                delete data[key];\n            }\n        }\n        //console.log(plugName, data);\n        return data;\n    }\n    /**\n     * 扩展模块\n     * @param selector\n     * @param name\n     * @param module\n     */\n    static extend(name, selector, module, prefix = null) {\n        let items = $.trim(selector).split(',');\n        for (let i = 0; i < items.length; i++) {\n            items[i] += \"[yee-module~='\" + name + \"']\";\n        }\n        let plug = 'yee_' + name.replace('-', '_').toLowerCase();\n        Yee._extendModules[name] = items.join(',');\n        if (prefix == null || prefix == '') {\n            prefix = name;\n        }\n        $.fn[plug] = function (options) {\n            options = options || {};\n            this.each(function (_, elem) {\n                let data = Yee.getElemData(elem, prefix);\n                data = $.extend({}, options, data);\n                elem.yee_modules = elem.yee_modules || {};\n                // 加载并创建模块对象\n                if (elem.yee_modules[name] === void 0) {\n                    elem.yee_modules[name] = true;\n                    elem.yee_modules[name] = new module(this, data);\n                }\n            });\n            return this;\n        };\n    }\n    /**\n     * 更新\n     * @param base\n     */\n    static update(base = null, force = false) {\n        let deferred = $.Deferred();\n        base = base || document.body;\n        if (force) {\n            $(base).find('[yee-template]').removeAttr('yee-template');\n        }\n        let yeeItems = $('*[yee-module]', base);\n        let tempMaps = {};\n        let readyToLoad = []; //待加载的模块\n        //扫描所有节点--\n        yeeItems.each(function () {\n            let items = String($(this).attr('yee-module') || '').split(' ');\n            for (let i = 0; i < items.length; i++) {\n                let name = items[i];\n                if (name === '') {\n                    continue;\n                }\n                if (tempMaps[name] || Yee._extendModules[name]) {\n                    continue;\n                }\n                let yee_src = $(this).attr('yee-src') || null;\n                tempMaps[name] = true;\n                readyToLoad.push({ module: 'yee-' + name, file: yee_src });\n            }\n        });\n        let update = function () {\n            let items = [];\n            for (let name in Yee._extendModules) {\n                let selector = Yee._extendModules[name];\n                let plug = 'yee_' + name.replace('-', '_').toLowerCase();\n                let el = $(selector, base);\n                if (el.length > 0 && typeof (el[plug]) == 'function') {\n                    items.push({ el: el, plug: plug });\n                }\n            }\n            for (let i = 0; i < items.length; i++) {\n                let el = items[i].el;\n                let plug = items[i].plug;\n                el.each(function (_, elem) {\n                    let sel = $(elem);\n                    if (!force && (sel.is('[yee-template]') || sel.parents('[yee-template]').length > 0)) {\n                        return;\n                    }\n                    sel[plug]();\n                    sel.removeAttr('yee-module');\n                });\n            }\n            deferred.resolve();\n        };\n        if (readyToLoad.length == 0) {\n            update();\n            return deferred;\n        }\n        let loadModules = [];\n        let paths = {};\n        for (let i = 0; i < readyToLoad.length; i++) {\n            let item = readyToLoad[i];\n            if (item.file) {\n                paths[item.module] = item.file;\n            }\n            loadModules.push(item.module);\n        }\n        Yee.use(loadModules, paths).then(function () {\n            update();\n        });\n        return deferred;\n    }\n    /**\n     * 获取模块实例\n     * @param elem\n     * @param name\n     */\n    static instance(elem, name = null) {\n        let qel = $(elem);\n        if (qel.length == 0) {\n            return null;\n        }\n        let modules = qel.get(0)['yee_modules'] || null;\n        if (modules == null) {\n            return null;\n        }\n        if (name == null || name == '') {\n            for (let key in modules) {\n                return modules[key];\n            }\n            return null;\n        }\n        return modules[name] === void 0 ? null : modules[name];\n    }\n    //需要先加载的\n    static preload() {\n        let deferred = $.Deferred();\n        Yee.loader(Yee._configFile).then(function () {\n            //如果没有配置文件\n            if (Yee._config == null) {\n                Yee._config = { version: null, preloading: {}, modules: {}, depends: {}, dataFormat: null };\n            }\n            let config = Yee._config;\n            let loadMaps = [];\n            for (let name in config.preloading) {\n                let file = config.preloading[name];\n                if (file == null || file == '') {\n                    continue;\n                }\n                if (Yee._loadedFiles[file]) {\n                    let promise = Yee._loadedFiles[file];\n                    loadMaps.push(promise);\n                    continue;\n                }\n                let promise = Yee._loadedFiles[file] = Yee.loader(file);\n                loadMaps.push(promise);\n            }\n            if (loadMaps.length == 0) {\n                deferred.resolve();\n                return deferred;\n            }\n            $.when.apply($, loadMaps).then(function () {\n                deferred.resolve();\n            });\n        });\n        return deferred;\n    }\n    static config(data) {\n        if (data === void 0) {\n            return Yee._config;\n        }\n        if (Yee._config == null) {\n            Yee._config = { version: null, preloading: {}, modules: {}, depends: {}, dataFormat: null };\n        }\n        Yee._config = $.extend(Yee._config, data);\n    }\n    /**\n     * 初始化\n     */\n    static init() {\n        let render = function () {\n            Yee.preload().then(function () {\n                //如果已经渲染就不再渲染\n                if (Yee.renderState > 0) {\n                    return;\n                }\n                Yee.renderState = 1; //开启渲染\n                Yee.update().then(function () {\n                    Yee.renderState = 2; //渲染结束\n                    if (Yee._readyCallback.length > 0) {\n                        for (let i = 0; i < Yee._readyCallback.length; i++) {\n                            if (typeof (Yee._readyCallback[i]) == 'function') {\n                                Yee._readyCallback[i]();\n                            }\n                        }\n                    }\n                });\n            });\n        };\n        let css = '[yee-module]{pointer-events: none;}';\n        let IE = navigator.userAgent.match(/MSIE\\s*(\\d+)/i);\n        if (IE && parseInt(IE[1]) <= 10) {\n            css = '[yee-module]{display: none;}';\n        }\n        let style = document.createElement(\"style\");\n        style.setAttribute(\"type\", \"text/css\");\n        if (style['styleSheet']) { // IE\n            style['styleSheet'].cssText = css;\n        }\n        else { // w3c\n            let cssText = document.createTextNode(css);\n            style.appendChild(cssText);\n        }\n        let head = document.getElementsByTagName('head');\n        if (head.length > 0) {\n            head[0].appendChild(style);\n        }\n        else {\n            document.documentElement.appendChild(style);\n        }\n        window.addEventListener('DOMContentLoaded', function () {\n            render();\n        }, false);\n        window.addEventListener('load', render, false);\n    }\n    // 接管弹出层++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n    static alert(msg, option = null, func = null) {\n        if (window.top !== window && window.top['Yee']) {\n            return window.top['Yee'].alert(msg, option, func);\n        }\n        if (Yee.isMobile) {\n            let data = { content: msg, btn: '确定' };\n            if (typeof func == 'function') {\n                data['yes'] = func;\n            }\n            return layer.open(data);\n        }\n        return layer.alert(msg, option, func);\n    }\n    static confirm(msg, option, yesFunc = null, noFunc = null) {\n        if (window.top !== window && window.top['Yee']) {\n            return window.top['Yee'].confirm(msg, option, yesFunc, noFunc);\n        }\n        if (Yee.isMobile) {\n            let data = { content: msg, btn: ['确认', '取消'] };\n            if (typeof option == 'function') {\n                noFunc = yesFunc;\n                yesFunc = option;\n            }\n            if (typeof yesFunc == 'function') {\n                data['yes'] = yesFunc;\n            }\n            if (typeof noFunc == 'function') {\n                data['no'] = noFunc;\n            }\n            return layer.open(data);\n        }\n        return layer.confirm(msg, option, yesFunc, noFunc);\n    }\n    static msg(msg, option = null) {\n        if (window.top !== window && window.top['Yee']) {\n            return window.top['Yee'].msg(msg, option);\n        }\n        if (Yee.isMobile) {\n            let data = { content: msg, skin: 'msg' };\n            if (option && option.time) {\n                data['time'] = Math.round(option.time / 1000);\n            }\n            else {\n                data['time'] = 1;\n            }\n            return layer.open(data);\n        }\n        if (option && !option['time']) {\n            option['time'] = 1000;\n        }\n        else if (!option) {\n            option = { 'time': 1000 };\n        }\n        return layer.msg(msg, option);\n    }\n    static load(type, option = null) {\n        if (window.top !== window && window.top['Yee']) {\n            return window.top['Yee'].load(type, option);\n        }\n        if (Yee.isMobile) {\n            return layer.open({ type: 2 });\n        }\n        return layer.load(type, option);\n    }\n    static close(index) {\n        if (window.top !== window && window.top['Yee']) {\n            return window.top['Yee'].close(index);\n        }\n        return layer.close(index);\n    }\n    static closeAll(type = null) {\n        if (window.top !== window && window.top['Yee']) {\n            return window.top['Yee'].closeAll(type);\n        }\n        if (Yee.isMobile) {\n            return layer.closeAll();\n        }\n        return layer.closeAll(type);\n    }\n    static dialog(url, title = '网页对话框', setting = {}, callWindow = window, qel = null) {\n        title = title === null ? '网页对话框' : title;\n        setting = setting === null ? {} : setting;\n        callWindow = callWindow === null ? window : callWindow;\n        if (window.top !== window && window.top['Yee']) {\n            return window.top['Yee'].dialog(url, title, setting, window, qel);\n        }\n        return yee_dialog_1.YeeDialog.open(url, title, setting, callWindow, qel);\n    }\n    static emit(event, ...data) {\n        return Yee.event.emit(event, ...data);\n    }\n    static on(event, func) {\n        return Yee.event.on(event, func);\n    }\n    static one(event, func) {\n        return Yee.event.one(event, func);\n    }\n    static off(event, func = null) {\n        return Yee.event.off(event, func);\n    }\n    static readyDialog(func) {\n        yee_dialog_1.YeeDialog.dialogHandle().then(func);\n    }\n    /**\n     * 判断数组\n     * @param obj\n     */\n    static isArray(obj) {\n        if (Array.isArray) {\n            return Array.isArray(obj);\n        }\n        else {\n            return Object.prototype.toString.call(obj) === '[object Array]';\n        }\n    }\n    /**\n     * 判断是对象\n     * @param val\n     */\n    static isObject(val) {\n        return val != null && typeof val === 'object' && Array.isArray(val) === false;\n    }\n    static randomString(len = 32) {\n        let chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678';\n        let maxPos = chars.length;\n        let run = '';\n        for (let i = 0; i < len; i++) {\n            run += chars.charAt(Math.floor(Math.random() * maxPos));\n        }\n        return run;\n    }\n    static getTemplate(tplId) {\n        for (let temp in yee_template_1.YeeTemplate.instance) {\n            if (temp == tplId) {\n                return yee_template_1.YeeTemplate.instance[temp];\n            }\n        }\n        return null;\n    }\n    static createImage(url, width, height) {\n        return yee_upload_1.YeeUpload.createImage(url, width, height);\n    }\n}\nYee.version = '1.0.0';\nYee._extendModules = {};\nYee._readyCallback = [];\nYee._config = null;\nYee._loadedFiles = {};\nYee._configFile = 'yee.config.js?r=' + new Date().getTime();\n//渲染状态\nYee.renderState = 0;\nYee.baseUrl = (function () {\n    let scripts = document.getElementsByTagName('script'), script = scripts[scripts.length - 1];\n    let src = script.hasAttribute ? script.src : script.getAttribute('src');\n    let m = src.match(/^(.*)yee(-\\d+(\\.\\d+)*)?(\\.min)?\\.js/i);\n    return m ? m[1] : '';\n})();\nYee.event = new yee_event_1.YeeEvent();\nYee.isMobile = /Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent);\n/**\n * 准备好后执行\n * @param fn\n */\nYee.ready = function (fn) {\n    if (Yee.renderState == 2) {\n        return fn();\n    }\n    Yee._readyCallback.push(fn);\n};\nexports.Yee = Yee;\nlet jqInit = $.fn.ready; //覆盖jq 的 $(function);\n$.fn.extend({\n    ready: function (fn) {\n        if (Yee.renderState == 2) {\n            return jqInit.call(this, fn);\n        }\n        Yee.ready(fn);\n    },\n    emit: function (...args) {\n        let event = args[0] || null;\n        args.shift();\n        return $(this).triggerHandler(event, args);\n    },\n    instance: function (name) {\n        return Yee.instance(this[0], name);\n    }\n});\n//*********************************************************************************\n//注册插件\nYee.extend('template', '*', yee_template_1.YeeTemplate);\nYee.extend('confirm', ':input,button,form,a', yee_confirm_1.YeeConfirm);\nYee.extend('validate', 'form', yee_validate_1.YeeValidate);\nYee.extend('remote', ':input', yee_remote_1.YeeRemote);\nYee.extend('upload', 'input,a', yee_upload_1.YeeUpload);\nYee.extend('qiniu', 'input,a', yee_qiniu_1.YeeQiniu);\nYee.extend('number', ':input', yee_number_1.YeeNumber);\nYee.extend('integer', ':input', yee_number_1.YeeInteger);\nYee.extend('picker', ':input', yee_picker_1.YeePicker);\nYee.extend('dialog', 'a,button,input', yee_dialog_1.YeeDialog);\nYee.extend('linkage', ':input', yee_linkage_1.YeeLinkage);\nYee.extend('select-dialog', ':input,a', yee_select_dialog_1.YeeSelectDialog);\nYee.extend('multiple-dialog', ':input', yee_multiple_dialog_1.YeeMultipleDialog);\nYee.extend('pagebar', 'div', yee_pagebar_1.YeePagebar);\nYee.extend('search-form', 'form', yee_search_form_1.YeeSearchForm);\nYee.extend('datatable', 'table', yee_datatable_1.YeeDatatable);\nYee.extend('list', '*', yee_list_1.YeeList);\nYee.extend('container', 'div', yee_container_1.YeeContainer);\nYee.extend('form-tab', 'ul', yee_form_tab_1.YeeFormTab);\nYee.extend('list-tab', 'ul', yee_list_tab_1.YeeListTab);\nYee.extend('dynamic', ':input', yee_dynamic_1.YeeDynamic);\nYee.extend('xh-editor', ':input', yee_xh_editor_1.YeeXhEditor);\nYee.extend('tinymce', ':input', yee_tinymce_1.YeeTinymce);\nYee.extend('choice', 'a', yee_choice_1.YeeChoice);\nYee.extend('ajax', 'a,form,:input', yee_ajax_1.YeeAjax);\nYee.extend('delay-select', 'select', yee_delay_select_1.YeeDelaySelect);\nYee.extend('new-tab', 'a', function (elem) {\n    $(elem).on('click', function () {\n        if (window != window.top && typeof (window.top.newpage) == 'function') {\n            let href = $(this).attr('href');\n            window.top.newpage(href);\n            return false;\n        }\n    });\n});\nYee.init();\nwindow['Yee'] = Yee;\n//# sourceMappingURL=yee.js.map\n\n//# sourceURL=webpack:///./src/yee.js?");

/***/ })

/******/ });